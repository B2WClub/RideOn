(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var yp={exports:{}},Yl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function eS(){if(Vv)return Yl;Vv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:u}}return Yl.Fragment=e,Yl.jsx=n,Yl.jsxs=n,Yl}var Pv;function tS(){return Pv||(Pv=1,yp.exports=eS()),yp.exports}var v=tS(),vp={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function nS(){if(Lv)return Ne;Lv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.iterator;function T(I){return I===null||typeof I!="object"?null:(I=S&&I[S]||I["@@iterator"],typeof I=="function"?I:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,W={};function B(I,J,te){this.props=I,this.context=J,this.refs=W,this.updater=te||N}B.prototype.isReactComponent={},B.prototype.setState=function(I,J){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,J,"setState")},B.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function q(){}q.prototype=B.prototype;function Z(I,J,te){this.props=I,this.context=J,this.refs=W,this.updater=te||N}var Y=Z.prototype=new q;Y.constructor=Z,M(Y,B.prototype),Y.isPureReactComponent=!0;var ue=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},de=Object.prototype.hasOwnProperty;function k(I,J,te,ae,he,xe){return te=xe.ref,{$$typeof:r,type:I,key:J,ref:te!==void 0?te:null,props:xe}}function A(I,J){return k(I.type,J,void 0,void 0,void 0,I.props)}function R(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function O(I){var J={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(te){return J[te]})}var V=/\/+/g;function U(I,J){return typeof I=="object"&&I!==null&&I.key!=null?O(""+I.key):J.toString(36)}function D(){}function Ye(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(D,D):(I.status="pending",I.then(function(J){I.status==="pending"&&(I.status="fulfilled",I.value=J)},function(J){I.status==="pending"&&(I.status="rejected",I.reason=J)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function it(I,J,te,ae,he){var xe=typeof I;(xe==="undefined"||xe==="boolean")&&(I=null);var me=!1;if(I===null)me=!0;else switch(xe){case"bigint":case"string":case"number":me=!0;break;case"object":switch(I.$$typeof){case r:case e:me=!0;break;case b:return me=I._init,it(me(I._payload),J,te,ae,he)}}if(me)return he=he(I),me=ae===""?"."+U(I,0):ae,ue(he)?(te="",me!=null&&(te=me.replace(V,"$&/")+"/"),it(he,J,te,"",function(qe){return qe})):he!=null&&(R(he)&&(he=A(he,te+(he.key==null||I&&I.key===he.key?"":(""+he.key).replace(V,"$&/")+"/")+me)),J.push(he)),1;me=0;var et=ae===""?".":ae+":";if(ue(I))for(var De=0;De<I.length;De++)ae=I[De],xe=et+U(ae,De),me+=it(ae,J,te,xe,he);else if(De=T(I),typeof De=="function")for(I=De.call(I),De=0;!(ae=I.next()).done;)ae=ae.value,xe=et+U(ae,De++),me+=it(ae,J,te,xe,he);else if(xe==="object"){if(typeof I.then=="function")return it(Ye(I),J,te,ae,he);throw J=String(I),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return me}function j(I,J,te){if(I==null)return I;var ae=[],he=0;return it(I,ae,"","",function(xe){return J.call(te,xe,he++)}),ae}function oe(I){if(I._status===-1){var J=I._result;J=J(),J.then(function(te){(I._status===0||I._status===-1)&&(I._status=1,I._result=te)},function(te){(I._status===0||I._status===-1)&&(I._status=2,I._result=te)}),I._status===-1&&(I._status=0,I._result=J)}if(I._status===1)return I._result.default;throw I._result}var fe=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function K(){}return Ne.Children={map:j,forEach:function(I,J,te){j(I,function(){J.apply(this,arguments)},te)},count:function(I){var J=0;return j(I,function(){J++}),J},toArray:function(I){return j(I,function(J){return J})||[]},only:function(I){if(!R(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Ne.Component=B,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=Z,Ne.StrictMode=s,Ne.Suspense=m,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(I){return le.H.useMemoCache(I)}},Ne.cache=function(I){return function(){return I.apply(null,arguments)}},Ne.cloneElement=function(I,J,te){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ae=M({},I.props),he=I.key,xe=void 0;if(J!=null)for(me in J.ref!==void 0&&(xe=void 0),J.key!==void 0&&(he=""+J.key),J)!de.call(J,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&J.ref===void 0||(ae[me]=J[me]);var me=arguments.length-2;if(me===1)ae.children=te;else if(1<me){for(var et=Array(me),De=0;De<me;De++)et[De]=arguments[De+2];ae.children=et}return k(I.type,he,void 0,void 0,xe,ae)},Ne.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:u,_context:I},I},Ne.createElement=function(I,J,te){var ae,he={},xe=null;if(J!=null)for(ae in J.key!==void 0&&(xe=""+J.key),J)de.call(J,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(he[ae]=J[ae]);var me=arguments.length-2;if(me===1)he.children=te;else if(1<me){for(var et=Array(me),De=0;De<me;De++)et[De]=arguments[De+2];he.children=et}if(I&&I.defaultProps)for(ae in me=I.defaultProps,me)he[ae]===void 0&&(he[ae]=me[ae]);return k(I,xe,void 0,void 0,null,he)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(I){return{$$typeof:p,render:I}},Ne.isValidElement=R,Ne.lazy=function(I){return{$$typeof:b,_payload:{_status:-1,_result:I},_init:oe}},Ne.memo=function(I,J){return{$$typeof:g,type:I,compare:J===void 0?null:J}},Ne.startTransition=function(I){var J=le.T,te={};le.T=te;try{var ae=I(),he=le.S;he!==null&&he(te,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(K,fe)}catch(xe){fe(xe)}finally{le.T=J}},Ne.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Ne.use=function(I){return le.H.use(I)},Ne.useActionState=function(I,J,te){return le.H.useActionState(I,J,te)},Ne.useCallback=function(I,J){return le.H.useCallback(I,J)},Ne.useContext=function(I){return le.H.useContext(I)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(I,J){return le.H.useDeferredValue(I,J)},Ne.useEffect=function(I,J,te){var ae=le.H;if(typeof te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(I,J)},Ne.useId=function(){return le.H.useId()},Ne.useImperativeHandle=function(I,J,te){return le.H.useImperativeHandle(I,J,te)},Ne.useInsertionEffect=function(I,J){return le.H.useInsertionEffect(I,J)},Ne.useLayoutEffect=function(I,J){return le.H.useLayoutEffect(I,J)},Ne.useMemo=function(I,J){return le.H.useMemo(I,J)},Ne.useOptimistic=function(I,J){return le.H.useOptimistic(I,J)},Ne.useReducer=function(I,J,te){return le.H.useReducer(I,J,te)},Ne.useRef=function(I){return le.H.useRef(I)},Ne.useState=function(I){return le.H.useState(I)},Ne.useSyncExternalStore=function(I,J,te){return le.H.useSyncExternalStore(I,J,te)},Ne.useTransition=function(){return le.H.useTransition()},Ne.version="19.1.0",Ne}var Uv;function vm(){return Uv||(Uv=1,vp.exports=nS()),vp.exports}var P=vm(),_p={exports:{}},Ql={},bp={exports:{}},xp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function iS(){return jv||(jv=1,function(r){function e(j,oe){var fe=j.length;j.push(oe);e:for(;0<fe;){var K=fe-1>>>1,I=j[K];if(0<o(I,oe))j[K]=oe,j[fe]=I,fe=K;else break e}}function n(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var oe=j[0],fe=j.pop();if(fe!==oe){j[0]=fe;e:for(var K=0,I=j.length,J=I>>>1;K<J;){var te=2*(K+1)-1,ae=j[te],he=te+1,xe=j[he];if(0>o(ae,fe))he<I&&0>o(xe,ae)?(j[K]=xe,j[he]=fe,K=he):(j[K]=ae,j[te]=fe,K=te);else if(he<I&&0>o(xe,fe))j[K]=xe,j[he]=fe,K=he;else break e}}return oe}function o(j,oe){var fe=j.sortIndex-oe.sortIndex;return fe!==0?fe:j.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var m=[],g=[],b=1,S=null,T=3,N=!1,M=!1,W=!1,B=!1,q=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function ue(j){for(var oe=n(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=j)s(g),oe.sortIndex=oe.expirationTime,e(m,oe);else break;oe=n(g)}}function le(j){if(W=!1,ue(j),!M)if(n(m)!==null)M=!0,de||(de=!0,U());else{var oe=n(g);oe!==null&&it(le,oe.startTime-j)}}var de=!1,k=-1,A=5,R=-1;function O(){return B?!0:!(r.unstable_now()-R<A)}function V(){if(B=!1,de){var j=r.unstable_now();R=j;var oe=!0;try{e:{M=!1,W&&(W=!1,Z(k),k=-1),N=!0;var fe=T;try{t:{for(ue(j),S=n(m);S!==null&&!(S.expirationTime>j&&O());){var K=S.callback;if(typeof K=="function"){S.callback=null,T=S.priorityLevel;var I=K(S.expirationTime<=j);if(j=r.unstable_now(),typeof I=="function"){S.callback=I,ue(j),oe=!0;break t}S===n(m)&&s(m),ue(j)}else s(m);S=n(m)}if(S!==null)oe=!0;else{var J=n(g);J!==null&&it(le,J.startTime-j),oe=!1}}break e}finally{S=null,T=fe,N=!1}oe=void 0}}finally{oe?U():de=!1}}}var U;if(typeof Y=="function")U=function(){Y(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ye=D.port2;D.port1.onmessage=V,U=function(){Ye.postMessage(null)}}else U=function(){q(V,0)};function it(j,oe){k=q(function(){j(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(j){j.callback=null},r.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<j?Math.floor(1e3/j):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_next=function(j){switch(T){case 1:case 2:case 3:var oe=3;break;default:oe=T}var fe=T;T=oe;try{return j()}finally{T=fe}},r.unstable_requestPaint=function(){B=!0},r.unstable_runWithPriority=function(j,oe){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var fe=T;T=j;try{return oe()}finally{T=fe}},r.unstable_scheduleCallback=function(j,oe,fe){var K=r.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?K+fe:K):fe=K,j){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=fe+I,j={id:b++,callback:oe,priorityLevel:j,startTime:fe,expirationTime:I,sortIndex:-1},fe>K?(j.sortIndex=fe,e(g,j),n(m)===null&&j===n(g)&&(W?(Z(k),k=-1):W=!0,it(le,fe-K))):(j.sortIndex=I,e(m,j),M||N||(M=!0,de||(de=!0,U()))),j},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(j){var oe=T;return function(){var fe=T;T=oe;try{return j.apply(this,arguments)}finally{T=fe}}}}(xp)),xp}var zv;function rS(){return zv||(zv=1,bp.exports=iS()),bp.exports}var Ep={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function sS(){if(Bv)return pn;Bv=1;var r=vm();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:m,containerInfo:g,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,pn.createPortal=function(m,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(m,g,null,b)},pn.flushSync=function(m){var g=d.T,b=s.p;try{if(d.T=null,s.p=2,m)return m()}finally{d.T=g,s.p=b,s.d.f()}},pn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},pn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},pn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var b=g.as,S=p(b,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:T,fetchPriority:N}):b==="script"&&s.d.X(m,{crossOrigin:S,integrity:T,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},pn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=p(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},pn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,S=p(b,g.crossOrigin);s.d.L(m,b,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},pn.preloadModule=function(m,g){if(typeof m=="string")if(g){var b=p(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},pn.requestFormReset=function(m){s.d.r(m)},pn.unstable_batchedUpdates=function(m,g){return m(g)},pn.useFormState=function(m,g,b){return d.H.useFormState(m,g,b)},pn.useFormStatus=function(){return d.H.useHostTransitionStatus()},pn.version="19.1.0",pn}var qv;function aS(){if(qv)return Ep.exports;qv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ep.exports=sS(),Ep.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function oS(){if(Hv)return Ql;Hv=1;var r=rS(),e=vm(),n=aS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function m(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return p(h),t;if(f===l)return p(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var x=!1,E=h.child;E;){if(E===a){x=!0,a=h,l=f;break}if(E===l){x=!0,l=h,a=f;break}E=E.sibling}if(!x){for(E=f.child;E;){if(E===a){x=!0,a=f,l=h;break}if(E===l){x=!0,l=f,a=h;break}E=E.sibling}if(!x)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),Z=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Ye(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case M:return"Fragment";case B:return"Profiler";case W:return"StrictMode";case le:return"Suspense";case de:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case Y:return(t.displayName||"Context")+".Provider";case Z:return(t._context.displayName||"Context")+".Consumer";case ue:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k:return i=t.displayName||null,i!==null?i:Ye(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return Ye(t(i))}catch{}}return null}var it=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},K=[],I=-1;function J(t){return{current:t}}function te(t){0>I||(t.current=K[I],K[I]=null,I--)}function ae(t,i){I++,K[I]=t.current,t.current=i}var he=J(null),xe=J(null),me=J(null),et=J(null);function De(t,i){switch(ae(me,i),ae(xe,t),ae(he,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?uv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=uv(i),t=cv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(he),ae(he,t)}function qe(){te(he),te(xe),te(me)}function rt(t){t.memoizedState!==null&&ae(et,t);var i=he.current,a=cv(i,t.type);i!==a&&(ae(xe,t),ae(he,a))}function vt(t){xe.current===t&&(te(he),te(xe)),et.current===t&&(te(et),ql._currentValue=fe)}var xn=Object.prototype.hasOwnProperty,Wt=r.unstable_scheduleCallback,ve=r.unstable_cancelCallback,Oe=r.unstable_shouldYield,Qe=r.unstable_requestPaint,we=r.unstable_now,en=r.unstable_getCurrentPriorityLevel,Yt=r.unstable_ImmediatePriority,xt=r.unstable_UserBlockingPriority,Lt=r.unstable_NormalPriority,tn=r.unstable_LowPriority,En=r.unstable_IdlePriority,Rt=r.log,Yn=r.unstable_setDisableYieldValue,ht=null,Xe=null;function Pn(t){if(typeof Rt=="function"&&Yn(t),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(ht,t)}catch{}}var dn=Math.clz32?Math.clz32:Rs,zu=Math.log,vd=Math.LN2;function Rs(t){return t>>>=0,t===0?32:31-(zu(t)/vd|0)|0}var Is=256,Cs=4194304;function ci(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ya(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,x=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=ci(l):(x&=E,x!==0?h=ci(x):a||(a=E&~t,a!==0&&(h=ci(a))))):(E=l&~f,E!==0?h=ci(E):x!==0?h=ci(x):a||(a=l&~t,a!==0&&(h=ci(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function Ds(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function qo(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ho(){var t=Is;return Is<<=1,(Is&4194048)===0&&(Is=256),t}function Fo(){var t=Cs;return Cs<<=1,(Cs&62914560)===0&&(Cs=4194304),t}function Hi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Fi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Go(t,i,a,l,h,f){var x=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,G=t.hiddenUpdates;for(a=x&~a;0<a;){var ee=31-dn(a),re=1<<ee;E[ee]=0,C[ee]=-1;var Q=G[ee];if(Q!==null)for(G[ee]=null,ee=0;ee<Q.length;ee++){var $=Q[ee];$!==null&&($.lane&=-536870913)}a&=~re}l!==0&&bi(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(x&~i))}function bi(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-dn(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Wo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-dn(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Rr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function va(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ir(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:Cv(t.type))}function Bu(t,i){var a=oe.p;try{return oe.p=t,i()}finally{oe.p=a}}var ft=Math.random().toString(36).slice(2),Ut="__reactFiber$"+ft,It="__reactProps$"+ft,Qn="__reactContainer$"+ft,Yo="__reactEvents$"+ft,_d="__reactListeners$"+ft,Cr="__reactHandles$"+ft,qu="__reactResources$"+ft,ks="__reactMarker$"+ft;function Dr(t){delete t[Ut],delete t[It],delete t[Yo],delete t[_d],delete t[Cr]}function Gi(t){var i=t[Ut];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Qn]||a[Ut]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=pv(t);t!==null;){if(a=t[Ut])return a;t=pv(t)}return i}t=a,a=t.parentNode}return null}function xi(t){if(t=t[Ut]||t[Qn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Ei(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Tn(t){var i=t[qu];return i||(i=t[qu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Et(t){t[ks]=!0}var Qo=new Set,_a={};function hi(t,i){Wi(t,i),Wi(t+"Capture",i)}function Wi(t,i){for(_a[t]=i,t=0;t<i.length;t++)Qo.add(i[t])}var Hu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fu={},Ms={};function Gu(t){return xn.call(Ms,t)?!0:xn.call(Fu,t)?!1:Hu.test(t)?Ms[t]=!0:(Fu[t]=!0,!1)}function kr(t,i,a){if(Gu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Ti(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function nn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var Ns,Wu;function Yi(t){if(Ns===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ns=i&&i[1]||"",Wu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ns+t+Wu}var ba=!1;function xa(t,i){if(!t||ba)return"";ba=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch($){var Q=$}Reflect.construct(t,[],re)}else{try{re.call()}catch($){Q=$}t.call(re.prototype)}}else{try{throw Error()}catch($){Q=$}(re=t())&&typeof re.catch=="function"&&re.catch(function(){})}}catch($){if($&&Q&&typeof $.stack=="string")return[$.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),x=f[0],E=f[1];if(x&&E){var C=x.split(`
`),G=E.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===G.length)for(l=C.length-1,h=G.length-1;1<=l&&0<=h&&C[l]!==G[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==G[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==G[h]){var ee=`
`+C[l].replace(" at new "," at ");return t.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",t.displayName)),ee}while(1<=l&&0<=h);break}}}finally{ba=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Yi(a):""}function $o(t){switch(t.tag){case 26:case 27:case 5:return Yi(t.type);case 16:return Yi("Lazy");case 13:return Yi("Suspense");case 19:return Yi("SuspenseList");case 0:case 15:return xa(t.type,!1);case 11:return xa(t.type.render,!1);case 1:return xa(t.type,!0);case 31:return Yi("Activity");default:return""}}function Ea(t){try{var i="";do i+=$o(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Sn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ko(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function bd(t){var i=Ko(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(x){l=""+x,f.call(this,x)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ta(t){t._valueTracker||(t._valueTracker=bd(t))}function Xo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Ko(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Os(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xd=/[\n"\\]/g;function Ct(t){return t.replace(xd,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ln(t,i,a,l,h,f,x,E){t.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.type=x:t.removeAttribute("type"),i!=null?x==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Sn(i)):t.value!==""+Sn(i)&&(t.value=""+Sn(i)):x!=="submit"&&x!=="reset"||t.removeAttribute("value"),i!=null?Mr(t,x,Sn(i)):a!=null?Mr(t,x,Sn(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Sn(E):t.removeAttribute("name")}function Vs(t,i,a,l,h,f,x,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+Sn(a):"",i=i!=null?""+Sn(i):a,E||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(t.name=x)}function Mr(t,i,a){i==="number"&&Os(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Qi(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Sn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function st(t,i,a){if(i!=null&&(i=""+Sn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Sn(a):""}function Ps(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(it(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Sn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function $n(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Ls=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Ls.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Zo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Yu(t,h,l)}else for(var f in i)i.hasOwnProperty(f)&&Yu(t,f,i[f])}function Jo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ed=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Td=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(t){return Td.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var $i=null;function Kn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ki=null,Xi=null;function el(t){var i=xi(t);if(i&&(t=i.stateNode)){var a=t[It]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ln(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ct(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[It]||null;if(!h)throw Error(s(90));Ln(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Xo(l)}break e;case"textarea":st(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Qi(t,!!a.multiple,i,!1)}}}var Si=!1;function Qu(t,i,a){if(Si)return t(i,a);Si=!0;try{var l=t(i);return l}finally{if(Si=!1,(Ki!==null||Xi!==null)&&(Bc(),Ki&&(i=Ki,t=Xi,Xi=Ki=null,el(i),t)))for(i=0;i<t.length;i++)el(t[i])}}function Us(t,i){var a=t.stateNode;if(a===null)return null;var l=a[It]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xn=!1;if(di)try{var js={};Object.defineProperty(js,"passive",{get:function(){Xn=!0}}),window.addEventListener("test",js,js),window.removeEventListener("test",js,js)}catch{Xn=!1}var wi=null,Nr=null,Zi=null;function tl(){if(Zi)return Zi;var t,i=Nr,a=i.length,l,h="value"in wi?wi.value:wi.textContent,f=h.length;for(t=0;t<a&&i[t]===h[t];t++);var x=a-t;for(l=1;l<=x&&i[a-l]===h[f-l];l++);return Zi=h.slice(t,1<l?1-l:void 0)}function Ai(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ri(){return!0}function nl(){return!1}function Qt(t){function i(a,l,h,f,x){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=x,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ri:nl,this.isPropagationStopped=nl,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ri)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ri)},persist:function(){},isPersistent:Ri}),i}var Ze={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=Qt(Ze),zs=b({},Ze,{view:0,detail:0}),$u=Qt(zs),Aa,Ra,Ii,Bs=b({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ii&&(Ii&&t.type==="mousemove"?(Aa=t.screenX-Ii.screenX,Ra=t.screenY-Ii.screenY):Ra=Aa=0,Ii=t),Aa)},movementY:function(t){return"movementY"in t?t.movementY:Ra}}),Zn=Qt(Bs),Ku=b({},Bs,{dataTransfer:0}),Sd=Qt(Ku),qs=b({},zs,{relatedTarget:0}),Ia=Qt(qs),il=b({},Ze,{animationName:0,elapsedTime:0,pseudoElement:0}),Ca=Qt(il),Xu=b({},Ze,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Da=Qt(Xu),wd=b({},Ze,{data:0}),rl=Qt(wd),Hs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sl(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ju[t])?!!i[t]:!1}function Fs(){return sl}var ec=b({},zs,{key:function(t){if(t.key){var i=Hs[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ai(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fs,charCode:function(t){return t.type==="keypress"?Ai(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ai(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ka=Qt(ec),tc=b({},Bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),al=Qt(tc),Ji=b({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fs}),nc=Qt(Ji),ic=b({},Ze,{propertyName:0,elapsedTime:0,pseudoElement:0}),rc=Qt(ic),sc=b({},Bs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ma=Qt(sc),wn=b({},Ze,{newState:0,oldState:0}),ac=Qt(wn),oc=[9,13,27,32],Ci=di&&"CompositionEvent"in window,c=null;di&&"documentMode"in document&&(c=document.documentMode);var y=di&&"TextEvent"in window&&!c,_=di&&(!Ci||c&&8<c&&11>=c),w=" ",H=!1;function X(t,i){switch(t){case"keyup":return oc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var He=!1;function jt(t,i){switch(t){case"compositionend":return ce(i);case"keypress":return i.which!==32?null:(H=!0,w);case"textInput":return t=i.data,t===w&&H?null:t;default:return null}}function Fe(t,i){if(He)return t==="compositionend"||!Ci&&X(t,i)?(t=tl(),Zi=Nr=wi=null,He=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var $t={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!$t[t.type]:i==="textarea"}function er(t,i,a,l){Ki?Xi?Xi.push(l):Xi=[l]:Ki=l,i=Yc(i,"onChange"),0<i.length&&(a=new wa("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var rn=null,Di=null;function ol(t){rv(t,0)}function lc(t){var i=Ei(t);if(Xo(i))return t}function wg(t,i){if(t==="change")return i}var Ag=!1;if(di){var Ad;if(di){var Rd="oninput"in document;if(!Rd){var Rg=document.createElement("div");Rg.setAttribute("oninput","return;"),Rd=typeof Rg.oninput=="function"}Ad=Rd}else Ad=!1;Ag=Ad&&(!document.documentMode||9<document.documentMode)}function Ig(){rn&&(rn.detachEvent("onpropertychange",Cg),Di=rn=null)}function Cg(t){if(t.propertyName==="value"&&lc(Di)){var i=[];er(i,Di,t,Kn(t)),Qu(ol,i)}}function DE(t,i,a){t==="focusin"?(Ig(),rn=i,Di=a,rn.attachEvent("onpropertychange",Cg)):t==="focusout"&&Ig()}function kE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lc(Di)}function ME(t,i){if(t==="click")return lc(i)}function NE(t,i){if(t==="input"||t==="change")return lc(i)}function OE(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Un=typeof Object.is=="function"?Object.is:OE;function ll(t,i){if(Un(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!xn.call(i,h)||!Un(t[h],i[h]))return!1}return!0}function Dg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kg(t,i){var a=Dg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Dg(a)}}function Mg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Mg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ng(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Os(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Os(t.document)}return i}function Id(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var VE=di&&"documentMode"in document&&11>=document.documentMode,Na=null,Cd=null,ul=null,Dd=!1;function Og(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Dd||Na==null||Na!==Os(l)||(l=Na,"selectionStart"in l&&Id(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ul&&ll(ul,l)||(ul=l,l=Yc(Cd,"onSelect"),0<l.length&&(i=new wa("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Na)))}function Gs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Oa={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionrun:Gs("Transition","TransitionRun"),transitionstart:Gs("Transition","TransitionStart"),transitioncancel:Gs("Transition","TransitionCancel"),transitionend:Gs("Transition","TransitionEnd")},kd={},Vg={};di&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Ws(t){if(kd[t])return kd[t];if(!Oa[t])return t;var i=Oa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Vg)return kd[t]=i[a];return t}var Pg=Ws("animationend"),Lg=Ws("animationiteration"),Ug=Ws("animationstart"),PE=Ws("transitionrun"),LE=Ws("transitionstart"),UE=Ws("transitioncancel"),jg=Ws("transitionend"),zg=new Map,Md="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Md.push("scrollEnd");function fi(t,i){zg.set(t,i),hi(i,[t])}var Bg=new WeakMap;function Jn(t,i){if(typeof t=="object"&&t!==null){var a=Bg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ea(i)},Bg.set(t,i),i)}return{value:t,source:i,stack:Ea(i)}}var ei=[],Va=0,Nd=0;function uc(){for(var t=Va,i=Nd=Va=0;i<t;){var a=ei[i];ei[i++]=null;var l=ei[i];ei[i++]=null;var h=ei[i];ei[i++]=null;var f=ei[i];if(ei[i++]=null,l!==null&&h!==null){var x=l.pending;x===null?h.next=h:(h.next=x.next,x.next=h),l.pending=h}f!==0&&qg(a,h,f)}}function cc(t,i,a,l){ei[Va++]=t,ei[Va++]=i,ei[Va++]=a,ei[Va++]=l,Nd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Od(t,i,a,l){return cc(t,i,a,l),hc(t)}function Pa(t,i){return cc(t,null,null,i),hc(t)}function qg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-dn(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),f):null}function hc(t){if(50<Ol)throw Ol=0,Bf=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var La={};function jE(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(t,i,a,l){return new jE(t,i,a,l)}function Vd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tr(t,i){var a=t.alternate;return a===null?(a=jn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Hg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function dc(t,i,a,l,h,f){var x=0;if(l=t,typeof t=="function")Vd(t)&&(x=1);else if(typeof t=="string")x=BT(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=jn(31,a,i,h),t.elementType=R,t.lanes=f,t;case M:return Ys(a.children,h,f,i);case W:x=8,h|=24;break;case B:return t=jn(12,a,i,h|2),t.elementType=B,t.lanes=f,t;case le:return t=jn(13,a,i,h),t.elementType=le,t.lanes=f,t;case de:return t=jn(19,a,i,h),t.elementType=de,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case q:case Y:x=10;break e;case Z:x=9;break e;case ue:x=11;break e;case k:x=14;break e;case A:x=16,l=null;break e}x=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=jn(x,a,i,h),i.elementType=t,i.type=l,i.lanes=f,i}function Ys(t,i,a,l){return t=jn(7,t,l,i),t.lanes=a,t}function Pd(t,i,a){return t=jn(6,t,null,i),t.lanes=a,t}function Ld(t,i,a){return i=jn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ua=[],ja=0,fc=null,pc=0,ti=[],ni=0,Qs=null,nr=1,ir="";function $s(t,i){Ua[ja++]=pc,Ua[ja++]=fc,fc=t,pc=i}function Fg(t,i,a){ti[ni++]=nr,ti[ni++]=ir,ti[ni++]=Qs,Qs=t;var l=nr;t=ir;var h=32-dn(l)-1;l&=~(1<<h),a+=1;var f=32-dn(i)+h;if(30<f){var x=h-h%5;f=(l&(1<<x)-1).toString(32),l>>=x,h-=x,nr=1<<32-dn(i)+h|a<<h|l,ir=f+t}else nr=1<<f|a<<h|l,ir=t}function Ud(t){t.return!==null&&($s(t,1),Fg(t,1,0))}function jd(t){for(;t===fc;)fc=Ua[--ja],Ua[ja]=null,pc=Ua[--ja],Ua[ja]=null;for(;t===Qs;)Qs=ti[--ni],ti[ni]=null,ir=ti[--ni],ti[ni]=null,nr=ti[--ni],ti[ni]=null}var An=null,_t=null,Ke=!1,Ks=null,ki=!1,zd=Error(s(519));function Xs(t){var i=Error(s(418,""));throw dl(Jn(i,t)),zd}function Gg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Ut]=t,i[It]=l,a){case"dialog":je("cancel",i),je("close",i);break;case"iframe":case"object":case"embed":je("load",i);break;case"video":case"audio":for(a=0;a<Pl.length;a++)je(Pl[a],i);break;case"source":je("error",i);break;case"img":case"image":case"link":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"input":je("invalid",i),Vs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ta(i);break;case"select":je("invalid",i);break;case"textarea":je("invalid",i),Ps(i,l.value,l.defaultValue,l.children),Ta(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||lv(i.textContent,a)?(l.popover!=null&&(je("beforetoggle",i),je("toggle",i)),l.onScroll!=null&&je("scroll",i),l.onScrollEnd!=null&&je("scrollend",i),l.onClick!=null&&(i.onclick=Qc),i=!0):i=!1,i||Xs(t)}function Wg(t){for(An=t.return;An;)switch(An.tag){case 5:case 13:ki=!1;return;case 27:case 3:ki=!0;return;default:An=An.return}}function cl(t){if(t!==An)return!1;if(!Ke)return Wg(t),Ke=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||ip(t.type,t.memoizedProps)),a=!a),a&&_t&&Xs(t),Wg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){_t=mi(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}_t=null}}else i===27?(i=_t,$r(t.type)?(t=op,op=null,_t=t):_t=i):_t=An?mi(t.stateNode.nextSibling):null;return!0}function hl(){_t=An=null,Ke=!1}function Yg(){var t=Ks;return t!==null&&(Mn===null?Mn=t:Mn.push.apply(Mn,t),Ks=null),t}function dl(t){Ks===null?Ks=[t]:Ks.push(t)}var Bd=J(null),Zs=null,rr=null;function Or(t,i,a){ae(Bd,i._currentValue),i._currentValue=a}function sr(t){t._currentValue=Bd.current,te(Bd)}function qd(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Hd(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var x=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var C=0;C<i.length;C++)if(E.context===i[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),qd(f.return,a,t),l||(x=null);break e}f=E.next}}else if(h.tag===18){if(x=h.return,x===null)throw Error(s(341));x.lanes|=a,f=x.alternate,f!==null&&(f.lanes|=a),qd(x,a,t),x=null}else x=h.child;if(x!==null)x.return=h;else for(x=h;x!==null;){if(x===t){x=null;break}if(h=x.sibling,h!==null){h.return=x.return,x=h;break}x=x.return}h=x}}function fl(t,i,a,l){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var x=h.alternate;if(x===null)throw Error(s(387));if(x=x.memoizedProps,x!==null){var E=h.type;Un(h.pendingProps.value,x.value)||(t!==null?t.push(E):t=[E])}}else if(h===et.current){if(x=h.alternate,x===null)throw Error(s(387));x.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ql):t=[ql])}h=h.return}t!==null&&Hd(i,t,a,l),i.flags|=262144}function mc(t){for(t=t.firstContext;t!==null;){if(!Un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Js(t){Zs=t,rr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function fn(t){return Qg(Zs,t)}function gc(t,i){return Zs===null&&Js(t),Qg(t,i)}function Qg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},rr===null){if(t===null)throw Error(s(308));rr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else rr=rr.next=i;return a}var zE=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},BE=r.unstable_scheduleCallback,qE=r.unstable_NormalPriority,Bt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fd(){return{controller:new zE,data:new Map,refCount:0}}function pl(t){t.refCount--,t.refCount===0&&BE(qE,function(){t.controller.abort()})}var ml=null,Gd=0,za=0,Ba=null;function HE(t,i){if(ml===null){var a=ml=[];Gd=0,za=Qf(),Ba={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Gd++,i.then($g,$g),i}function $g(){if(--Gd===0&&ml!==null){Ba!==null&&(Ba.status="fulfilled");var t=ml;ml=null,za=0,Ba=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function FE(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Kg=j.S;j.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&HE(t,i),Kg!==null&&Kg(t,i)};var ea=J(null);function Wd(){var t=ea.current;return t!==null?t:ct.pooledCache}function yc(t,i){i===null?ae(ea,ea.current):ae(ea,i.pool)}function Xg(){var t=Wd();return t===null?null:{parent:Bt._currentValue,pool:t}}var gl=Error(s(460)),Zg=Error(s(474)),vc=Error(s(542)),Yd={then:function(){}};function Jg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function _c(){}function ey(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(_c,_c),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ny(t),t;default:if(typeof i.status=="string")i.then(_c,_c);else{if(t=ct,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ny(t),t}throw yl=i,gl}}var yl=null;function ty(){if(yl===null)throw Error(s(459));var t=yl;return yl=null,t}function ny(t){if(t===gl||t===vc)throw Error(s(483))}var Vr=!1;function Qd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $d(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Lr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=hc(t),qg(t,null,a),i}return cc(t,l,i,a),hc(t)}function vl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Wo(t,a)}}function Kd(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var x={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=x:f=f.next=x,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Xd=!1;function _l(){if(Xd){var t=Ba;if(t!==null)throw t}}function bl(t,i,a,l){Xd=!1;var h=t.updateQueue;Vr=!1;var f=h.firstBaseUpdate,x=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,G=C.next;C.next=null,x===null?f=G:x.next=G,x=C;var ee=t.alternate;ee!==null&&(ee=ee.updateQueue,E=ee.lastBaseUpdate,E!==x&&(E===null?ee.firstBaseUpdate=G:E.next=G,ee.lastBaseUpdate=C))}if(f!==null){var re=h.baseState;x=0,ee=G=C=null,E=f;do{var Q=E.lane&-536870913,$=Q!==E.lane;if($?(Ge&Q)===Q:(l&Q)===Q){Q!==0&&Q===za&&(Xd=!0),ee!==null&&(ee=ee.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Ce=t,Te=E;Q=i;var lt=a;switch(Te.tag){case 1:if(Ce=Te.payload,typeof Ce=="function"){re=Ce.call(lt,re,Q);break e}re=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Te.payload,Q=typeof Ce=="function"?Ce.call(lt,re,Q):Ce,Q==null)break e;re=b({},re,Q);break e;case 2:Vr=!0}}Q=E.callback,Q!==null&&(t.flags|=64,$&&(t.flags|=8192),$=h.callbacks,$===null?h.callbacks=[Q]:$.push(Q))}else $={lane:Q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},ee===null?(G=ee=$,C=re):ee=ee.next=$,x|=Q;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;$=E,E=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);ee===null&&(C=re),h.baseState=C,h.firstBaseUpdate=G,h.lastBaseUpdate=ee,f===null&&(h.shared.lanes=0),Gr|=x,t.lanes=x,t.memoizedState=re}}function iy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function ry(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)iy(a[t],i)}var qa=J(null),bc=J(0);function sy(t,i){t=dr,ae(bc,t),ae(qa,i),dr=t|i.baseLanes}function Zd(){ae(bc,dr),ae(qa,qa.current)}function Jd(){dr=bc.current,te(qa),te(bc)}var Ur=0,Ve=null,at=null,Dt=null,xc=!1,Ha=!1,ta=!1,Ec=0,xl=0,Fa=null,GE=0;function Tt(){throw Error(s(321))}function ef(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Un(t[a],i[a]))return!1;return!0}function tf(t,i,a,l,h,f){return Ur=f,Ve=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,j.H=t===null||t.memoizedState===null?qy:Hy,ta=!1,f=a(l,h),ta=!1,Ha&&(f=oy(i,a,l,h)),ay(t),f}function ay(t){j.H=Ic;var i=at!==null&&at.next!==null;if(Ur=0,Dt=at=Ve=null,xc=!1,xl=0,Fa=null,i)throw Error(s(300));t===null||Kt||(t=t.dependencies,t!==null&&mc(t)&&(Kt=!0))}function oy(t,i,a,l){Ve=t;var h=0;do{if(Ha&&(Fa=null),xl=0,Ha=!1,25<=h)throw Error(s(301));if(h+=1,Dt=at=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=ZE,f=i(a,l)}while(Ha);return f}function WE(){var t=j.H,i=t.useState()[0];return i=typeof i.then=="function"?El(i):i,t=t.useState()[0],(at!==null?at.memoizedState:null)!==t&&(Ve.flags|=1024),i}function nf(){var t=Ec!==0;return Ec=0,t}function rf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function sf(t){if(xc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}xc=!1}Ur=0,Dt=at=Ve=null,Ha=!1,xl=Ec=0,Fa=null}function Dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Ve.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function kt(){if(at===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var i=Dt===null?Ve.memoizedState:Dt.next;if(i!==null)Dt=i,at=t;else{if(t===null)throw Ve.alternate===null?Error(s(467)):Error(s(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Dt===null?Ve.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function af(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(t){var i=xl;return xl+=1,Fa===null&&(Fa=[]),t=ey(Fa,t,i),i=Ve,(Dt===null?i.memoizedState:Dt.next)===null&&(i=i.alternate,j.H=i===null||i.memoizedState===null?qy:Hy),t}function Tc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return El(t);if(t.$$typeof===Y)return fn(t)}throw Error(s(438,String(t)))}function of(t){var i=null,a=Ve.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=af(),Ve.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function ar(t,i){return typeof i=="function"?i(t):i}function Sc(t){var i=kt();return lf(i,at,t)}function lf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var x=h.next;h.next=f.next,f.next=x}i.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var E=x=null,C=null,G=i,ee=!1;do{var re=G.lane&-536870913;if(re!==G.lane?(Ge&re)===re:(Ur&re)===re){var Q=G.revertLane;if(Q===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),re===za&&(ee=!0);else if((Ur&Q)===Q){G=G.next,Q===za&&(ee=!0);continue}else re={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},C===null?(E=C=re,x=f):C=C.next=re,Ve.lanes|=Q,Gr|=Q;re=G.action,ta&&a(f,re),f=G.hasEagerState?G.eagerState:a(f,re)}else Q={lane:re,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},C===null?(E=C=Q,x=f):C=C.next=Q,Ve.lanes|=re,Gr|=re;G=G.next}while(G!==null&&G!==i);if(C===null?x=f:C.next=E,!Un(f,t.memoizedState)&&(Kt=!0,ee&&(a=Ba,a!==null)))throw a;t.memoizedState=f,t.baseState=x,t.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function uf(t){var i=kt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var x=h=h.next;do f=t(f,x.action),x=x.next;while(x!==h);Un(f,i.memoizedState)||(Kt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,l]}function ly(t,i,a){var l=Ve,h=kt(),f=Ke;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var x=!Un((at||h).memoizedState,a);x&&(h.memoizedState=a,Kt=!0),h=h.queue;var E=hy.bind(null,l,h,t);if(Tl(2048,8,E,[t]),h.getSnapshot!==i||x||Dt!==null&&Dt.memoizedState.tag&1){if(l.flags|=2048,Ga(9,wc(),cy.bind(null,l,h,a,i),null),ct===null)throw Error(s(349));f||(Ur&124)!==0||uy(l,i,a)}return a}function uy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ve.updateQueue,i===null?(i=af(),Ve.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function cy(t,i,a,l){i.value=a,i.getSnapshot=l,dy(i)&&fy(t)}function hy(t,i,a){return a(function(){dy(i)&&fy(t)})}function dy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Un(t,a)}catch{return!0}}function fy(t){var i=Pa(t,2);i!==null&&Fn(i,t,2)}function cf(t){var i=Dn();if(typeof t=="function"){var a=t;if(t=a(),ta){Pn(!0);try{a()}finally{Pn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:t},i}function py(t,i,a,l){return t.baseState=a,lf(t,at,typeof l=="function"?l:ar)}function YE(t,i,a,l,h){if(Rc(t))throw Error(s(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){f.listeners.push(x)}};j.T!==null?a(!0):f.isTransition=!1,l(f),a=i.pending,a===null?(f.next=i.pending=f,my(i,f)):(f.next=a.next,i.pending=a.next=f)}}function my(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var f=j.T,x={};j.T=x;try{var E=a(h,l),C=j.S;C!==null&&C(x,E),gy(t,i,E)}catch(G){hf(t,i,G)}finally{j.T=f}}else try{f=a(h,l),gy(t,i,f)}catch(G){hf(t,i,G)}}function gy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){yy(t,i,l)},function(l){return hf(t,i,l)}):yy(t,i,a)}function yy(t,i,a){i.status="fulfilled",i.value=a,vy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,my(t,a)))}function hf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,vy(i),i=i.next;while(i!==l)}t.action=null}function vy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function _y(t,i){return i}function by(t,i){if(Ke){var a=ct.formState;if(a!==null){e:{var l=Ve;if(Ke){if(_t){t:{for(var h=_t,f=ki;h.nodeType!==8;){if(!f){h=null;break t}if(h=mi(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){_t=mi(h.nextSibling),l=h.data==="F!";break e}}Xs(l)}l=!1}l&&(i=a[0])}}return a=Dn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_y,lastRenderedState:i},a.queue=l,a=jy.bind(null,Ve,l),l.dispatch=a,l=cf(!1),f=gf.bind(null,Ve,!1,l.queue),l=Dn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=YE.bind(null,Ve,h,f,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function xy(t){var i=kt();return Ey(i,at,t)}function Ey(t,i,a){if(i=lf(t,i,_y)[0],t=Sc(ar)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=El(i)}catch(x){throw x===gl?vc:x}else l=i;i=kt();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(Ve.flags|=2048,Ga(9,wc(),QE.bind(null,h,a),null)),[l,f,t]}function QE(t,i){t.action=i}function Ty(t){var i=kt(),a=at;if(a!==null)return Ey(i,a,t);kt(),i=i.memoizedState,a=kt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ga(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ve.updateQueue,i===null&&(i=af(),Ve.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function wc(){return{destroy:void 0,resource:void 0}}function Sy(){return kt().memoizedState}function Ac(t,i,a,l){var h=Dn();l=l===void 0?null:l,Ve.flags|=t,h.memoizedState=Ga(1|i,wc(),a,l)}function Tl(t,i,a,l){var h=kt();l=l===void 0?null:l;var f=h.memoizedState.inst;at!==null&&l!==null&&ef(l,at.memoizedState.deps)?h.memoizedState=Ga(i,f,a,l):(Ve.flags|=t,h.memoizedState=Ga(1|i,f,a,l))}function wy(t,i){Ac(8390656,8,t,i)}function Ay(t,i){Tl(2048,8,t,i)}function Ry(t,i){return Tl(4,2,t,i)}function Iy(t,i){return Tl(4,4,t,i)}function Cy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Dy(t,i,a){a=a!=null?a.concat([t]):null,Tl(4,4,Cy.bind(null,i,t),a)}function df(){}function ky(t,i){var a=kt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&ef(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function My(t,i){var a=kt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&ef(i,l[1]))return l[0];if(l=t(),ta){Pn(!0);try{t()}finally{Pn(!1)}}return a.memoizedState=[l,i],l}function ff(t,i,a){return a===void 0||(Ur&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=V0(),Ve.lanes|=t,Gr|=t,a)}function Ny(t,i,a,l){return Un(a,i)?a:qa.current!==null?(t=ff(t,a,l),Un(t,i)||(Kt=!0),t):(Ur&42)===0?(Kt=!0,t.memoizedState=a):(t=V0(),Ve.lanes|=t,Gr|=t,i)}function Oy(t,i,a,l,h){var f=oe.p;oe.p=f!==0&&8>f?f:8;var x=j.T,E={};j.T=E,gf(t,!1,i,a);try{var C=h(),G=j.S;if(G!==null&&G(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var ee=FE(C,l);Sl(t,i,ee,Hn(t))}else Sl(t,i,l,Hn(t))}catch(re){Sl(t,i,{then:function(){},status:"rejected",reason:re},Hn())}finally{oe.p=f,j.T=x}}function $E(){}function pf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Vy(t).queue;Oy(t,h,i,fe,a===null?$E:function(){return Py(t),a(l)})}function Vy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:fe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Py(t){var i=Vy(t).next.queue;Sl(t,i,{},Hn())}function mf(){return fn(ql)}function Ly(){return kt().memoizedState}function Uy(){return kt().memoizedState}function KE(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Hn();t=Pr(a);var l=Lr(i,t,a);l!==null&&(Fn(l,i,a),vl(l,i,a)),i={cache:Fd()},t.payload=i;return}i=i.return}}function XE(t,i,a){var l=Hn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Rc(t)?zy(i,a):(a=Od(t,i,a,l),a!==null&&(Fn(a,t,l),By(a,i,l)))}function jy(t,i,a){var l=Hn();Sl(t,i,a,l)}function Sl(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Rc(t))zy(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var x=i.lastRenderedState,E=f(x,a);if(h.hasEagerState=!0,h.eagerState=E,Un(E,x))return cc(t,i,h,0),ct===null&&uc(),!1}catch{}finally{}if(a=Od(t,i,h,l),a!==null)return Fn(a,t,l),By(a,i,l),!0}return!1}function gf(t,i,a,l){if(l={lane:2,revertLane:Qf(),action:l,hasEagerState:!1,eagerState:null,next:null},Rc(t)){if(i)throw Error(s(479))}else i=Od(t,a,l,2),i!==null&&Fn(i,t,2)}function Rc(t){var i=t.alternate;return t===Ve||i!==null&&i===Ve}function zy(t,i){Ha=xc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function By(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Wo(t,a)}}var Ic={readContext:fn,use:Tc,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt},qy={readContext:fn,use:Tc,useCallback:function(t,i){return Dn().memoizedState=[t,i===void 0?null:i],t},useContext:fn,useEffect:wy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Ac(4194308,4,Cy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Ac(4194308,4,t,i)},useInsertionEffect:function(t,i){Ac(4,2,t,i)},useMemo:function(t,i){var a=Dn();i=i===void 0?null:i;var l=t();if(ta){Pn(!0);try{t()}finally{Pn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=Dn();if(a!==void 0){var h=a(i);if(ta){Pn(!0);try{a(i)}finally{Pn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=XE.bind(null,Ve,t),[l.memoizedState,t]},useRef:function(t){var i=Dn();return t={current:t},i.memoizedState=t},useState:function(t){t=cf(t);var i=t.queue,a=jy.bind(null,Ve,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:df,useDeferredValue:function(t,i){var a=Dn();return ff(a,t,i)},useTransition:function(){var t=cf(!1);return t=Oy.bind(null,Ve,t.queue,!0,!1),Dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ve,h=Dn();if(Ke){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ct===null)throw Error(s(349));(Ge&124)!==0||uy(l,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,wy(hy.bind(null,l,f,t),[t]),l.flags|=2048,Ga(9,wc(),cy.bind(null,l,f,a,i),null),a},useId:function(){var t=Dn(),i=ct.identifierPrefix;if(Ke){var a=ir,l=nr;a=(l&~(1<<32-dn(l)-1)).toString(32)+a,i=""+i+"R"+a,a=Ec++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=GE++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:mf,useFormState:by,useActionState:by,useOptimistic:function(t){var i=Dn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=gf.bind(null,Ve,!0,a),a.dispatch=i,[t,i]},useMemoCache:of,useCacheRefresh:function(){return Dn().memoizedState=KE.bind(null,Ve)}},Hy={readContext:fn,use:Tc,useCallback:ky,useContext:fn,useEffect:Ay,useImperativeHandle:Dy,useInsertionEffect:Ry,useLayoutEffect:Iy,useMemo:My,useReducer:Sc,useRef:Sy,useState:function(){return Sc(ar)},useDebugValue:df,useDeferredValue:function(t,i){var a=kt();return Ny(a,at.memoizedState,t,i)},useTransition:function(){var t=Sc(ar)[0],i=kt().memoizedState;return[typeof t=="boolean"?t:El(t),i]},useSyncExternalStore:ly,useId:Ly,useHostTransitionStatus:mf,useFormState:xy,useActionState:xy,useOptimistic:function(t,i){var a=kt();return py(a,at,t,i)},useMemoCache:of,useCacheRefresh:Uy},ZE={readContext:fn,use:Tc,useCallback:ky,useContext:fn,useEffect:Ay,useImperativeHandle:Dy,useInsertionEffect:Ry,useLayoutEffect:Iy,useMemo:My,useReducer:uf,useRef:Sy,useState:function(){return uf(ar)},useDebugValue:df,useDeferredValue:function(t,i){var a=kt();return at===null?ff(a,t,i):Ny(a,at.memoizedState,t,i)},useTransition:function(){var t=uf(ar)[0],i=kt().memoizedState;return[typeof t=="boolean"?t:El(t),i]},useSyncExternalStore:ly,useId:Ly,useHostTransitionStatus:mf,useFormState:Ty,useActionState:Ty,useOptimistic:function(t,i){var a=kt();return at!==null?py(a,at,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:of,useCacheRefresh:Uy},Wa=null,wl=0;function Cc(t){var i=wl;return wl+=1,Wa===null&&(Wa=[]),ey(Wa,t,i)}function Al(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Dc(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Fy(t){var i=t._init;return i(t._payload)}function Gy(t){function i(z,L){if(t){var F=z.deletions;F===null?(z.deletions=[L],z.flags|=16):F.push(L)}}function a(z,L){if(!t)return null;for(;L!==null;)i(z,L),L=L.sibling;return null}function l(z){for(var L=new Map;z!==null;)z.key!==null?L.set(z.key,z):L.set(z.index,z),z=z.sibling;return L}function h(z,L){return z=tr(z,L),z.index=0,z.sibling=null,z}function f(z,L,F){return z.index=F,t?(F=z.alternate,F!==null?(F=F.index,F<L?(z.flags|=67108866,L):F):(z.flags|=67108866,L)):(z.flags|=1048576,L)}function x(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function E(z,L,F,ne){return L===null||L.tag!==6?(L=Pd(F,z.mode,ne),L.return=z,L):(L=h(L,F),L.return=z,L)}function C(z,L,F,ne){var _e=F.type;return _e===M?ee(z,L,F.props.children,ne,F.key):L!==null&&(L.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&Fy(_e)===L.type)?(L=h(L,F.props),Al(L,F),L.return=z,L):(L=dc(F.type,F.key,F.props,null,z.mode,ne),Al(L,F),L.return=z,L)}function G(z,L,F,ne){return L===null||L.tag!==4||L.stateNode.containerInfo!==F.containerInfo||L.stateNode.implementation!==F.implementation?(L=Ld(F,z.mode,ne),L.return=z,L):(L=h(L,F.children||[]),L.return=z,L)}function ee(z,L,F,ne,_e){return L===null||L.tag!==7?(L=Ys(F,z.mode,ne,_e),L.return=z,L):(L=h(L,F),L.return=z,L)}function re(z,L,F){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Pd(""+L,z.mode,F),L.return=z,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case T:return F=dc(L.type,L.key,L.props,null,z.mode,F),Al(F,L),F.return=z,F;case N:return L=Ld(L,z.mode,F),L.return=z,L;case A:var ne=L._init;return L=ne(L._payload),re(z,L,F)}if(it(L)||U(L))return L=Ys(L,z.mode,F,null),L.return=z,L;if(typeof L.then=="function")return re(z,Cc(L),F);if(L.$$typeof===Y)return re(z,gc(z,L),F);Dc(z,L)}return null}function Q(z,L,F,ne){var _e=L!==null?L.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return _e!==null?null:E(z,L,""+F,ne);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case T:return F.key===_e?C(z,L,F,ne):null;case N:return F.key===_e?G(z,L,F,ne):null;case A:return _e=F._init,F=_e(F._payload),Q(z,L,F,ne)}if(it(F)||U(F))return _e!==null?null:ee(z,L,F,ne,null);if(typeof F.then=="function")return Q(z,L,Cc(F),ne);if(F.$$typeof===Y)return Q(z,L,gc(z,F),ne);Dc(z,F)}return null}function $(z,L,F,ne,_e){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return z=z.get(F)||null,E(L,z,""+ne,_e);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case T:return z=z.get(ne.key===null?F:ne.key)||null,C(L,z,ne,_e);case N:return z=z.get(ne.key===null?F:ne.key)||null,G(L,z,ne,_e);case A:var Le=ne._init;return ne=Le(ne._payload),$(z,L,F,ne,_e)}if(it(ne)||U(ne))return z=z.get(F)||null,ee(L,z,ne,_e,null);if(typeof ne.then=="function")return $(z,L,F,Cc(ne),_e);if(ne.$$typeof===Y)return $(z,L,F,gc(L,ne),_e);Dc(L,ne)}return null}function Ce(z,L,F,ne){for(var _e=null,Le=null,be=L,Se=L=0,Zt=null;be!==null&&Se<F.length;Se++){be.index>Se?(Zt=be,be=null):Zt=be.sibling;var $e=Q(z,be,F[Se],ne);if($e===null){be===null&&(be=Zt);break}t&&be&&$e.alternate===null&&i(z,be),L=f($e,L,Se),Le===null?_e=$e:Le.sibling=$e,Le=$e,be=Zt}if(Se===F.length)return a(z,be),Ke&&$s(z,Se),_e;if(be===null){for(;Se<F.length;Se++)be=re(z,F[Se],ne),be!==null&&(L=f(be,L,Se),Le===null?_e=be:Le.sibling=be,Le=be);return Ke&&$s(z,Se),_e}for(be=l(be);Se<F.length;Se++)Zt=$(be,z,Se,F[Se],ne),Zt!==null&&(t&&Zt.alternate!==null&&be.delete(Zt.key===null?Se:Zt.key),L=f(Zt,L,Se),Le===null?_e=Zt:Le.sibling=Zt,Le=Zt);return t&&be.forEach(function(es){return i(z,es)}),Ke&&$s(z,Se),_e}function Te(z,L,F,ne){if(F==null)throw Error(s(151));for(var _e=null,Le=null,be=L,Se=L=0,Zt=null,$e=F.next();be!==null&&!$e.done;Se++,$e=F.next()){be.index>Se?(Zt=be,be=null):Zt=be.sibling;var es=Q(z,be,$e.value,ne);if(es===null){be===null&&(be=Zt);break}t&&be&&es.alternate===null&&i(z,be),L=f(es,L,Se),Le===null?_e=es:Le.sibling=es,Le=es,be=Zt}if($e.done)return a(z,be),Ke&&$s(z,Se),_e;if(be===null){for(;!$e.done;Se++,$e=F.next())$e=re(z,$e.value,ne),$e!==null&&(L=f($e,L,Se),Le===null?_e=$e:Le.sibling=$e,Le=$e);return Ke&&$s(z,Se),_e}for(be=l(be);!$e.done;Se++,$e=F.next())$e=$(be,z,Se,$e.value,ne),$e!==null&&(t&&$e.alternate!==null&&be.delete($e.key===null?Se:$e.key),L=f($e,L,Se),Le===null?_e=$e:Le.sibling=$e,Le=$e);return t&&be.forEach(function(JT){return i(z,JT)}),Ke&&$s(z,Se),_e}function lt(z,L,F,ne){if(typeof F=="object"&&F!==null&&F.type===M&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case T:e:{for(var _e=F.key;L!==null;){if(L.key===_e){if(_e=F.type,_e===M){if(L.tag===7){a(z,L.sibling),ne=h(L,F.props.children),ne.return=z,z=ne;break e}}else if(L.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&Fy(_e)===L.type){a(z,L.sibling),ne=h(L,F.props),Al(ne,F),ne.return=z,z=ne;break e}a(z,L);break}else i(z,L);L=L.sibling}F.type===M?(ne=Ys(F.props.children,z.mode,ne,F.key),ne.return=z,z=ne):(ne=dc(F.type,F.key,F.props,null,z.mode,ne),Al(ne,F),ne.return=z,z=ne)}return x(z);case N:e:{for(_e=F.key;L!==null;){if(L.key===_e)if(L.tag===4&&L.stateNode.containerInfo===F.containerInfo&&L.stateNode.implementation===F.implementation){a(z,L.sibling),ne=h(L,F.children||[]),ne.return=z,z=ne;break e}else{a(z,L);break}else i(z,L);L=L.sibling}ne=Ld(F,z.mode,ne),ne.return=z,z=ne}return x(z);case A:return _e=F._init,F=_e(F._payload),lt(z,L,F,ne)}if(it(F))return Ce(z,L,F,ne);if(U(F)){if(_e=U(F),typeof _e!="function")throw Error(s(150));return F=_e.call(F),Te(z,L,F,ne)}if(typeof F.then=="function")return lt(z,L,Cc(F),ne);if(F.$$typeof===Y)return lt(z,L,gc(z,F),ne);Dc(z,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,L!==null&&L.tag===6?(a(z,L.sibling),ne=h(L,F),ne.return=z,z=ne):(a(z,L),ne=Pd(F,z.mode,ne),ne.return=z,z=ne),x(z)):a(z,L)}return function(z,L,F,ne){try{wl=0;var _e=lt(z,L,F,ne);return Wa=null,_e}catch(be){if(be===gl||be===vc)throw be;var Le=jn(29,be,null,z.mode);return Le.lanes=ne,Le.return=z,Le}finally{}}}var Ya=Gy(!0),Wy=Gy(!1),ii=J(null),Mi=null;function jr(t){var i=t.alternate;ae(qt,qt.current&1),ae(ii,t),Mi===null&&(i===null||qa.current!==null||i.memoizedState!==null)&&(Mi=t)}function Yy(t){if(t.tag===22){if(ae(qt,qt.current),ae(ii,t),Mi===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Mi=t)}}else zr()}function zr(){ae(qt,qt.current),ae(ii,ii.current)}function or(t){te(ii),Mi===t&&(Mi=null),te(qt)}var qt=J(0);function kc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||ap(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function yf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var vf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Hn(),h=Pr(l);h.payload=i,a!=null&&(h.callback=a),i=Lr(t,h,l),i!==null&&(Fn(i,t,l),vl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Hn(),h=Pr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Lr(t,h,l),i!==null&&(Fn(i,t,l),vl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Hn(),l=Pr(a);l.tag=2,i!=null&&(l.callback=i),i=Lr(t,l,a),i!==null&&(Fn(i,t,a),vl(i,t,a))}};function Qy(t,i,a,l,h,f,x){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,x):i.prototype&&i.prototype.isPureReactComponent?!ll(a,l)||!ll(h,f):!0}function $y(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&vf.enqueueReplaceState(i,i.state,null)}function na(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Mc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ky(t){Mc(t)}function Xy(t){console.error(t)}function Zy(t){Mc(t)}function Nc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Jy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function _f(t,i,a){return a=Pr(a),a.tag=3,a.payload={element:null},a.callback=function(){Nc(t,i)},a}function e0(t){return t=Pr(t),t.tag=3,t}function t0(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Jy(i,a,l)}}var x=a.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(t.callback=function(){Jy(i,a,l),typeof h!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function JE(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&fl(i,a,h,!0),a=ii.current,a!==null){switch(a.tag){case 13:return Mi===null?Hf():a.alternate===null&&bt===0&&(bt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Yd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Gf(t,l,h)),!1;case 22:return a.flags|=65536,l===Yd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Gf(t,l,h)),!1}throw Error(s(435,a.tag))}return Gf(t,l,h),Hf(),!1}if(Ke)return i=ii.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==zd&&(t=Error(s(422),{cause:l}),dl(Jn(t,a)))):(l!==zd&&(i=Error(s(423),{cause:l}),dl(Jn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Jn(l,a),h=_f(t.stateNode,l,h),Kd(t,h),bt!==4&&(bt=2)),!1;var f=Error(s(520),{cause:l});if(f=Jn(f,a),Nl===null?Nl=[f]:Nl.push(f),bt!==4&&(bt=2),i===null)return!0;l=Jn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=_f(a.stateNode,l,t),Kd(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Wr===null||!Wr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=e0(h),t0(h,t,a,l),Kd(a,h),!1}a=a.return}while(a!==null);return!1}var n0=Error(s(461)),Kt=!1;function sn(t,i,a,l){i.child=t===null?Wy(i,null,a,l):Ya(i,t.child,a,l)}function i0(t,i,a,l,h){a=a.render;var f=i.ref;if("ref"in l){var x={};for(var E in l)E!=="ref"&&(x[E]=l[E])}else x=l;return Js(i),l=tf(t,i,a,x,f,h),E=nf(),t!==null&&!Kt?(rf(t,i,h),lr(t,i,h)):(Ke&&E&&Ud(i),i.flags|=1,sn(t,i,l,h),i.child)}function r0(t,i,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!Vd(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,s0(t,i,f,l,h)):(t=dc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!Rf(t,h)){var x=f.memoizedProps;if(a=a.compare,a=a!==null?a:ll,a(x,l)&&t.ref===i.ref)return lr(t,i,h)}return i.flags|=1,t=tr(f,l),t.ref=i.ref,t.return=i,i.child=t}function s0(t,i,a,l,h){if(t!==null){var f=t.memoizedProps;if(ll(f,l)&&t.ref===i.ref)if(Kt=!1,i.pendingProps=l=f,Rf(t,h))(t.flags&131072)!==0&&(Kt=!0);else return i.lanes=t.lanes,lr(t,i,h)}return bf(t,i,a,l,h)}function a0(t,i,a){var l=i.pendingProps,h=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(h=i.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~l}else i.childLanes=0,i.child=null;return o0(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&yc(i,f!==null?f.cachePool:null),f!==null?sy(i,f):Zd(),Yy(i);else return i.lanes=i.childLanes=536870912,o0(t,i,f!==null?f.baseLanes|a:a,a)}else f!==null?(yc(i,f.cachePool),sy(i,f),zr(),i.memoizedState=null):(t!==null&&yc(i,null),Zd(),zr());return sn(t,i,h,a),i.child}function o0(t,i,a,l){var h=Wd();return h=h===null?null:{parent:Bt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&yc(i,null),Zd(),Yy(i),t!==null&&fl(t,i,l,!0),null}function Oc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function bf(t,i,a,l,h){return Js(i),a=tf(t,i,a,l,void 0,h),l=nf(),t!==null&&!Kt?(rf(t,i,h),lr(t,i,h)):(Ke&&l&&Ud(i),i.flags|=1,sn(t,i,a,h),i.child)}function l0(t,i,a,l,h,f){return Js(i),i.updateQueue=null,a=oy(i,l,a,h),ay(t),l=nf(),t!==null&&!Kt?(rf(t,i,f),lr(t,i,f)):(Ke&&l&&Ud(i),i.flags|=1,sn(t,i,a,f),i.child)}function u0(t,i,a,l,h){if(Js(i),i.stateNode===null){var f=La,x=a.contextType;typeof x=="object"&&x!==null&&(f=fn(x)),f=new a(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=vf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},Qd(i),x=a.contextType,f.context=typeof x=="object"&&x!==null?fn(x):La,f.state=i.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(yf(i,a,x,l),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(x=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),x!==f.state&&vf.enqueueReplaceState(f,f.state,null),bl(i,l,f,h),_l(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){f=i.stateNode;var E=i.memoizedProps,C=na(a,E);f.props=C;var G=f.context,ee=a.contextType;x=La,typeof ee=="object"&&ee!==null&&(x=fn(ee));var re=a.getDerivedStateFromProps;ee=typeof re=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,ee||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||G!==x)&&$y(i,f,l,x),Vr=!1;var Q=i.memoizedState;f.state=Q,bl(i,l,f,h),_l(),G=i.memoizedState,E||Q!==G||Vr?(typeof re=="function"&&(yf(i,a,re,l),G=i.memoizedState),(C=Vr||Qy(i,a,C,l,Q,G,x))?(ee||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=G),f.props=l,f.state=G,f.context=x,l=C):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,$d(t,i),x=i.memoizedProps,ee=na(a,x),f.props=ee,re=i.pendingProps,Q=f.context,G=a.contextType,C=La,typeof G=="object"&&G!==null&&(C=fn(G)),E=a.getDerivedStateFromProps,(G=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(x!==re||Q!==C)&&$y(i,f,l,C),Vr=!1,Q=i.memoizedState,f.state=Q,bl(i,l,f,h),_l();var $=i.memoizedState;x!==re||Q!==$||Vr||t!==null&&t.dependencies!==null&&mc(t.dependencies)?(typeof E=="function"&&(yf(i,a,E,l),$=i.memoizedState),(ee=Vr||Qy(i,a,ee,l,Q,$,C)||t!==null&&t.dependencies!==null&&mc(t.dependencies))?(G||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,$,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,$,C)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||x===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=$),f.props=l,f.state=$,f.context=C,l=ee):(typeof f.componentDidUpdate!="function"||x===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),l=!1)}return f=l,Oc(t,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&l?(i.child=Ya(i,t.child,null,h),i.child=Ya(i,null,a,h)):sn(t,i,a,h),i.memoizedState=f.state,t=i.child):t=lr(t,i,h),t}function c0(t,i,a,l){return hl(),i.flags|=256,sn(t,i,a,l),i.child}var xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ef(t){return{baseLanes:t,cachePool:Xg()}}function Tf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=ri),t}function h0(t,i,a){var l=i.pendingProps,h=!1,f=(i.flags&128)!==0,x;if((x=f)||(x=t!==null&&t.memoizedState===null?!1:(qt.current&2)!==0),x&&(h=!0,i.flags&=-129),x=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ke){if(h?jr(i):zr(),Ke){var E=_t,C;if(C=E){e:{for(C=E,E=ki;C.nodeType!==8;){if(!E){E=null;break e}if(C=mi(C.nextSibling),C===null){E=null;break e}}E=C}E!==null?(i.memoizedState={dehydrated:E,treeContext:Qs!==null?{id:nr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},C=jn(18,null,null,0),C.stateNode=E,C.return=i,i.child=C,An=i,_t=null,C=!0):C=!1}C||Xs(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return ap(E)?i.lanes=32:i.lanes=536870912,null;or(i)}return E=l.children,l=l.fallback,h?(zr(),h=i.mode,E=Vc({mode:"hidden",children:E},h),l=Ys(l,h,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,h=i.child,h.memoizedState=Ef(a),h.childLanes=Tf(t,x,a),i.memoizedState=xf,l):(jr(i),Sf(i,E))}if(C=t.memoizedState,C!==null&&(E=C.dehydrated,E!==null)){if(f)i.flags&256?(jr(i),i.flags&=-257,i=wf(t,i,a)):i.memoizedState!==null?(zr(),i.child=t.child,i.flags|=128,i=null):(zr(),h=l.fallback,E=i.mode,l=Vc({mode:"visible",children:l.children},E),h=Ys(h,E,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ya(i,t.child,null,a),l=i.child,l.memoizedState=Ef(a),l.childLanes=Tf(t,x,a),i.memoizedState=xf,i=h);else if(jr(i),ap(E)){if(x=E.nextSibling&&E.nextSibling.dataset,x)var G=x.dgst;x=G,l=Error(s(419)),l.stack="",l.digest=x,dl({value:l,source:null,stack:null}),i=wf(t,i,a)}else if(Kt||fl(t,i,a,!1),x=(a&t.childLanes)!==0,Kt||x){if(x=ct,x!==null&&(l=a&-a,l=(l&42)!==0?1:Rr(l),l=(l&(x.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Pa(t,l),Fn(x,t,l),n0;E.data==="$?"||Hf(),i=wf(t,i,a)}else E.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,_t=mi(E.nextSibling),An=i,Ke=!0,Ks=null,ki=!1,t!==null&&(ti[ni++]=nr,ti[ni++]=ir,ti[ni++]=Qs,nr=t.id,ir=t.overflow,Qs=i),i=Sf(i,l.children),i.flags|=4096);return i}return h?(zr(),h=l.fallback,E=i.mode,C=t.child,G=C.sibling,l=tr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,G!==null?h=tr(G,h):(h=Ys(h,E,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,E=t.child.memoizedState,E===null?E=Ef(a):(C=E.cachePool,C!==null?(G=Bt._currentValue,C=C.parent!==G?{parent:G,pool:G}:C):C=Xg(),E={baseLanes:E.baseLanes|a,cachePool:C}),h.memoizedState=E,h.childLanes=Tf(t,x,a),i.memoizedState=xf,l):(jr(i),a=t.child,t=a.sibling,a=tr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(x=i.deletions,x===null?(i.deletions=[t],i.flags|=16):x.push(t)),i.child=a,i.memoizedState=null,a)}function Sf(t,i){return i=Vc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Vc(t,i){return t=jn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function wf(t,i,a){return Ya(i,t.child,null,a),t=Sf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function d0(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),qd(t.return,i,a)}function Af(t,i,a,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=h)}function f0(t,i,a){var l=i.pendingProps,h=l.revealOrder,f=l.tail;if(sn(t,i,l.children,a),l=qt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&d0(t,a,i);else if(t.tag===19)d0(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ae(qt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&kc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Af(i,!1,h,a,f);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&kc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Af(i,!0,a,null,f);break;case"together":Af(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function lr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Gr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(fl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=tr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=tr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Rf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&mc(t)))}function eT(t,i,a){switch(i.tag){case 3:De(i,i.stateNode.containerInfo),Or(i,Bt,t.memoizedState.cache),hl();break;case 27:case 5:rt(i);break;case 4:De(i,i.stateNode.containerInfo);break;case 10:Or(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(jr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?h0(t,i,a):(jr(i),t=lr(t,i,a),t!==null?t.sibling:null);jr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(fl(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return f0(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(qt,qt.current),l)break;return null;case 22:case 23:return i.lanes=0,a0(t,i,a);case 24:Or(i,Bt,t.memoizedState.cache)}return lr(t,i,a)}function p0(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Kt=!0;else{if(!Rf(t,a)&&(i.flags&128)===0)return Kt=!1,eT(t,i,a);Kt=(t.flags&131072)!==0}else Kt=!1,Ke&&(i.flags&1048576)!==0&&Fg(i,pc,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Vd(l)?(t=na(l,t),i.tag=1,i=u0(null,i,l,t,a)):(i.tag=0,i=bf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ue){i.tag=11,i=i0(null,i,l,t,a);break e}else if(h===k){i.tag=14,i=r0(null,i,l,t,a);break e}}throw i=Ye(l)||l,Error(s(306,i,""))}}return i;case 0:return bf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=na(l,i.pendingProps),u0(t,i,l,h,a);case 3:e:{if(De(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var f=i.memoizedState;h=f.element,$d(t,i),bl(i,l,null,a);var x=i.memoizedState;if(l=x.cache,Or(i,Bt,l),l!==f.cache&&Hd(i,[Bt],a,!0),_l(),l=x.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:x.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=c0(t,i,l,a);break e}else if(l!==h){h=Jn(Error(s(424)),i),dl(h),i=c0(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(_t=mi(t.firstChild),An=i,Ke=!0,Ks=null,ki=!0,a=Wy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(hl(),l===h){i=lr(t,i,a);break e}sn(t,i,l,a)}i=i.child}return i;case 26:return Oc(t,i),t===null?(a=vv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ke||(a=i.type,t=i.pendingProps,l=$c(me.current).createElement(a),l[Ut]=i,l[It]=t,on(l,a,t),Et(l),i.stateNode=l):i.memoizedState=vv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return rt(i),t===null&&Ke&&(l=i.stateNode=mv(i.type,i.pendingProps,me.current),An=i,ki=!0,h=_t,$r(i.type)?(op=h,_t=mi(l.firstChild)):_t=h),sn(t,i,i.pendingProps.children,a),Oc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ke&&((h=l=_t)&&(l=IT(l,i.type,i.pendingProps,ki),l!==null?(i.stateNode=l,An=i,_t=mi(l.firstChild),ki=!1,h=!0):h=!1),h||Xs(i)),rt(i),h=i.type,f=i.pendingProps,x=t!==null?t.memoizedProps:null,l=f.children,ip(h,f)?l=null:x!==null&&ip(h,x)&&(i.flags|=32),i.memoizedState!==null&&(h=tf(t,i,WE,null,null,a),ql._currentValue=h),Oc(t,i),sn(t,i,l,a),i.child;case 6:return t===null&&Ke&&((t=a=_t)&&(a=CT(a,i.pendingProps,ki),a!==null?(i.stateNode=a,An=i,_t=null,t=!0):t=!1),t||Xs(i)),null;case 13:return h0(t,i,a);case 4:return De(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ya(i,null,l,a):sn(t,i,l,a),i.child;case 11:return i0(t,i,i.type,i.pendingProps,a);case 7:return sn(t,i,i.pendingProps,a),i.child;case 8:return sn(t,i,i.pendingProps.children,a),i.child;case 12:return sn(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Or(i,i.type,l.value),sn(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Js(i),h=fn(h),l=l(h),i.flags|=1,sn(t,i,l,a),i.child;case 14:return r0(t,i,i.type,i.pendingProps,a);case 15:return s0(t,i,i.type,i.pendingProps,a);case 19:return f0(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=Vc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=tr(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return a0(t,i,a);case 24:return Js(i),l=fn(Bt),t===null?(h=Wd(),h===null&&(h=ct,f=Fd(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:l,cache:h},Qd(i),Or(i,Bt,h)):((t.lanes&a)!==0&&($d(t,i),bl(i,null,null,a),_l()),h=t.memoizedState,f=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Or(i,Bt,l)):(l=f.cache,Or(i,Bt,l),l!==h.cache&&Hd(i,[Bt],a,!0))),sn(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ur(t){t.flags|=4}function m0(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Tv(i)){if(i=ii.current,i!==null&&((Ge&4194048)===Ge?Mi!==null:(Ge&62914560)!==Ge&&(Ge&536870912)===0||i!==Mi))throw yl=Yd,Zg;t.flags|=8192}}function Pc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Fo():536870912,t.lanes|=i,Xa|=i)}function Rl(t,i){if(!Ke)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function gt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function tT(t,i,a){var l=i.pendingProps;switch(jd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(i),null;case 1:return gt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),sr(Bt),qe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(cl(i)?ur(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Yg())),gt(i),null;case 26:return a=i.memoizedState,t===null?(ur(i),a!==null?(gt(i),m0(i,a)):(gt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(ur(i),gt(i),m0(i,a)):(gt(i),i.flags&=-16777217):(t.memoizedProps!==l&&ur(i),gt(i),i.flags&=-16777217),null;case 27:vt(i),a=me.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ur(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return gt(i),null}t=he.current,cl(i)?Gg(i):(t=mv(h,l,a),i.stateNode=t,ur(i))}return gt(i),null;case 5:if(vt(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ur(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return gt(i),null}if(t=he.current,cl(i))Gg(i);else{switch(h=$c(me.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Ut]=i,t[It]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(on(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ur(i)}}return gt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ur(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=me.current,cl(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=An,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ut]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||lv(t.nodeValue,a)),t||Xs(i)}else t=$c(t).createTextNode(l),t[Ut]=i,i.stateNode=t}return gt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=cl(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ut]=i}else hl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;gt(i),h=!1}else h=Yg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(or(i),i):(or(i),null)}if(or(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Pc(i,i.updateQueue),gt(i),null;case 4:return qe(),t===null&&Zf(i.stateNode.containerInfo),gt(i),null;case 10:return sr(i.type),gt(i),null;case 19:if(te(qt),h=i.memoizedState,h===null)return gt(i),null;if(l=(i.flags&128)!==0,f=h.rendering,f===null)if(l)Rl(h,!1);else{if(bt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=kc(t),f!==null){for(i.flags|=128,Rl(h,!1),t=f.updateQueue,i.updateQueue=t,Pc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Hg(a,t),a=a.sibling;return ae(qt,qt.current&1|2),i.child}t=t.sibling}h.tail!==null&&we()>jc&&(i.flags|=128,l=!0,Rl(h,!1),i.lanes=4194304)}else{if(!l)if(t=kc(f),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Pc(i,t),Rl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Ke)return gt(i),null}else 2*we()-h.renderingStartTime>jc&&a!==536870912&&(i.flags|=128,l=!0,Rl(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(t=h.last,t!==null?t.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=we(),i.sibling=null,t=qt.current,ae(qt,l?t&1|2:t&1),i):(gt(i),null);case 22:case 23:return or(i),Jd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(gt(i),i.subtreeFlags&6&&(i.flags|=8192)):gt(i),a=i.updateQueue,a!==null&&Pc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&te(ea),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),sr(Bt),gt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function nT(t,i){switch(jd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return sr(Bt),qe(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return vt(i),null;case 13:if(or(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));hl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return te(qt),null;case 4:return qe(),null;case 10:return sr(i.type),null;case 22:case 23:return or(i),Jd(),t!==null&&te(ea),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return sr(Bt),null;case 25:return null;default:return null}}function g0(t,i){switch(jd(i),i.tag){case 3:sr(Bt),qe();break;case 26:case 27:case 5:vt(i);break;case 4:qe();break;case 13:or(i);break;case 19:te(qt);break;case 10:sr(i.type);break;case 22:case 23:or(i),Jd(),t!==null&&te(ea);break;case 24:sr(Bt)}}function Il(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,x=a.inst;l=f(),x.destroy=l}a=a.next}while(a!==h)}}catch(E){ut(i,i.return,E)}}function Br(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var x=l.inst,E=x.destroy;if(E!==void 0){x.destroy=void 0,h=i;var C=a,G=E;try{G()}catch(ee){ut(h,C,ee)}}}l=l.next}while(l!==f)}}catch(ee){ut(i,i.return,ee)}}function y0(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{ry(i,a)}catch(l){ut(t,t.return,l)}}}function v0(t,i,a){a.props=na(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ut(t,i,l)}}function Cl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){ut(t,i,h)}}function Ni(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ut(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ut(t,i,h)}else a.current=null}function _0(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ut(t,t.return,h)}}function If(t,i,a){try{var l=t.stateNode;TT(l,t.type,a,i),l[It]=i}catch(h){ut(t,t.return,h)}}function b0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&$r(t.type)||t.tag===4}function Cf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||b0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&$r(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Df(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Qc));else if(l!==4&&(l===27&&$r(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Df(t,i,a),t=t.sibling;t!==null;)Df(t,i,a),t=t.sibling}function Lc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&$r(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Lc(t,i,a),t=t.sibling;t!==null;)Lc(t,i,a),t=t.sibling}function x0(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);on(i,l,a),i[Ut]=t,i[It]=a}catch(f){ut(t,t.return,f)}}var cr=!1,St=!1,kf=!1,E0=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function iT(t,i){if(t=t.containerInfo,tp=th,t=Ng(t),Id(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var x=0,E=-1,C=-1,G=0,ee=0,re=t,Q=null;t:for(;;){for(var $;re!==a||h!==0&&re.nodeType!==3||(E=x+h),re!==f||l!==0&&re.nodeType!==3||(C=x+l),re.nodeType===3&&(x+=re.nodeValue.length),($=re.firstChild)!==null;)Q=re,re=$;for(;;){if(re===t)break t;if(Q===a&&++G===h&&(E=x),Q===f&&++ee===l&&(C=x),($=re.nextSibling)!==null)break;re=Q,Q=re.parentNode}re=$}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(np={focusedElem:t,selectionRange:a},th=!1,Xt=i;Xt!==null;)if(i=Xt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Xt=t;else for(;Xt!==null;){switch(i=Xt,f=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var Ce=na(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ce,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Te){ut(a,a.return,Te)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)sp(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Xt=t;break}Xt=i.return}}function T0(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:qr(t,a),l&4&&Il(5,a);break;case 1:if(qr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(x){ut(a,a.return,x)}else{var h=na(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(x){ut(a,a.return,x)}}l&64&&y0(a),l&512&&Cl(a,a.return);break;case 3:if(qr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ry(t,i)}catch(x){ut(a,a.return,x)}}break;case 27:i===null&&l&4&&x0(a);case 26:case 5:qr(t,a),i===null&&l&4&&_0(a),l&512&&Cl(a,a.return);break;case 12:qr(t,a);break;case 13:qr(t,a),l&4&&A0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=dT.bind(null,a),DT(t,a))));break;case 22:if(l=a.memoizedState!==null||cr,!l){i=i!==null&&i.memoizedState!==null||St,h=cr;var f=St;cr=l,(St=i)&&!f?Hr(t,a,(a.subtreeFlags&8772)!==0):qr(t,a),cr=h,St=f}break;case 30:break;default:qr(t,a)}}function S0(t){var i=t.alternate;i!==null&&(t.alternate=null,S0(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Dr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pt=null,kn=!1;function hr(t,i,a){for(a=a.child;a!==null;)w0(t,i,a),a=a.sibling}function w0(t,i,a){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(ht,a)}catch{}switch(a.tag){case 26:St||Ni(a,i),hr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:St||Ni(a,i);var l=pt,h=kn;$r(a.type)&&(pt=a.stateNode,kn=!1),hr(t,i,a),Ul(a.stateNode),pt=l,kn=h;break;case 5:St||Ni(a,i);case 6:if(l=pt,h=kn,pt=null,hr(t,i,a),pt=l,kn=h,pt!==null)if(kn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(a.stateNode)}catch(f){ut(a,i,f)}else try{pt.removeChild(a.stateNode)}catch(f){ut(a,i,f)}break;case 18:pt!==null&&(kn?(t=pt,fv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Wl(t)):fv(pt,a.stateNode));break;case 4:l=pt,h=kn,pt=a.stateNode.containerInfo,kn=!0,hr(t,i,a),pt=l,kn=h;break;case 0:case 11:case 14:case 15:St||Br(2,a,i),St||Br(4,a,i),hr(t,i,a);break;case 1:St||(Ni(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&v0(a,i,l)),hr(t,i,a);break;case 21:hr(t,i,a);break;case 22:St=(l=St)||a.memoizedState!==null,hr(t,i,a),St=l;break;default:hr(t,i,a)}}function A0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Wl(t)}catch(a){ut(i,i.return,a)}}function rT(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new E0),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new E0),i;default:throw Error(s(435,t.tag))}}function Mf(t,i){var a=rT(t);i.forEach(function(l){var h=fT.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function zn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,x=i,E=x;e:for(;E!==null;){switch(E.tag){case 27:if($r(E.type)){pt=E.stateNode,kn=!1;break e}break;case 5:pt=E.stateNode,kn=!1;break e;case 3:case 4:pt=E.stateNode.containerInfo,kn=!0;break e}E=E.return}if(pt===null)throw Error(s(160));w0(f,x,h),pt=null,kn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)R0(i,t),i=i.sibling}var pi=null;function R0(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:zn(i,t),Bn(t),l&4&&(Br(3,t,t.return),Il(3,t),Br(5,t,t.return));break;case 1:zn(i,t),Bn(t),l&512&&(St||a===null||Ni(a,a.return)),l&64&&cr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=pi;if(zn(i,t),Bn(t),l&512&&(St||a===null||Ni(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ks]||f[Ut]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),on(f,l,a),f[Ut]=t,Et(f),l=f;break e;case"link":var x=xv("link","href",h).get(l+(a.href||""));if(x){for(var E=0;E<x.length;E++)if(f=x[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){x.splice(E,1);break t}}f=h.createElement(l),on(f,l,a),h.head.appendChild(f);break;case"meta":if(x=xv("meta","content",h).get(l+(a.content||""))){for(E=0;E<x.length;E++)if(f=x[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){x.splice(E,1);break t}}f=h.createElement(l),on(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[Ut]=t,Et(f),l=f}t.stateNode=l}else Ev(h,t.type,t.stateNode);else t.stateNode=bv(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Ev(h,t.type,t.stateNode):bv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&If(t,t.memoizedProps,a.memoizedProps)}break;case 27:zn(i,t),Bn(t),l&512&&(St||a===null||Ni(a,a.return)),a!==null&&l&4&&If(t,t.memoizedProps,a.memoizedProps);break;case 5:if(zn(i,t),Bn(t),l&512&&(St||a===null||Ni(a,a.return)),t.flags&32){h=t.stateNode;try{$n(h,"")}catch($){ut(t,t.return,$)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,If(t,h,a!==null?a.memoizedProps:h)),l&1024&&(kf=!0);break;case 6:if(zn(i,t),Bn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch($){ut(t,t.return,$)}}break;case 3:if(Zc=null,h=pi,pi=Kc(i.containerInfo),zn(i,t),pi=h,Bn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Wl(i.containerInfo)}catch($){ut(t,t.return,$)}kf&&(kf=!1,I0(t));break;case 4:l=pi,pi=Kc(t.stateNode.containerInfo),zn(i,t),Bn(t),pi=l;break;case 12:zn(i,t),Bn(t);break;case 13:zn(i,t),Bn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Uf=we()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mf(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,G=cr,ee=St;if(cr=G||h,St=ee||C,zn(i,t),St=ee,cr=G,Bn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||cr||St||ia(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(f=C.stateNode,h)x=f.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{E=C.stateNode;var re=C.memoizedProps.style,Q=re!=null&&re.hasOwnProperty("display")?re.display:null;E.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch($){ut(C,C.return,$)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch($){ut(C,C.return,$)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Mf(t,a))));break;case 19:zn(i,t),Bn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mf(t,l)));break;case 30:break;case 21:break;default:zn(i,t),Bn(t)}}function Bn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(b0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Cf(t);Lc(t,f,h);break;case 5:var x=a.stateNode;a.flags&32&&($n(x,""),a.flags&=-33);var E=Cf(t);Lc(t,E,x);break;case 3:case 4:var C=a.stateNode.containerInfo,G=Cf(t);Df(t,G,C);break;default:throw Error(s(161))}}catch(ee){ut(t,t.return,ee)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function I0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;I0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function qr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)T0(t,i.alternate,i),i=i.sibling}function ia(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Br(4,i,i.return),ia(i);break;case 1:Ni(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&v0(i,i.return,a),ia(i);break;case 27:Ul(i.stateNode);case 26:case 5:Ni(i,i.return),ia(i);break;case 22:i.memoizedState===null&&ia(i);break;case 30:ia(i);break;default:ia(i)}t=t.sibling}}function Hr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,f=i,x=f.flags;switch(f.tag){case 0:case 11:case 15:Hr(h,f,a),Il(4,f);break;case 1:if(Hr(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){ut(l,l.return,G)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)iy(C[h],E)}catch(G){ut(l,l.return,G)}}a&&x&64&&y0(f),Cl(f,f.return);break;case 27:x0(f);case 26:case 5:Hr(h,f,a),a&&l===null&&x&4&&_0(f),Cl(f,f.return);break;case 12:Hr(h,f,a);break;case 13:Hr(h,f,a),a&&x&4&&A0(h,f);break;case 22:f.memoizedState===null&&Hr(h,f,a),Cl(f,f.return);break;case 30:break;default:Hr(h,f,a)}i=i.sibling}}function Nf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&pl(a))}function Of(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&pl(t))}function Oi(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)C0(t,i,a,l),i=i.sibling}function C0(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Oi(t,i,a,l),h&2048&&Il(9,i);break;case 1:Oi(t,i,a,l);break;case 3:Oi(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&pl(t)));break;case 12:if(h&2048){Oi(t,i,a,l),t=i.stateNode;try{var f=i.memoizedProps,x=f.id,E=f.onPostCommit;typeof E=="function"&&E(x,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){ut(i,i.return,C)}}else Oi(t,i,a,l);break;case 13:Oi(t,i,a,l);break;case 23:break;case 22:f=i.stateNode,x=i.alternate,i.memoizedState!==null?f._visibility&2?Oi(t,i,a,l):Dl(t,i):f._visibility&2?Oi(t,i,a,l):(f._visibility|=2,Qa(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Nf(x,i);break;case 24:Oi(t,i,a,l),h&2048&&Of(i.alternate,i);break;default:Oi(t,i,a,l)}}function Qa(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=t,x=i,E=a,C=l,G=x.flags;switch(x.tag){case 0:case 11:case 15:Qa(f,x,E,C,h),Il(8,x);break;case 23:break;case 22:var ee=x.stateNode;x.memoizedState!==null?ee._visibility&2?Qa(f,x,E,C,h):Dl(f,x):(ee._visibility|=2,Qa(f,x,E,C,h)),h&&G&2048&&Nf(x.alternate,x);break;case 24:Qa(f,x,E,C,h),h&&G&2048&&Of(x.alternate,x);break;default:Qa(f,x,E,C,h)}i=i.sibling}}function Dl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Dl(a,l),h&2048&&Nf(l.alternate,l);break;case 24:Dl(a,l),h&2048&&Of(l.alternate,l);break;default:Dl(a,l)}i=i.sibling}}var kl=8192;function $a(t){if(t.subtreeFlags&kl)for(t=t.child;t!==null;)D0(t),t=t.sibling}function D0(t){switch(t.tag){case 26:$a(t),t.flags&kl&&t.memoizedState!==null&&HT(pi,t.memoizedState,t.memoizedProps);break;case 5:$a(t);break;case 3:case 4:var i=pi;pi=Kc(t.stateNode.containerInfo),$a(t),pi=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=kl,kl=16777216,$a(t),kl=i):$a(t));break;default:$a(t)}}function k0(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ml(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Xt=l,N0(l,t)}k0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)M0(t),t=t.sibling}function M0(t){switch(t.tag){case 0:case 11:case 15:Ml(t),t.flags&2048&&Br(9,t,t.return);break;case 3:Ml(t);break;case 12:Ml(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Uc(t)):Ml(t);break;default:Ml(t)}}function Uc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Xt=l,N0(l,t)}k0(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Br(8,i,i.return),Uc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Uc(i));break;default:Uc(i)}t=t.sibling}}function N0(t,i){for(;Xt!==null;){var a=Xt;switch(a.tag){case 0:case 11:case 15:Br(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:pl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Xt=l;else e:for(a=t;Xt!==null;){l=Xt;var h=l.sibling,f=l.return;if(S0(l),l===a){Xt=null;break e}if(h!==null){h.return=f,Xt=h;break e}Xt=f}}}var sT={getCacheForType:function(t){var i=fn(Bt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},aT=typeof WeakMap=="function"?WeakMap:Map,tt=0,ct=null,Ue=null,Ge=0,nt=0,qn=null,Fr=!1,Ka=!1,Vf=!1,dr=0,bt=0,Gr=0,ra=0,Pf=0,ri=0,Xa=0,Nl=null,Mn=null,Lf=!1,Uf=0,jc=1/0,zc=null,Wr=null,an=0,Yr=null,Za=null,Ja=0,jf=0,zf=null,O0=null,Ol=0,Bf=null;function Hn(){if((tt&2)!==0&&Ge!==0)return Ge&-Ge;if(j.T!==null){var t=za;return t!==0?t:Qf()}return Ir()}function V0(){ri===0&&(ri=(Ge&536870912)===0||Ke?Ho():536870912);var t=ii.current;return t!==null&&(t.flags|=32),ri}function Fn(t,i,a){(t===ct&&(nt===2||nt===9)||t.cancelPendingCommit!==null)&&(eo(t,0),Qr(t,Ge,ri,!1)),Fi(t,a),((tt&2)===0||t!==ct)&&(t===ct&&((tt&2)===0&&(ra|=a),bt===4&&Qr(t,Ge,ri,!1)),Vi(t))}function P0(t,i,a){if((tt&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||Ds(t,i),h=l?uT(t,i):Ff(t,i,!0),f=l;do{if(h===0){Ka&&!l&&Qr(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!oT(a)){h=Ff(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var x=0;else x=t.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){i=x;e:{var E=t;h=Nl;var C=E.current.memoizedState.isDehydrated;if(C&&(eo(E,x).flags|=256),x=Ff(E,x,!1),x!==2){if(Vf&&!C){E.errorRecoveryDisabledLanes|=f,ra|=f,h=4;break e}f=Mn,Mn=h,f!==null&&(Mn===null?Mn=f:Mn.push.apply(Mn,f))}h=x}if(f=!1,h!==2)continue}}if(h===1){eo(t,0),Qr(t,i,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Qr(l,i,ri,!Fr);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Uf+300-we(),10<h)){if(Qr(l,i,ri,!Fr),ya(l,0,!0)!==0)break e;l.timeoutHandle=hv(L0.bind(null,l,a,Mn,zc,Lf,i,ri,ra,Xa,Fr,f,2,-0,0),h);break e}L0(l,a,Mn,zc,Lf,i,ri,ra,Xa,Fr,f,0,-0,0)}}break}while(!0);Vi(t)}function L0(t,i,a,l,h,f,x,E,C,G,ee,re,Q,$){if(t.timeoutHandle=-1,re=i.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(Bl={stylesheets:null,count:0,unsuspend:qT},D0(i),re=FT(),re!==null)){t.cancelPendingCommit=re(F0.bind(null,t,i,f,a,l,h,x,E,C,ee,1,Q,$)),Qr(t,f,x,!G);return}F0(t,i,f,a,l,h,x,E,C)}function oT(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!Un(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qr(t,i,a,l){i&=~Pf,i&=~ra,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var f=31-dn(h),x=1<<f;l[f]=-1,h&=~x}a!==0&&bi(t,a,i)}function Bc(){return(tt&6)===0?(Vl(0),!1):!0}function qf(){if(Ue!==null){if(nt===0)var t=Ue.return;else t=Ue,rr=Zs=null,sf(t),Wa=null,wl=0,t=Ue;for(;t!==null;)g0(t.alternate,t),t=t.return;Ue=null}}function eo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,wT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),qf(),ct=t,Ue=a=tr(t.current,null),Ge=i,nt=0,qn=null,Fr=!1,Ka=Ds(t,i),Vf=!1,Xa=ri=Pf=ra=Gr=bt=0,Mn=Nl=null,Lf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-dn(l),f=1<<h;i|=t[h],l&=~f}return dr=i,uc(),a}function U0(t,i){Ve=null,j.H=Ic,i===gl||i===vc?(i=ty(),nt=3):i===Zg?(i=ty(),nt=4):nt=i===n0?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,qn=i,Ue===null&&(bt=1,Nc(t,Jn(i,t.current)))}function j0(){var t=j.H;return j.H=Ic,t===null?Ic:t}function z0(){var t=j.A;return j.A=sT,t}function Hf(){bt=4,Fr||(Ge&4194048)!==Ge&&ii.current!==null||(Ka=!0),(Gr&134217727)===0&&(ra&134217727)===0||ct===null||Qr(ct,Ge,ri,!1)}function Ff(t,i,a){var l=tt;tt|=2;var h=j0(),f=z0();(ct!==t||Ge!==i)&&(zc=null,eo(t,i)),i=!1;var x=bt;e:do try{if(nt!==0&&Ue!==null){var E=Ue,C=qn;switch(nt){case 8:qf(),x=6;break e;case 3:case 2:case 9:case 6:ii.current===null&&(i=!0);var G=nt;if(nt=0,qn=null,to(t,E,C,G),a&&Ka){x=0;break e}break;default:G=nt,nt=0,qn=null,to(t,E,C,G)}}lT(),x=bt;break}catch(ee){U0(t,ee)}while(!0);return i&&t.shellSuspendCounter++,rr=Zs=null,tt=l,j.H=h,j.A=f,Ue===null&&(ct=null,Ge=0,uc()),x}function lT(){for(;Ue!==null;)B0(Ue)}function uT(t,i){var a=tt;tt|=2;var l=j0(),h=z0();ct!==t||Ge!==i?(zc=null,jc=we()+500,eo(t,i)):Ka=Ds(t,i);e:do try{if(nt!==0&&Ue!==null){i=Ue;var f=qn;t:switch(nt){case 1:nt=0,qn=null,to(t,i,f,1);break;case 2:case 9:if(Jg(f)){nt=0,qn=null,q0(i);break}i=function(){nt!==2&&nt!==9||ct!==t||(nt=7),Vi(t)},f.then(i,i);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:Jg(f)?(nt=0,qn=null,q0(i)):(nt=0,qn=null,to(t,i,f,7));break;case 5:var x=null;switch(Ue.tag){case 26:x=Ue.memoizedState;case 5:case 27:var E=Ue;if(!x||Tv(x)){nt=0,qn=null;var C=E.sibling;if(C!==null)Ue=C;else{var G=E.return;G!==null?(Ue=G,qc(G)):Ue=null}break t}}nt=0,qn=null,to(t,i,f,5);break;case 6:nt=0,qn=null,to(t,i,f,6);break;case 8:qf(),bt=6;break e;default:throw Error(s(462))}}cT();break}catch(ee){U0(t,ee)}while(!0);return rr=Zs=null,j.H=l,j.A=h,tt=a,Ue!==null?0:(ct=null,Ge=0,uc(),bt)}function cT(){for(;Ue!==null&&!Oe();)B0(Ue)}function B0(t){var i=p0(t.alternate,t,dr);t.memoizedProps=t.pendingProps,i===null?qc(t):Ue=i}function q0(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=l0(a,i,i.pendingProps,i.type,void 0,Ge);break;case 11:i=l0(a,i,i.pendingProps,i.type.render,i.ref,Ge);break;case 5:sf(i);default:g0(a,i),i=Ue=Hg(i,dr),i=p0(a,i,dr)}t.memoizedProps=t.pendingProps,i===null?qc(t):Ue=i}function to(t,i,a,l){rr=Zs=null,sf(i),Wa=null,wl=0;var h=i.return;try{if(JE(t,h,i,a,Ge)){bt=1,Nc(t,Jn(a,t.current)),Ue=null;return}}catch(f){if(h!==null)throw Ue=h,f;bt=1,Nc(t,Jn(a,t.current)),Ue=null;return}i.flags&32768?(Ke||l===1?t=!0:Ka||(Ge&536870912)!==0?t=!1:(Fr=t=!0,(l===2||l===9||l===3||l===6)&&(l=ii.current,l!==null&&l.tag===13&&(l.flags|=16384))),H0(i,t)):qc(i)}function qc(t){var i=t;do{if((i.flags&32768)!==0){H0(i,Fr);return}t=i.return;var a=tT(i.alternate,i,dr);if(a!==null){Ue=a;return}if(i=i.sibling,i!==null){Ue=i;return}Ue=i=t}while(i!==null);bt===0&&(bt=5)}function H0(t,i){do{var a=nT(t.alternate,t);if(a!==null){a.flags&=32767,Ue=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ue=t;return}Ue=t=a}while(t!==null);bt=6,Ue=null}function F0(t,i,a,l,h,f,x,E,C){t.cancelPendingCommit=null;do Hc();while(an!==0);if((tt&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=Nd,Go(t,a,f,x,E,C),t===ct&&(Ue=ct=null,Ge=0),Za=i,Yr=t,Ja=a,jf=f,zf=h,O0=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,pT(Lt,function(){return $0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,h=oe.p,oe.p=2,x=tt,tt|=4;try{iT(t,i,a)}finally{tt=x,oe.p=h,j.T=l}}an=1,G0(),W0(),Y0()}}function G0(){if(an===1){an=0;var t=Yr,i=Za,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=j.T,j.T=null;var l=oe.p;oe.p=2;var h=tt;tt|=4;try{R0(i,t);var f=np,x=Ng(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(x!==E&&E&&E.ownerDocument&&Mg(E.ownerDocument.documentElement,E)){if(C!==null&&Id(E)){var G=C.start,ee=C.end;if(ee===void 0&&(ee=G),"selectionStart"in E)E.selectionStart=G,E.selectionEnd=Math.min(ee,E.value.length);else{var re=E.ownerDocument||document,Q=re&&re.defaultView||window;if(Q.getSelection){var $=Q.getSelection(),Ce=E.textContent.length,Te=Math.min(C.start,Ce),lt=C.end===void 0?Te:Math.min(C.end,Ce);!$.extend&&Te>lt&&(x=lt,lt=Te,Te=x);var z=kg(E,Te),L=kg(E,lt);if(z&&L&&($.rangeCount!==1||$.anchorNode!==z.node||$.anchorOffset!==z.offset||$.focusNode!==L.node||$.focusOffset!==L.offset)){var F=re.createRange();F.setStart(z.node,z.offset),$.removeAllRanges(),Te>lt?($.addRange(F),$.extend(L.node,L.offset)):(F.setEnd(L.node,L.offset),$.addRange(F))}}}}for(re=[],$=E;$=$.parentNode;)$.nodeType===1&&re.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<re.length;E++){var ne=re[E];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}th=!!tp,np=tp=null}finally{tt=h,oe.p=l,j.T=a}}t.current=i,an=2}}function W0(){if(an===2){an=0;var t=Yr,i=Za,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=j.T,j.T=null;var l=oe.p;oe.p=2;var h=tt;tt|=4;try{T0(t,i.alternate,i)}finally{tt=h,oe.p=l,j.T=a}}an=3}}function Y0(){if(an===4||an===3){an=0,Qe();var t=Yr,i=Za,a=Ja,l=O0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?an=5:(an=0,Za=Yr=null,Q0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Wr=null),va(a),i=i.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(ht,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=j.T,h=oe.p,oe.p=2,j.T=null;try{for(var f=t.onRecoverableError,x=0;x<l.length;x++){var E=l[x];f(E.value,{componentStack:E.stack})}}finally{j.T=i,oe.p=h}}(Ja&3)!==0&&Hc(),Vi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Bf?Ol++:(Ol=0,Bf=t):Ol=0,Vl(0)}}function Q0(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,pl(i)))}function Hc(t){return G0(),W0(),Y0(),$0()}function $0(){if(an!==5)return!1;var t=Yr,i=jf;jf=0;var a=va(Ja),l=j.T,h=oe.p;try{oe.p=32>a?32:a,j.T=null,a=zf,zf=null;var f=Yr,x=Ja;if(an=0,Za=Yr=null,Ja=0,(tt&6)!==0)throw Error(s(331));var E=tt;if(tt|=4,M0(f.current),C0(f,f.current,x,a),tt=E,Vl(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(ht,f)}catch{}return!0}finally{oe.p=h,j.T=l,Q0(t,i)}}function K0(t,i,a){i=Jn(a,i),i=_f(t.stateNode,i,2),t=Lr(t,i,2),t!==null&&(Fi(t,2),Vi(t))}function ut(t,i,a){if(t.tag===3)K0(t,t,a);else for(;i!==null;){if(i.tag===3){K0(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Wr===null||!Wr.has(l))){t=Jn(a,t),a=e0(2),l=Lr(i,a,2),l!==null&&(t0(a,l,i,t),Fi(l,2),Vi(l));break}}i=i.return}}function Gf(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new aT;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Vf=!0,h.add(a),t=hT.bind(null,t,i,a),i.then(t,t))}function hT(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ct===t&&(Ge&a)===a&&(bt===4||bt===3&&(Ge&62914560)===Ge&&300>we()-Uf?(tt&2)===0&&eo(t,0):Pf|=a,Xa===Ge&&(Xa=0)),Vi(t)}function X0(t,i){i===0&&(i=Fo()),t=Pa(t,i),t!==null&&(Fi(t,i),Vi(t))}function dT(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),X0(t,a)}function fT(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),X0(t,a)}function pT(t,i){return Wt(t,i)}var Fc=null,no=null,Wf=!1,Gc=!1,Yf=!1,sa=0;function Vi(t){t!==no&&t.next===null&&(no===null?Fc=no=t:no=no.next=t),Gc=!0,Wf||(Wf=!0,gT())}function Vl(t,i){if(!Yf&&Gc){Yf=!0;do for(var a=!1,l=Fc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var x=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-dn(42|t)+1)-1,f&=h&~(x&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,tv(l,f))}else f=Ge,f=ya(l,l===ct?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ds(l,f)||(a=!0,tv(l,f));l=l.next}while(a);Yf=!1}}function mT(){Z0()}function Z0(){Gc=Wf=!1;var t=0;sa!==0&&(ST()&&(t=sa),sa=0);for(var i=we(),a=null,l=Fc;l!==null;){var h=l.next,f=J0(l,i);f===0?(l.next=null,a===null?Fc=h:a.next=h,h===null&&(no=a)):(a=l,(t!==0||(f&3)!==0)&&(Gc=!0)),l=h}Vl(t)}function J0(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var x=31-dn(f),E=1<<x,C=h[x];C===-1?((E&a)===0||(E&l)!==0)&&(h[x]=qo(E,i)):C<=i&&(t.expiredLanes|=E),f&=~E}if(i=ct,a=Ge,a=ya(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(nt===2||nt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ve(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ds(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&ve(l),va(a)){case 2:case 8:a=xt;break;case 32:a=Lt;break;case 268435456:a=En;break;default:a=Lt}return l=ev.bind(null,t),a=Wt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&ve(l),t.callbackPriority=2,t.callbackNode=null,2}function ev(t,i){if(an!==0&&an!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Hc()&&t.callbackNode!==a)return null;var l=Ge;return l=ya(t,t===ct?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(P0(t,l,i),J0(t,we()),t.callbackNode!=null&&t.callbackNode===a?ev.bind(null,t):null)}function tv(t,i){if(Hc())return null;P0(t,i,!0)}function gT(){AT(function(){(tt&6)!==0?Wt(Yt,mT):Z0()})}function Qf(){return sa===0&&(sa=Ho()),sa}function nv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Sa(""+t)}function iv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function yT(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var f=nv((h[It]||null).action),x=l.submitter;x&&(i=(i=x[It]||null)?nv(i.formAction):x.getAttribute("formAction"),i!==null&&(f=i,x=null));var E=new wa("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(sa!==0){var C=x?iv(h,x):new FormData(h);pf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=x?iv(h,x):new FormData(h),pf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var $f=0;$f<Md.length;$f++){var Kf=Md[$f],vT=Kf.toLowerCase(),_T=Kf[0].toUpperCase()+Kf.slice(1);fi(vT,"on"+_T)}fi(Pg,"onAnimationEnd"),fi(Lg,"onAnimationIteration"),fi(Ug,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(PE,"onTransitionRun"),fi(LE,"onTransitionStart"),fi(UE,"onTransitionCancel"),fi(jg,"onTransitionEnd"),Wi("onMouseEnter",["mouseout","mouseover"]),Wi("onMouseLeave",["mouseout","mouseover"]),Wi("onPointerEnter",["pointerout","pointerover"]),Wi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function rv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var x=l.length-1;0<=x;x--){var E=l[x],C=E.instance,G=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=G;try{f(h)}catch(ee){Mc(ee)}h.currentTarget=null,f=C}else for(x=0;x<l.length;x++){if(E=l[x],C=E.instance,G=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=G;try{f(h)}catch(ee){Mc(ee)}h.currentTarget=null,f=C}}}}function je(t,i){var a=i[Yo];a===void 0&&(a=i[Yo]=new Set);var l=t+"__bubble";a.has(l)||(sv(i,t,2,!1),a.add(l))}function Xf(t,i,a){var l=0;i&&(l|=4),sv(a,t,l,i)}var Wc="_reactListening"+Math.random().toString(36).slice(2);function Zf(t){if(!t[Wc]){t[Wc]=!0,Qo.forEach(function(a){a!=="selectionchange"&&(bT.has(a)||Xf(a,!1,t),Xf(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Wc]||(i[Wc]=!0,Xf("selectionchange",!1,i))}}function sv(t,i,a,l){switch(Cv(i)){case 2:var h=YT;break;case 8:h=QT;break;default:h=dp}a=h.bind(null,i,a,t),h=void 0,!Xn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Jf(t,i,a,l,h){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var x=l.tag;if(x===3||x===4){var E=l.stateNode.containerInfo;if(E===h)break;if(x===4)for(x=l.return;x!==null;){var C=x.tag;if((C===3||C===4)&&x.stateNode.containerInfo===h)return;x=x.return}for(;E!==null;){if(x=Gi(E),x===null)return;if(C=x.tag,C===5||C===6||C===26||C===27){l=f=x;continue e}E=E.parentNode}}l=l.return}Qu(function(){var G=f,ee=Kn(a),re=[];e:{var Q=zg.get(t);if(Q!==void 0){var $=wa,Ce=t;switch(t){case"keypress":if(Ai(a)===0)break e;case"keydown":case"keyup":$=ka;break;case"focusin":Ce="focus",$=Ia;break;case"focusout":Ce="blur",$=Ia;break;case"beforeblur":case"afterblur":$=Ia;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Sd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=nc;break;case Pg:case Lg:case Ug:$=Ca;break;case jg:$=rc;break;case"scroll":case"scrollend":$=$u;break;case"wheel":$=Ma;break;case"copy":case"cut":case"paste":$=Da;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=al;break;case"toggle":case"beforetoggle":$=ac}var Te=(i&4)!==0,lt=!Te&&(t==="scroll"||t==="scrollend"),z=Te?Q!==null?Q+"Capture":null:Q;Te=[];for(var L=G,F;L!==null;){var ne=L;if(F=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||F===null||z===null||(ne=Us(L,z),ne!=null&&Te.push(Ll(L,ne,F))),lt)break;L=L.return}0<Te.length&&(Q=new $(Q,Ce,null,a,ee),re.push({event:Q,listeners:Te}))}}if((i&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",Q&&a!==$i&&(Ce=a.relatedTarget||a.fromElement)&&(Gi(Ce)||Ce[Qn]))break e;if(($||Q)&&(Q=ee.window===ee?ee:(Q=ee.ownerDocument)?Q.defaultView||Q.parentWindow:window,$?(Ce=a.relatedTarget||a.toElement,$=G,Ce=Ce?Gi(Ce):null,Ce!==null&&(lt=u(Ce),Te=Ce.tag,Ce!==lt||Te!==5&&Te!==27&&Te!==6)&&(Ce=null)):($=null,Ce=G),$!==Ce)){if(Te=Zn,ne="onMouseLeave",z="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Te=al,ne="onPointerLeave",z="onPointerEnter",L="pointer"),lt=$==null?Q:Ei($),F=Ce==null?Q:Ei(Ce),Q=new Te(ne,L+"leave",$,a,ee),Q.target=lt,Q.relatedTarget=F,ne=null,Gi(ee)===G&&(Te=new Te(z,L+"enter",Ce,a,ee),Te.target=F,Te.relatedTarget=lt,ne=Te),lt=ne,$&&Ce)t:{for(Te=$,z=Ce,L=0,F=Te;F;F=io(F))L++;for(F=0,ne=z;ne;ne=io(ne))F++;for(;0<L-F;)Te=io(Te),L--;for(;0<F-L;)z=io(z),F--;for(;L--;){if(Te===z||z!==null&&Te===z.alternate)break t;Te=io(Te),z=io(z)}Te=null}else Te=null;$!==null&&av(re,Q,$,Te,!1),Ce!==null&&lt!==null&&av(re,lt,Ce,Te,!0)}}e:{if(Q=G?Ei(G):window,$=Q.nodeName&&Q.nodeName.toLowerCase(),$==="select"||$==="input"&&Q.type==="file")var _e=wg;else if(zt(Q))if(Ag)_e=NE;else{_e=kE;var Le=DE}else $=Q.nodeName,!$||$.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?G&&Jo(G.elementType)&&(_e=wg):_e=ME;if(_e&&(_e=_e(t,G))){er(re,_e,a,ee);break e}Le&&Le(t,Q,G),t==="focusout"&&G&&Q.type==="number"&&G.memoizedProps.value!=null&&Mr(Q,"number",Q.value)}switch(Le=G?Ei(G):window,t){case"focusin":(zt(Le)||Le.contentEditable==="true")&&(Na=Le,Cd=G,ul=null);break;case"focusout":ul=Cd=Na=null;break;case"mousedown":Dd=!0;break;case"contextmenu":case"mouseup":case"dragend":Dd=!1,Og(re,a,ee);break;case"selectionchange":if(VE)break;case"keydown":case"keyup":Og(re,a,ee)}var be;if(Ci)e:{switch(t){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else He?X(t,a)&&(Se="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(_&&a.locale!=="ko"&&(He||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&He&&(be=tl()):(wi=ee,Nr="value"in wi?wi.value:wi.textContent,He=!0)),Le=Yc(G,Se),0<Le.length&&(Se=new rl(Se,t,null,a,ee),re.push({event:Se,listeners:Le}),be?Se.data=be:(be=ce(a),be!==null&&(Se.data=be)))),(be=y?jt(t,a):Fe(t,a))&&(Se=Yc(G,"onBeforeInput"),0<Se.length&&(Le=new rl("onBeforeInput","beforeinput",null,a,ee),re.push({event:Le,listeners:Se}),Le.data=be)),yT(re,t,G,a,ee)}rv(re,i)})}function Ll(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Yc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Us(t,a),h!=null&&l.unshift(Ll(t,h,f)),h=Us(t,i),h!=null&&l.push(Ll(t,h,f))),t.tag===3)return l;t=t.return}return[]}function io(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function av(t,i,a,l,h){for(var f=i._reactName,x=[];a!==null&&a!==l;){var E=a,C=E.alternate,G=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||G===null||(C=G,h?(G=Us(a,f),G!=null&&x.unshift(Ll(a,G,C))):h||(G=Us(a,f),G!=null&&x.push(Ll(a,G,C)))),a=a.return}x.length!==0&&t.push({event:i,listeners:x})}var xT=/\r\n?/g,ET=/\u0000|\uFFFD/g;function ov(t){return(typeof t=="string"?t:""+t).replace(xT,`
`).replace(ET,"")}function lv(t,i){return i=ov(i),ov(t)===i}function Qc(){}function ot(t,i,a,l,h,f){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||$n(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&$n(t,""+l);break;case"className":Ti(t,"class",l);break;case"tabIndex":Ti(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ti(t,a,l);break;case"style":Zo(t,l,f);break;case"data":if(i!=="object"){Ti(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Sa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&ot(t,i,"name",h.name,h,null),ot(t,i,"formEncType",h.formEncType,h,null),ot(t,i,"formMethod",h.formMethod,h,null),ot(t,i,"formTarget",h.formTarget,h,null)):(ot(t,i,"encType",h.encType,h,null),ot(t,i,"method",h.method,h,null),ot(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Sa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Qc);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Sa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":je("beforetoggle",t),je("toggle",t),kr(t,"popover",l);break;case"xlinkActuate":nn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":nn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":nn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":nn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":nn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":nn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":nn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":nn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":nn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":kr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ed.get(a)||a,kr(t,a,l))}}function ep(t,i,a,l,h,f){switch(a){case"style":Zo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?$n(t,l):(typeof l=="number"||typeof l=="bigint")&&$n(t,""+l);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Qc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_a.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=t[It]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):kr(t,a,l)}}}function on(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var x=a[f];if(x!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ot(t,i,f,x,a,null)}}h&&ot(t,i,"srcSet",a.srcSet,a,null),l&&ot(t,i,"src",a.src,a,null);return;case"input":je("invalid",t);var E=f=x=h=null,C=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var ee=a[l];if(ee!=null)switch(l){case"name":h=ee;break;case"type":x=ee;break;case"checked":C=ee;break;case"defaultChecked":G=ee;break;case"value":f=ee;break;case"defaultValue":E=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,i));break;default:ot(t,i,l,ee,a,null)}}Vs(t,f,E,C,G,x,h,!1),Ta(t);return;case"select":je("invalid",t),l=x=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":x=E;break;case"multiple":l=E;default:ot(t,i,h,E,a,null)}i=f,a=x,t.multiple=!!l,i!=null?Qi(t,!!l,i,!1):a!=null&&Qi(t,!!l,a,!0);return;case"textarea":je("invalid",t),f=h=l=null;for(x in a)if(a.hasOwnProperty(x)&&(E=a[x],E!=null))switch(x){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:ot(t,i,x,E,a,null)}Ps(t,l,h,f),Ta(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ot(t,i,C,l,a,null)}return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(l=0;l<Pl.length;l++)je(Pl[l],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ot(t,i,G,l,a,null)}return;default:if(Jo(i)){for(ee in a)a.hasOwnProperty(ee)&&(l=a[ee],l!==void 0&&ep(t,i,ee,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&ot(t,i,E,l,a,null))}function TT(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,x=null,E=null,C=null,G=null,ee=null;for($ in a){var re=a[$];if(a.hasOwnProperty($)&&re!=null)switch($){case"checked":break;case"value":break;case"defaultValue":C=re;default:l.hasOwnProperty($)||ot(t,i,$,null,l,re)}}for(var Q in l){var $=l[Q];if(re=a[Q],l.hasOwnProperty(Q)&&($!=null||re!=null))switch(Q){case"type":f=$;break;case"name":h=$;break;case"checked":G=$;break;case"defaultChecked":ee=$;break;case"value":x=$;break;case"defaultValue":E=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:$!==re&&ot(t,i,Q,$,l,re)}}Ln(t,x,E,C,G,ee,f,h);return;case"select":$=x=E=Q=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":$=C;default:l.hasOwnProperty(f)||ot(t,i,f,null,l,C)}for(h in l)if(f=l[h],C=a[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":Q=f;break;case"defaultValue":E=f;break;case"multiple":x=f;default:f!==C&&ot(t,i,h,f,l,C)}i=E,a=x,l=$,Q!=null?Qi(t,!!a,Q,!1):!!l!=!!a&&(i!=null?Qi(t,!!a,i,!0):Qi(t,!!a,a?[]:"",!1));return;case"textarea":$=Q=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ot(t,i,E,null,l,h)}for(x in l)if(h=l[x],f=a[x],l.hasOwnProperty(x)&&(h!=null||f!=null))switch(x){case"value":Q=h;break;case"defaultValue":$=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&ot(t,i,x,h,l,f)}st(t,Q,$);return;case"option":for(var Ce in a)if(Q=a[Ce],a.hasOwnProperty(Ce)&&Q!=null&&!l.hasOwnProperty(Ce))switch(Ce){case"selected":t.selected=!1;break;default:ot(t,i,Ce,null,l,Q)}for(C in l)if(Q=l[C],$=a[C],l.hasOwnProperty(C)&&Q!==$&&(Q!=null||$!=null))switch(C){case"selected":t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:ot(t,i,C,Q,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)Q=a[Te],a.hasOwnProperty(Te)&&Q!=null&&!l.hasOwnProperty(Te)&&ot(t,i,Te,null,l,Q);for(G in l)if(Q=l[G],$=a[G],l.hasOwnProperty(G)&&Q!==$&&(Q!=null||$!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:ot(t,i,G,Q,l,$)}return;default:if(Jo(i)){for(var lt in a)Q=a[lt],a.hasOwnProperty(lt)&&Q!==void 0&&!l.hasOwnProperty(lt)&&ep(t,i,lt,void 0,l,Q);for(ee in l)Q=l[ee],$=a[ee],!l.hasOwnProperty(ee)||Q===$||Q===void 0&&$===void 0||ep(t,i,ee,Q,l,$);return}}for(var z in a)Q=a[z],a.hasOwnProperty(z)&&Q!=null&&!l.hasOwnProperty(z)&&ot(t,i,z,null,l,Q);for(re in l)Q=l[re],$=a[re],!l.hasOwnProperty(re)||Q===$||Q==null&&$==null||ot(t,i,re,Q,l,$)}var tp=null,np=null;function $c(t){return t.nodeType===9?t:t.ownerDocument}function uv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function ip(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var rp=null;function ST(){var t=window.event;return t&&t.type==="popstate"?t===rp?!1:(rp=t,!0):(rp=null,!1)}var hv=typeof setTimeout=="function"?setTimeout:void 0,wT=typeof clearTimeout=="function"?clearTimeout:void 0,dv=typeof Promise=="function"?Promise:void 0,AT=typeof queueMicrotask=="function"?queueMicrotask:typeof dv<"u"?function(t){return dv.resolve(null).then(t).catch(RT)}:hv;function RT(t){setTimeout(function(){throw t})}function $r(t){return t==="head"}function fv(t,i){var a=i,l=0,h=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var x=t.ownerDocument;if(a&1&&Ul(x.documentElement),a&2&&Ul(x.body),a&4)for(a=x.head,Ul(a),x=a.firstChild;x;){var E=x.nextSibling,C=x.nodeName;x[ks]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&x.rel.toLowerCase()==="stylesheet"||a.removeChild(x),x=E}}if(h===0){t.removeChild(f),Wl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Wl(i)}function sp(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sp(a),Dr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function IT(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ks])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=mi(t.nextSibling),t===null)break}return null}function CT(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=mi(t.nextSibling),t===null))return null;return t}function ap(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function DT(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function mi(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var op=null;function pv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function mv(t,i,a){switch(i=$c(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ul(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Dr(t)}var si=new Map,gv=new Set;function Kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fr=oe.d;oe.d={f:kT,r:MT,D:NT,C:OT,L:VT,m:PT,X:UT,S:LT,M:jT};function kT(){var t=fr.f(),i=Bc();return t||i}function MT(t){var i=xi(t);i!==null&&i.tag===5&&i.type==="form"?Py(i):fr.r(t)}var ro=typeof document>"u"?null:document;function yv(t,i,a){var l=ro;if(l&&typeof i=="string"&&i){var h=Ct(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),gv.has(h)||(gv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),on(i,"link",t),Et(i),l.head.appendChild(i)))}}function NT(t){fr.D(t),yv("dns-prefetch",t,null)}function OT(t,i){fr.C(t,i),yv("preconnect",t,i)}function VT(t,i,a){fr.L(t,i,a);var l=ro;if(l&&t&&i){var h='link[rel="preload"][as="'+Ct(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Ct(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Ct(a.imageSizes)+'"]')):h+='[href="'+Ct(t)+'"]';var f=h;switch(i){case"style":f=so(t);break;case"script":f=ao(t)}si.has(f)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),si.set(f,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(jl(f))||i==="script"&&l.querySelector(zl(f))||(i=l.createElement("link"),on(i,"link",t),Et(i),l.head.appendChild(i)))}}function PT(t,i){fr.m(t,i);var a=ro;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Ct(l)+'"][href="'+Ct(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ao(t)}if(!si.has(f)&&(t=b({rel:"modulepreload",href:t},i),si.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(zl(f)))return}l=a.createElement("link"),on(l,"link",t),Et(l),a.head.appendChild(l)}}}function LT(t,i,a){fr.S(t,i,a);var l=ro;if(l&&t){var h=Tn(l).hoistableStyles,f=so(t);i=i||"default";var x=h.get(f);if(!x){var E={loading:0,preload:null};if(x=l.querySelector(jl(f)))E.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=si.get(f))&&lp(t,a);var C=x=l.createElement("link");Et(C),on(C,"link",t),C._p=new Promise(function(G,ee){C.onload=G,C.onerror=ee}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Xc(x,i,l)}x={type:"stylesheet",instance:x,count:1,state:E},h.set(f,x)}}}function UT(t,i){fr.X(t,i);var a=ro;if(a&&t){var l=Tn(a).hoistableScripts,h=ao(t),f=l.get(h);f||(f=a.querySelector(zl(h)),f||(t=b({src:t,async:!0},i),(i=si.get(h))&&up(t,i),f=a.createElement("script"),Et(f),on(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function jT(t,i){fr.M(t,i);var a=ro;if(a&&t){var l=Tn(a).hoistableScripts,h=ao(t),f=l.get(h);f||(f=a.querySelector(zl(h)),f||(t=b({src:t,async:!0,type:"module"},i),(i=si.get(h))&&up(t,i),f=a.createElement("script"),Et(f),on(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function vv(t,i,a,l){var h=(h=me.current)?Kc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=so(a.href),a=Tn(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=so(a.href);var f=Tn(h).hoistableStyles,x=f.get(t);if(x||(h=h.ownerDocument||h,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,x),(f=h.querySelector(jl(t)))&&!f._p&&(x.instance=f,x.state.loading=5),si.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},si.set(t,a),f||zT(h,t,a,x.state))),i&&l===null)throw Error(s(528,""));return x}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ao(a),a=Tn(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function so(t){return'href="'+Ct(t)+'"'}function jl(t){return'link[rel="stylesheet"]['+t+"]"}function _v(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function zT(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),on(i,"link",a),Et(i),t.head.appendChild(i))}function ao(t){return'[src="'+Ct(t)+'"]'}function zl(t){return"script[async]"+t}function bv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Ct(a.href)+'"]');if(l)return i.instance=l,Et(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Et(l),on(l,"style",h),Xc(l,a.precedence,t),i.instance=l;case"stylesheet":h=so(a.href);var f=t.querySelector(jl(h));if(f)return i.state.loading|=4,i.instance=f,Et(f),f;l=_v(a),(h=si.get(h))&&lp(l,h),f=(t.ownerDocument||t).createElement("link"),Et(f);var x=f;return x._p=new Promise(function(E,C){x.onload=E,x.onerror=C}),on(f,"link",l),i.state.loading|=4,Xc(f,a.precedence,t),i.instance=f;case"script":return f=ao(a.src),(h=t.querySelector(zl(f)))?(i.instance=h,Et(h),h):(l=a,(h=si.get(f))&&(l=b({},a),up(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Et(h),on(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Xc(l,a.precedence,t));return i.instance}function Xc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,x=0;x<l.length;x++){var E=l[x];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function lp(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function up(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Zc=null;function xv(t,i,a){if(Zc===null){var l=new Map,h=Zc=new Map;h.set(a,l)}else h=Zc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[ks]||f[Ut]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var x=f.getAttribute(i)||"";x=t+x;var E=l.get(x);E?E.push(f):l.set(x,[f])}}return l}function Ev(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function BT(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Tv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Bl=null;function qT(){}function HT(t,i,a){if(Bl===null)throw Error(s(475));var l=Bl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=so(a.href),f=t.querySelector(jl(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Jc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=f,Et(f);return}f=t.ownerDocument||t,a=_v(a),(h=si.get(h))&&lp(a,h),f=f.createElement("link"),Et(f);var x=f;x._p=new Promise(function(E,C){x.onload=E,x.onerror=C}),on(f,"link",a),i.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Jc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function FT(){if(Bl===null)throw Error(s(475));var t=Bl;return t.stylesheets&&t.count===0&&cp(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&cp(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Jc(){if(this.count--,this.count===0){if(this.stylesheets)cp(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var eh=null;function cp(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,eh=new Map,i.forEach(GT,t),eh=null,Jc.call(t))}function GT(t,i){if(!(i.state.loading&4)){var a=eh.get(t);if(a)var l=a.get(null);else{a=new Map,eh.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var x=h[f];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(a.set(x.dataset.precedence,x),l=x)}l&&a.set(null,l)}h=i.instance,x=h.getAttribute("data-precedence"),f=a.get(x)||l,f===l&&a.set(null,h),a.set(x,h),this.count++,l=Jc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var ql={$$typeof:Y,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function WT(t,i,a,l,h,f,x,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.hiddenUpdates=Hi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Sv(t,i,a,l,h,f,x,E,C,G,ee,re){return t=new WT(t,i,a,x,E,C,G,re),i=1,f===!0&&(i|=24),f=jn(3,null,null,i),t.current=f,f.stateNode=t,i=Fd(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:i},Qd(f),t}function wv(t){return t?(t=La,t):La}function Av(t,i,a,l,h,f){h=wv(h),l.context===null?l.context=h:l.pendingContext=h,l=Pr(i),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Lr(t,l,i),a!==null&&(Fn(a,t,i),vl(a,t,i))}function Rv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function hp(t,i){Rv(t,i),(t=t.alternate)&&Rv(t,i)}function Iv(t){if(t.tag===13){var i=Pa(t,67108864);i!==null&&Fn(i,t,67108864),hp(t,67108864)}}var th=!0;function YT(t,i,a,l){var h=j.T;j.T=null;var f=oe.p;try{oe.p=2,dp(t,i,a,l)}finally{oe.p=f,j.T=h}}function QT(t,i,a,l){var h=j.T;j.T=null;var f=oe.p;try{oe.p=8,dp(t,i,a,l)}finally{oe.p=f,j.T=h}}function dp(t,i,a,l){if(th){var h=fp(l);if(h===null)Jf(t,i,l,nh,a),Dv(t,l);else if(KT(h,t,i,a,l))l.stopPropagation();else if(Dv(t,l),i&4&&-1<$T.indexOf(t)){for(;h!==null;){var f=xi(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var x=ci(f.pendingLanes);if(x!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;x;){var C=1<<31-dn(x);E.entanglements[1]|=C,x&=~C}Vi(f),(tt&6)===0&&(jc=we()+500,Vl(0))}}break;case 13:E=Pa(f,2),E!==null&&Fn(E,f,2),Bc(),hp(f,2)}if(f=fp(l),f===null&&Jf(t,i,l,nh,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Jf(t,i,l,null,a)}}function fp(t){return t=Kn(t),pp(t)}var nh=null;function pp(t){if(nh=null,t=Gi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=d(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return nh=t,null}function Cv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(en()){case Yt:return 2;case xt:return 8;case Lt:case tn:return 32;case En:return 268435456;default:return 32}default:return 32}}var mp=!1,Kr=null,Xr=null,Zr=null,Hl=new Map,Fl=new Map,Jr=[],$T="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dv(t,i){switch(t){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":Hl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(i.pointerId)}}function Gl(t,i,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},i!==null&&(i=xi(i),i!==null&&Iv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function KT(t,i,a,l,h){switch(i){case"focusin":return Kr=Gl(Kr,t,i,a,l,h),!0;case"dragenter":return Xr=Gl(Xr,t,i,a,l,h),!0;case"mouseover":return Zr=Gl(Zr,t,i,a,l,h),!0;case"pointerover":var f=h.pointerId;return Hl.set(f,Gl(Hl.get(f)||null,t,i,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Fl.set(f,Gl(Fl.get(f)||null,t,i,a,l,h)),!0}return!1}function kv(t){var i=Gi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){t.blockedOn=i,Bu(t.priority,function(){if(a.tag===13){var l=Hn();l=Rr(l);var h=Pa(a,l);h!==null&&Fn(h,a,l),hp(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ih(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=fp(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);$i=l,a.target.dispatchEvent(l),$i=null}else return i=xi(a),i!==null&&Iv(i),t.blockedOn=a,!1;i.shift()}return!0}function Mv(t,i,a){ih(t)&&a.delete(i)}function XT(){mp=!1,Kr!==null&&ih(Kr)&&(Kr=null),Xr!==null&&ih(Xr)&&(Xr=null),Zr!==null&&ih(Zr)&&(Zr=null),Hl.forEach(Mv),Fl.forEach(Mv)}function rh(t,i){t.blockedOn===i&&(t.blockedOn=null,mp||(mp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,XT)))}var sh=null;function Nv(t){sh!==t&&(sh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){sh===t&&(sh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(pp(l||a)===null)continue;break}var f=xi(a);f!==null&&(t.splice(i,3),i-=3,pf(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Wl(t){function i(C){return rh(C,t)}Kr!==null&&rh(Kr,t),Xr!==null&&rh(Xr,t),Zr!==null&&rh(Zr,t),Hl.forEach(i),Fl.forEach(i);for(var a=0;a<Jr.length;a++){var l=Jr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Jr.length&&(a=Jr[0],a.blockedOn===null);)kv(a),a.blockedOn===null&&Jr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],x=h[It]||null;if(typeof f=="function")x||Nv(a);else if(x){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,x=f[It]||null)E=x.formAction;else if(pp(h)!==null)continue}else E=x.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Nv(a)}}}function gp(t){this._internalRoot=t}ah.prototype.render=gp.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Hn();Av(a,l,t,i,null,null)},ah.prototype.unmount=gp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Av(t.current,2,null,t,null,null),Bc(),i[Qn]=null}};function ah(t){this._internalRoot=t}ah.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ir();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Jr.length&&i!==0&&i<Jr[a].priority;a++);Jr.splice(a,0,t),a===0&&kv(t)}};var Ov=e.version;if(Ov!=="19.1.0")throw Error(s(527,Ov,"19.1.0"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=m(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var ZT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oh.isDisabled&&oh.supportsFiber)try{ht=oh.inject(ZT),Xe=oh}catch{}}return Ql.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Ky,f=Xy,x=Zy,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(x=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=Sv(t,1,!1,null,null,a,l,h,f,x,E,null),t[Qn]=i.current,Zf(t),new gp(i)},Ql.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",f=Ky,x=Xy,E=Zy,C=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),i=Sv(t,1,!0,i,a??null,l,h,f,x,E,C,G),i.context=wv(null),a=i.current,l=Hn(),l=Rr(l),h=Pr(l),h.callback=null,Lr(a,h,l),a=l,i.current.lanes=a,Fi(i,a),Vi(i),t[Qn]=i.current,Zf(t),new ah(i)},Ql.version="19.1.0",Ql}var Fv;function lS(){if(Fv)return _p.exports;Fv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),_p.exports=oS(),_p.exports}var uS=lS(),$l={},Gv;function cS(){if(Gv)return $l;Gv=1,Object.defineProperty($l,"__esModule",{value:!0}),$l.parse=d,$l.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function d(T,N){const M=new u,W=T.length;if(W<2)return M;const B=(N==null?void 0:N.decode)||b;let q=0;do{const Z=T.indexOf("=",q);if(Z===-1)break;const Y=T.indexOf(";",q),ue=Y===-1?W:Y;if(Z>ue){q=T.lastIndexOf(";",Z-1)+1;continue}const le=p(T,q,Z),de=m(T,Z,le),k=T.slice(le,de);if(M[k]===void 0){let A=p(T,Z+1,ue),R=m(T,ue,A);const O=B(T.slice(A,R));M[k]=O}q=ue+1}while(q<W);return M}function p(T,N,M){do{const W=T.charCodeAt(N);if(W!==32&&W!==9)return N}while(++N<M);return M}function m(T,N,M){for(;N>M;){const W=T.charCodeAt(--N);if(W!==32&&W!==9)return N+1}return M}function g(T,N,M){const W=(M==null?void 0:M.encode)||encodeURIComponent;if(!r.test(T))throw new TypeError(`argument name is invalid: ${T}`);const B=W(N);if(!e.test(B))throw new TypeError(`argument val is invalid: ${N}`);let q=T+"="+B;if(!M)return q;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);q+="; Max-Age="+M.maxAge}if(M.domain){if(!n.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);q+="; Domain="+M.domain}if(M.path){if(!s.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);q+="; Path="+M.path}if(M.expires){if(!S(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);q+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(q+="; HttpOnly"),M.secure&&(q+="; Secure"),M.partitioned&&(q+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return q}function b(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function S(T){return o.call(T)==="[object Date]"}return $l}cS();var Wv="popstate";function hS(r={}){function e(s,o){let{pathname:u,search:d,hash:p}=s.location;return jp("",{pathname:u,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:cu(o)}return fS(e,n,null,r)}function mt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function li(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dS(){return Math.random().toString(36).substring(2,10)}function Yv(r,e){return{usr:r.state,key:r.key,idx:e}}function jp(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Co(e):e,state:n,key:e&&e.key||s||dS()}}function cu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Co(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function fS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,d=o.history,p="POP",m=null,g=b();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function b(){return(d.state||{idx:null}).idx}function S(){p="POP";let B=b(),q=B==null?null:B-g;g=B,m&&m({action:p,location:W.location,delta:q})}function T(B,q){p="PUSH";let Z=jp(W.location,B,q);g=b()+1;let Y=Yv(Z,g),ue=W.createHref(Z);try{d.pushState(Y,"",ue)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(ue)}u&&m&&m({action:p,location:W.location,delta:1})}function N(B,q){p="REPLACE";let Z=jp(W.location,B,q);g=b();let Y=Yv(Z,g),ue=W.createHref(Z);d.replaceState(Y,"",ue),u&&m&&m({action:p,location:W.location,delta:0})}function M(B){return pS(B)}let W={get action(){return p},get location(){return r(o,d)},listen(B){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Wv,S),m=B,()=>{o.removeEventListener(Wv,S),m=null}},createHref(B){return e(o,B)},createURL:M,encodeLocation(B){let q=M(B);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:T,replace:N,go(B){return d.go(B)}};return W}function pS(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),mt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:cu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function N1(r,e,n="/"){return mS(r,e,n,!1)}function mS(r,e,n,s){let o=typeof e=="string"?Co(e):e,u=br(o.pathname||"/",n);if(u==null)return null;let d=O1(r);gS(d);let p=null;for(let m=0;p==null&&m<d.length;++m){let g=RS(u);p=wS(d[m],g,s)}return p}function O1(r,e=[],n=[],s=""){let o=(u,d,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};m.relativePath.startsWith("/")&&(mt(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let g=gr([s,m.relativePath]),b=n.concat(m);u.children&&u.children.length>0&&(mt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),O1(u.children,e,b,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:TS(g,u.index),routesMeta:b})};return r.forEach((u,d)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))o(u,d);else for(let m of V1(u.path))o(u,d,m)}),e}function V1(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let d=V1(s.join("/")),p=[];return p.push(...d.map(m=>m===""?u:[u,m].join("/"))),o&&p.push(...d),p.map(m=>r.startsWith("/")&&m===""?"/":m)}function gS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:SS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var yS=/^:[\w-]+$/,vS=3,_S=2,bS=1,xS=10,ES=-2,Qv=r=>r==="*";function TS(r,e){let n=r.split("/"),s=n.length;return n.some(Qv)&&(s+=ES),e&&(s+=_S),n.filter(o=>!Qv(o)).reduce((o,u)=>o+(yS.test(u)?vS:u===""?bS:xS),s)}function SS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function wS(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",d=[];for(let p=0;p<s.length;++p){let m=s[p],g=p===s.length-1,b=u==="/"?e:e.slice(u.length)||"/",S=Rh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},b),T=m.route;if(!S&&g&&n&&!s[s.length-1].route.index&&(S=Rh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},b)),!S)return null;Object.assign(o,S.params),d.push({params:o,pathname:gr([u,S.pathname]),pathnameBase:kS(gr([u,S.pathnameBase])),route:T}),S.pathnameBase!=="/"&&(u=gr([u,S.pathnameBase]))}return d}function Rh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=AS(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((g,{paramName:b,isOptional:S},T)=>{if(b==="*"){let M=p[T]||"";d=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const N=p[T];return S&&!N?g[b]=void 0:g[b]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:d,pattern:r}}function AS(r,e=!1,n=!0){li(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,m)=>(s.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function RS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return li(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function br(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function IS(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Co(r):r;return{pathname:n?n.startsWith("/")?n:CS(n,e):e,search:MS(s),hash:NS(o)}}function CS(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Tp(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DS(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _m(r){let e=DS(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function bm(r,e,n,s=!1){let o;typeof r=="string"?o=Co(r):(o={...r},mt(!o.pathname||!o.pathname.includes("?"),Tp("?","pathname","search",o)),mt(!o.pathname||!o.pathname.includes("#"),Tp("#","pathname","hash",o)),mt(!o.search||!o.search.includes("#"),Tp("#","search","hash",o)));let u=r===""||o.pathname==="",d=u?"/":o.pathname,p;if(d==null)p=n;else{let S=e.length-1;if(!s&&d.startsWith("..")){let T=d.split("/");for(;T[0]==="..";)T.shift(),S-=1;o.pathname=T.join("/")}p=S>=0?e[S]:"/"}let m=IS(o,p),g=d&&d!=="/"&&d.endsWith("/"),b=(u||d===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||b)&&(m.pathname+="/"),m}var gr=r=>r.join("/").replace(/\/\/+/g,"/"),kS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),MS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,NS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function OS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var P1=["POST","PUT","PATCH","DELETE"];new Set(P1);var VS=["GET",...P1];new Set(VS);var Do=P.createContext(null);Do.displayName="DataRouter";var Wh=P.createContext(null);Wh.displayName="DataRouterState";var L1=P.createContext({isTransitioning:!1});L1.displayName="ViewTransition";var PS=P.createContext(new Map);PS.displayName="Fetchers";var LS=P.createContext(null);LS.displayName="Await";var _i=P.createContext(null);_i.displayName="Navigation";var Tu=P.createContext(null);Tu.displayName="Location";var qi=P.createContext({outlet:null,matches:[],isDataRoute:!1});qi.displayName="Route";var xm=P.createContext(null);xm.displayName="RouteError";function US(r,{relative:e}={}){mt(ko(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=P.useContext(_i),{hash:o,pathname:u,search:d}=wu(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:gr([n,u])),s.createHref({pathname:p,search:d,hash:o})}function ko(){return P.useContext(Tu)!=null}function wr(){return mt(ko(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Tu).location}var U1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function j1(r){P.useContext(_i).static||P.useLayoutEffect(r)}function Su(){let{isDataRoute:r}=P.useContext(qi);return r?XS():jS()}function jS(){mt(ko(),"useNavigate() may be used only in the context of a <Router> component.");let r=P.useContext(Do),{basename:e,navigator:n}=P.useContext(_i),{matches:s}=P.useContext(qi),{pathname:o}=wr(),u=JSON.stringify(_m(s)),d=P.useRef(!1);return j1(()=>{d.current=!0}),P.useCallback((m,g={})=>{if(li(d.current,U1),!d.current)return;if(typeof m=="number"){n.go(m);return}let b=bm(m,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:gr([e,b.pathname])),(g.replace?n.replace:n.push)(b,g.state,g)},[e,n,u,o,r])}P.createContext(null);function wu(r,{relative:e}={}){let{matches:n}=P.useContext(qi),{pathname:s}=wr(),o=JSON.stringify(_m(n));return P.useMemo(()=>bm(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function zS(r,e){return z1(r,e)}function z1(r,e,n,s){var q;mt(ko(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=P.useContext(_i),{matches:u}=P.useContext(qi),d=u[u.length-1],p=d?d.params:{},m=d?d.pathname:"/",g=d?d.pathnameBase:"/",b=d&&d.route;{let Z=b&&b.path||"";B1(m,!b||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let S=wr(),T;if(e){let Z=typeof e=="string"?Co(e):e;mt(g==="/"||((q=Z.pathname)==null?void 0:q.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),T=Z}else T=S;let N=T.pathname||"/",M=N;if(g!=="/"){let Z=g.replace(/^\//,"").split("/");M="/"+N.replace(/^\//,"").split("/").slice(Z.length).join("/")}let W=N1(r,{pathname:M});li(b||W!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),li(W==null||W[W.length-1].route.element!==void 0||W[W.length-1].route.Component!==void 0||W[W.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=GS(W&&W.map(Z=>Object.assign({},Z,{params:Object.assign({},p,Z.params),pathname:gr([g,o.encodeLocation?o.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?g:gr([g,o.encodeLocation?o.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),u,n,s);return e&&B?P.createElement(Tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},B):B}function BS(){let r=KS(),e=OS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:o},n):null,d)}var qS=P.createElement(BS,null),HS=class extends P.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?P.createElement(qi.Provider,{value:this.props.routeContext},P.createElement(xm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function FS({routeContext:r,match:e,children:n}){let s=P.useContext(Do);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(qi.Provider,{value:r},n)}function GS(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);mt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let d=!1,p=-1;if(n)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=m),g.route.id){let{loaderData:b,errors:S}=n,T=g.route.loader&&!b.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||T){d=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((m,g,b)=>{let S,T=!1,N=null,M=null;n&&(S=u&&g.route.id?u[g.route.id]:void 0,N=g.route.errorElement||qS,d&&(p<0&&b===0?(B1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,M=null):p===b&&(T=!0,M=g.route.hydrateFallbackElement||null)));let W=e.concat(o.slice(0,b+1)),B=()=>{let q;return S?q=N:T?q=M:g.route.Component?q=P.createElement(g.route.Component,null):g.route.element?q=g.route.element:q=m,P.createElement(FS,{match:g,routeContext:{outlet:m,matches:W,isDataRoute:n!=null},children:q})};return n&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?P.createElement(HS,{location:n.location,revalidation:n.revalidation,component:N,error:S,children:B(),routeContext:{outlet:null,matches:W,isDataRoute:!0}}):B()},null)}function Em(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WS(r){let e=P.useContext(Do);return mt(e,Em(r)),e}function YS(r){let e=P.useContext(Wh);return mt(e,Em(r)),e}function QS(r){let e=P.useContext(qi);return mt(e,Em(r)),e}function Tm(r){let e=QS(r),n=e.matches[e.matches.length-1];return mt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function $S(){return Tm("useRouteId")}function KS(){var s;let r=P.useContext(xm),e=YS("useRouteError"),n=Tm("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function XS(){let{router:r}=WS("useNavigate"),e=Tm("useNavigate"),n=P.useRef(!1);return j1(()=>{n.current=!0}),P.useCallback(async(o,u={})=>{li(n.current,U1),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var $v={};function B1(r,e,n){!e&&!$v[r]&&($v[r]=!0,li(!1,n))}P.memo(ZS);function ZS({routes:r,future:e,state:n}){return z1(r,void 0,n,e)}function Kv({to:r,replace:e,state:n,relative:s}){mt(ko(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=P.useContext(_i);li(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=P.useContext(qi),{pathname:d}=wr(),p=Su(),m=bm(r,_m(u),d,s==="path"),g=JSON.stringify(m);return P.useEffect(()=>{p(JSON.parse(g),{replace:e,state:n,relative:s})},[p,g,s,e,n]),null}function Xl(r){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JS({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){mt(!ko(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:d,navigator:o,static:u,future:{}}),[d,o,u]);typeof n=="string"&&(n=Co(n));let{pathname:m="/",search:g="",hash:b="",state:S=null,key:T="default"}=n,N=P.useMemo(()=>{let M=br(m,d);return M==null?null:{location:{pathname:M,search:g,hash:b,state:S,key:T},navigationType:s}},[d,m,g,b,S,T,s]);return li(N!=null,`<Router basename="${d}"> is not able to match the URL "${m}${g}${b}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:P.createElement(_i.Provider,{value:p},P.createElement(Tu.Provider,{children:e,value:N}))}function e2({children:r,location:e}){return zS(zp(r),e)}function zp(r,e=[]){let n=[];return P.Children.forEach(r,(s,o)=>{if(!P.isValidElement(s))return;let u=[...e,o];if(s.type===P.Fragment){n.push.apply(n,zp(s.props.children,u));return}mt(s.type===Xl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=zp(s.props.children,u)),n.push(d)}),n}var mh="get",gh="application/x-www-form-urlencoded";function Yh(r){return r!=null&&typeof r.tagName=="string"}function t2(r){return Yh(r)&&r.tagName.toLowerCase()==="button"}function n2(r){return Yh(r)&&r.tagName.toLowerCase()==="form"}function i2(r){return Yh(r)&&r.tagName.toLowerCase()==="input"}function r2(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function s2(r,e){return r.button===0&&(!e||e==="_self")&&!r2(r)}function Bp(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let s=r[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function a2(r,e){let n=Bp(r);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var lh=null;function o2(){if(lh===null)try{new FormData(document.createElement("form"),0),lh=!1}catch{lh=!0}return lh}var l2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sp(r){return r!=null&&!l2.has(r)?(li(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gh}"`),null):r}function u2(r,e){let n,s,o,u,d;if(n2(r)){let p=r.getAttribute("action");s=p?br(p,e):null,n=r.getAttribute("method")||mh,o=Sp(r.getAttribute("enctype"))||gh,u=new FormData(r)}else if(t2(r)||i2(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||p.getAttribute("action");if(s=m?br(m,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||mh,o=Sp(r.getAttribute("formenctype"))||Sp(p.getAttribute("enctype"))||gh,u=new FormData(p,r),!o2()){let{name:g,type:b,value:S}=r;if(b==="image"){let T=g?`${g}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else g&&u.append(g,S)}}else{if(Yh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=mh,s=null,o=gh,d=r}return u&&o==="text/plain"&&(d=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:d}}function Sm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function c2(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function h2(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function d2(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let d=await c2(u,n);return d.links?d.links():[]}return[]}));return g2(s.flat(1).filter(h2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Xv(r,e,n,s,o,u){let d=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,p=(m,g)=>{var b;return n[g].pathname!==m.pathname||((b=n[g].route.path)==null?void 0:b.endsWith("*"))&&n[g].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,g)=>d(m,g)||p(m,g)):u==="data"?e.filter((m,g)=>{var S;let b=s.routes[m.route.id];if(!b||!b.hasLoader)return!1;if(d(m,g)||p(m,g))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=n[0])==null?void 0:S.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function f2(r,e,{includeHydrateFallback:n}={}){return p2(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function p2(r){return[...new Set(r)]}function m2(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function g2(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(m2(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var y2=new Set([100,101,204,205]);function v2(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&br(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function q1(){let r=P.useContext(Do);return Sm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function _2(){let r=P.useContext(Wh);return Sm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var wm=P.createContext(void 0);wm.displayName="FrameworkContext";function H1(){let r=P.useContext(wm);return Sm(r,"You must render this element inside a <HydratedRouter> element"),r}function b2(r,e){let n=P.useContext(wm),[s,o]=P.useState(!1),[u,d]=P.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:g,onMouseLeave:b,onTouchStart:S}=e,T=P.useRef(null);P.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let W=q=>{q.forEach(Z=>{d(Z.isIntersecting)})},B=new IntersectionObserver(W,{threshold:.5});return T.current&&B.observe(T.current),()=>{B.disconnect()}}},[r]),P.useEffect(()=>{if(s){let W=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(W)}}},[s]);let N=()=>{o(!0)},M=()=>{o(!1),d(!1)};return n?r!=="intent"?[u,T,{}]:[u,T,{onFocus:Kl(p,N),onBlur:Kl(m,M),onMouseEnter:Kl(g,N),onMouseLeave:Kl(b,M),onTouchStart:Kl(S,N)}]:[!1,T,{}]}function Kl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function x2({page:r,...e}){let{router:n}=q1(),s=P.useMemo(()=>N1(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?P.createElement(T2,{page:r,matches:s,...e}):null}function E2(r){let{manifest:e,routeModules:n}=H1(),[s,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return d2(r,e,n).then(d=>{u||o(d)}),()=>{u=!0}},[r,e,n]),s}function T2({page:r,matches:e,...n}){let s=wr(),{manifest:o,routeModules:u}=H1(),{basename:d}=q1(),{loaderData:p,matches:m}=_2(),g=P.useMemo(()=>Xv(r,e,m,o,s,"data"),[r,e,m,o,s]),b=P.useMemo(()=>Xv(r,e,m,o,s,"assets"),[r,e,m,o,s]),S=P.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let M=new Set,W=!1;if(e.forEach(q=>{var Y;let Z=o.routes[q.route.id];!Z||!Z.hasLoader||(!g.some(ue=>ue.route.id===q.route.id)&&q.route.id in p&&((Y=u[q.route.id])!=null&&Y.shouldRevalidate)||Z.hasClientLoader?W=!0:M.add(q.route.id))}),M.size===0)return[];let B=v2(r,d);return W&&M.size>0&&B.searchParams.set("_routes",e.filter(q=>M.has(q.route.id)).map(q=>q.route.id).join(",")),[B.pathname+B.search]},[d,p,s,o,g,e,r,u]),T=P.useMemo(()=>f2(b,o),[b,o]),N=E2(b);return P.createElement(P.Fragment,null,S.map(M=>P.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),T.map(M=>P.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),N.map(({key:M,link:W})=>P.createElement("link",{key:M,...W})))}function S2(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var F1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{F1&&(window.__reactRouterVersion="7.6.1")}catch{}function w2({basename:r,children:e,window:n}){let s=P.useRef();s.current==null&&(s.current=hS({window:n,v5Compat:!0}));let o=s.current,[u,d]=P.useState({action:o.action,location:o.location}),p=P.useCallback(m=>{P.startTransition(()=>d(m))},[d]);return P.useLayoutEffect(()=>o.listen(p),[o,p]),P.createElement(JS,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var G1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W1=P.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:d,state:p,target:m,to:g,preventScrollReset:b,viewTransition:S,...T},N){let{basename:M}=P.useContext(_i),W=typeof g=="string"&&G1.test(g),B,q=!1;if(typeof g=="string"&&W&&(B=g,F1))try{let R=new URL(window.location.href),O=g.startsWith("//")?new URL(R.protocol+g):new URL(g),V=br(O.pathname,M);O.origin===R.origin&&V!=null?g=V+O.search+O.hash:q=!0}catch{li(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=US(g,{relative:o}),[Y,ue,le]=b2(s,T),de=C2(g,{replace:d,state:p,target:m,preventScrollReset:b,relative:o,viewTransition:S});function k(R){e&&e(R),R.defaultPrevented||de(R)}let A=P.createElement("a",{...T,...le,href:B||Z,onClick:q||u?e:k,ref:S2(N,ue),target:m,"data-discover":!W&&n==="render"?"true":void 0});return Y&&!W?P.createElement(P.Fragment,null,A,P.createElement(x2,{page:Z})):A});W1.displayName="Link";var A2=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:d,viewTransition:p,children:m,...g},b){let S=wu(d,{relative:g.relative}),T=wr(),N=P.useContext(Wh),{navigator:M,basename:W}=P.useContext(_i),B=N!=null&&V2(S)&&p===!0,q=M.encodeLocation?M.encodeLocation(S).pathname:S.pathname,Z=T.pathname,Y=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(Z=Z.toLowerCase(),Y=Y?Y.toLowerCase():null,q=q.toLowerCase()),Y&&W&&(Y=br(Y,W)||Y);const ue=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let le=Z===q||!o&&Z.startsWith(q)&&Z.charAt(ue)==="/",de=Y!=null&&(Y===q||!o&&Y.startsWith(q)&&Y.charAt(q.length)==="/"),k={isActive:le,isPending:de,isTransitioning:B},A=le?e:void 0,R;typeof s=="function"?R=s(k):R=[s,le?"active":null,de?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(k):u;return P.createElement(W1,{...g,"aria-current":A,className:R,ref:b,style:O,to:d,viewTransition:p},typeof m=="function"?m(k):m)});A2.displayName="NavLink";var R2=P.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:d=mh,action:p,onSubmit:m,relative:g,preventScrollReset:b,viewTransition:S,...T},N)=>{let M=N2(),W=O2(p,{relative:g}),B=d.toLowerCase()==="get"?"get":"post",q=typeof p=="string"&&G1.test(p),Z=Y=>{if(m&&m(Y),Y.defaultPrevented)return;Y.preventDefault();let ue=Y.nativeEvent.submitter,le=(ue==null?void 0:ue.getAttribute("formmethod"))||d;M(ue||Y.currentTarget,{fetcherKey:e,method:le,navigate:n,replace:o,state:u,relative:g,preventScrollReset:b,viewTransition:S})};return P.createElement("form",{ref:N,method:B,action:W,onSubmit:s?m:Z,...T,"data-discover":!q&&r==="render"?"true":void 0})});R2.displayName="Form";function I2(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Y1(r){let e=P.useContext(Do);return mt(e,I2(r)),e}function C2(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:d}={}){let p=Su(),m=wr(),g=wu(r,{relative:u});return P.useCallback(b=>{if(s2(b,e)){b.preventDefault();let S=n!==void 0?n:cu(m)===cu(g);p(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:d})}},[m,p,g,n,s,e,r,o,u,d])}function D2(r){li(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=P.useRef(Bp(r)),n=P.useRef(!1),s=wr(),o=P.useMemo(()=>a2(s.search,n.current?null:e.current),[s.search]),u=Su(),d=P.useCallback((p,m)=>{const g=Bp(typeof p=="function"?p(o):p);n.current=!0,u("?"+g,m)},[u,o]);return[o,d]}var k2=0,M2=()=>`__${String(++k2)}__`;function N2(){let{router:r}=Y1("useSubmit"),{basename:e}=P.useContext(_i),n=$S();return P.useCallback(async(s,o={})=>{let{action:u,method:d,encType:p,formData:m,body:g}=u2(s,e);if(o.navigate===!1){let b=o.fetcherKey||M2();await r.fetch(b,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||d,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||d,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function O2(r,{relative:e}={}){let{basename:n}=P.useContext(_i),s=P.useContext(qi);mt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...wu(r||".",{relative:e})},d=wr();if(r==null){u.search=d.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(b=>b==="")){p.delete("index"),m.filter(S=>S).forEach(S=>p.append("index",S));let b=p.toString();u.search=b?`?${b}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:gr([n,u.pathname])),cu(u)}function V2(r,e={}){let n=P.useContext(L1);mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Y1("useViewTransitionState"),o=wu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=br(n.currentLocation.pathname,s)||n.currentLocation.pathname,d=br(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Rh(o.pathname,d)!=null||Rh(o.pathname,u)!=null}[...y2];const P2=()=>{};var Zv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},L2=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],d=r[n++],p=r[n++],m=((o&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=r[n++],d=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},$1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],d=o+1<r.length,p=d?r[o+1]:0,m=o+2<r.length,g=m?r[o+2]:0,b=u>>2,S=(u&3)<<4|p>>4;let T=(p&15)<<2|g>>6,N=g&63;m||(N=64,d||(T=64)),s.push(n[b],n[S],n[T],n[N])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Q1(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):L2(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||g==null||S==null)throw new U2;const T=u<<2|p>>4;if(s.push(T),g!==64){const N=p<<4&240|g>>2;if(s.push(N),S!==64){const M=g<<6&192|S;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class U2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const j2=function(r){const e=Q1(r);return $1.encodeByteArray(e,!0)},Ih=function(r){return j2(r).replace(/\./g,"")},K1=function(r){try{return $1.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=()=>z2().__FIREBASE_DEFAULTS__,q2=()=>{if(typeof process>"u"||typeof Zv>"u")return;const r=Zv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},H2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&K1(r[1]);return e&&JSON.parse(e)},Qh=()=>{try{return P2()||B2()||q2()||H2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},X1=r=>{var e,n;return(n=(e=Qh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},F2=r=>{const e=X1(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Z1=()=>{var r;return(r=Qh())===null||r===void 0?void 0:r.config},J1=r=>{var e;return(e=Qh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(r){return r.endsWith(".cloudworkstations.dev")}async function eb(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ih(JSON.stringify(n)),Ih(JSON.stringify(d)),""].join(".")}const ru={};function Y2(){const r={prod:[],emulator:[]};for(const e of Object.keys(ru))ru[e]?r.emulator.push(e):r.prod.push(e);return r}function Q2(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Jv=!1;function tb(r,e){if(typeof window>"u"||typeof document>"u"||!Au(window.location.host)||ru[r]===e||ru[r]||Jv)return;ru[r]=e;function n(T){return`__firebase__banner__${T}`}const s="__firebase__banner",u=Y2().prod.length>0;function d(){const T=document.getElementById(s);T&&T.remove()}function p(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,N){T.setAttribute("width","24"),T.setAttribute("id",N),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Jv=!0,d()},T}function b(T,N){T.setAttribute("id",N),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function S(){const T=Q2(s),N=n("text"),M=document.getElementById(N)||document.createElement("span"),W=n("learnmore"),B=document.getElementById(W)||document.createElement("a"),q=n("preprendIcon"),Z=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const Y=T.element;p(Y),b(B,W);const ue=g();m(Z,q),Y.append(Z,M,B,ue),document.body.appendChild(Y)}u?(M.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function K2(){var r;const e=(r=Qh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function X2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Z2(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function J2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ew(){const r=bn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function tw(){return!K2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nw(){try{return typeof indexedDB=="object"}catch{return!1}}function iw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="FirebaseError";class Ar extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=rw,Object.setPrototypeOf(this,Ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ru.prototype.create)}}class Ru{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?sw(u,s):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Ar(o,p,s)}}function sw(r,e){return r.replace(aw,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const aw=/\{\$([^}]+)}/g;function ow(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ps(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],d=e[o];if(e_(u)&&e_(d)){if(!ps(u,d))return!1}else if(u!==d)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function e_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Zl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Jl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function lw(r,e){const n=new uw(r,e);return n.subscribe.bind(n)}class uw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");cw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=wp),o.error===void 0&&(o.error=wp),o.complete===void 0&&(o.complete=wp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cw(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function wp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(r){return r&&r._delegate?r._delegate:r}class ua{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new G2;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fw(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=aa){return this.instances.has(e)}getOptions(e=aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&d.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const d=this.instances.get(o);return d&&e(d,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:dw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=aa){return this.component?this.component.multipleInstances?e:aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dw(r){return r===aa?void 0:r}function fw(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ze||(ze={}));const mw={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},gw=ze.INFO,yw={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},vw=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=yw[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Am{constructor(e){this.name=e,this._logLevel=gw,this._logHandler=vw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const _w=(r,e)=>e.some(n=>r instanceof n);let t_,n_;function bw(){return t_||(t_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xw(){return n_||(n_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nb=new WeakMap,qp=new WeakMap,ib=new WeakMap,Ap=new WeakMap,Rm=new WeakMap;function Ew(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{n(us(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&nb.set(n,r)}).catch(()=>{}),Rm.set(e,r),e}function Tw(r){if(qp.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});qp.set(r,e)}let Hp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return qp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ib.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return us(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Sw(r){Hp=r(Hp)}function ww(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Rp(this),e,...n);return ib.set(s,e.sort?e.sort():[e]),us(s)}:xw().includes(r)?function(...e){return r.apply(Rp(this),e),us(nb.get(this))}:function(...e){return us(r.apply(Rp(this),e))}}function Aw(r){return typeof r=="function"?ww(r):(r instanceof IDBTransaction&&Tw(r),_w(r,bw())?new Proxy(r,Hp):r)}function us(r){if(r instanceof IDBRequest)return Ew(r);if(Ap.has(r))return Ap.get(r);const e=Aw(r);return e!==r&&(Ap.set(r,e),Rm.set(e,r)),e}const Rp=r=>Rm.get(r);function Rw(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const d=indexedDB.open(r,e),p=us(d);return s&&d.addEventListener("upgradeneeded",m=>{s(us(d.result),m.oldVersion,m.newVersion,us(d.transaction),m)}),n&&d.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const Iw=["get","getKey","getAll","getAllKeys","count"],Cw=["put","add","delete","clear"],Ip=new Map;function i_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Ip.get(e))return Ip.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Cw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Iw.includes(n)))return;const u=async function(d,...p){const m=this.transaction(d,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[n](...p),o&&m.done]))[0]};return Ip.set(e,u),u}Sw(r=>({...r,get:(e,n,s)=>i_(e,n)||r.get(e,n,s),has:(e,n)=>!!i_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function kw(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fp="@firebase/app",r_="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr=new Am("@firebase/app"),Mw="@firebase/app-compat",Nw="@firebase/analytics-compat",Ow="@firebase/analytics",Vw="@firebase/app-check-compat",Pw="@firebase/app-check",Lw="@firebase/auth",Uw="@firebase/auth-compat",jw="@firebase/database",zw="@firebase/data-connect",Bw="@firebase/database-compat",qw="@firebase/functions",Hw="@firebase/functions-compat",Fw="@firebase/installations",Gw="@firebase/installations-compat",Ww="@firebase/messaging",Yw="@firebase/messaging-compat",Qw="@firebase/performance",$w="@firebase/performance-compat",Kw="@firebase/remote-config",Xw="@firebase/remote-config-compat",Zw="@firebase/storage",Jw="@firebase/storage-compat",eA="@firebase/firestore",tA="@firebase/ai",nA="@firebase/firestore-compat",iA="firebase",rA="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp="[DEFAULT]",sA={[Fp]:"fire-core",[Mw]:"fire-core-compat",[Ow]:"fire-analytics",[Nw]:"fire-analytics-compat",[Pw]:"fire-app-check",[Vw]:"fire-app-check-compat",[Lw]:"fire-auth",[Uw]:"fire-auth-compat",[jw]:"fire-rtdb",[zw]:"fire-data-connect",[Bw]:"fire-rtdb-compat",[qw]:"fire-fn",[Hw]:"fire-fn-compat",[Fw]:"fire-iid",[Gw]:"fire-iid-compat",[Ww]:"fire-fcm",[Yw]:"fire-fcm-compat",[Qw]:"fire-perf",[$w]:"fire-perf-compat",[Kw]:"fire-rc",[Xw]:"fire-rc-compat",[Zw]:"fire-gcs",[Jw]:"fire-gcs-compat",[eA]:"fire-fst",[nA]:"fire-fst-compat",[tA]:"fire-vertex","fire-js":"fire-js",[iA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Map,aA=new Map,Wp=new Map;function s_(r,e){try{r.container.addComponent(e)}catch(n){xr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function _o(r){const e=r.name;if(Wp.has(e))return xr.debug(`There were multiple attempts to register component ${e}.`),!1;Wp.set(e,r);for(const n of Ch.values())s_(n,r);for(const n of aA.values())s_(n,r);return!0}function Im(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function oi(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cs=new Ru("app","Firebase",oA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=rA;function rb(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Gp,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw cs.create("bad-app-name",{appName:String(o)});if(n||(n=Z1()),!n)throw cs.create("no-options");const u=Ch.get(o);if(u){if(ps(n,u.options)&&ps(s,u.config))return u;throw cs.create("duplicate-app",{appName:o})}const d=new pw(o);for(const m of Wp.values())d.addComponent(m);const p=new lA(n,s,d);return Ch.set(o,p),p}function sb(r=Gp){const e=Ch.get(r);if(!e&&r===Gp&&Z1())return rb();if(!e)throw cs.create("no-app",{appName:r});return e}function hs(r,e,n){var s;let o=(s=sA[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),d=e.match(/\s|\//);if(u||d){const p=[`Unable to register library "${o}" with version "${e}":`];u&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xr.warn(p.join(" "));return}_o(new ua(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="firebase-heartbeat-database",cA=1,hu="firebase-heartbeat-store";let Cp=null;function ab(){return Cp||(Cp=Rw(uA,cA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(hu)}catch(n){console.warn(n)}}}}).catch(r=>{throw cs.create("idb-open",{originalErrorMessage:r.message})})),Cp}async function hA(r){try{const n=(await ab()).transaction(hu),s=await n.objectStore(hu).get(ob(r));return await n.done,s}catch(e){if(e instanceof Ar)xr.warn(e.message);else{const n=cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xr.warn(n.message)}}}async function a_(r,e){try{const s=(await ab()).transaction(hu,"readwrite");await s.objectStore(hu).put(e,ob(r)),await s.done}catch(n){if(n instanceof Ar)xr.warn(n.message);else{const s=cs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xr.warn(s.message)}}}function ob(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=1024,fA=30;class pA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gA(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=o_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>fA){const d=yA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){xr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=o_(),{heartbeatsToSend:s,unsentEntries:o}=mA(this._heartbeatsCache.heartbeats),u=Ih(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return xr.warn(n),""}}}function o_(){return new Date().toISOString().substring(0,10)}function mA(r,e=dA){const n=[];let s=r.slice();for(const o of r){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),l_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),l_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class gA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nw()?iw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return a_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return a_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function l_(r){return Ih(JSON.stringify({version:2,heartbeats:r})).length}function yA(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(r){_o(new ua("platform-logger",e=>new Dw(e),"PRIVATE")),_o(new ua("heartbeat",e=>new pA(e),"PRIVATE")),hs(Fp,r_,r),hs(Fp,r_,"esm2017"),hs("fire-js","")}vA("");function Cm(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function lb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _A=lb,ub=new Ru("auth","Firebase",lb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new Am("@firebase/auth");function bA(r,...e){Dh.logLevel<=ze.WARN&&Dh.warn(`Auth (${Mo}): ${r}`,...e)}function yh(r,...e){Dh.logLevel<=ze.ERROR&&Dh.error(`Auth (${Mo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(r,...e){throw Dm(r,...e)}function Li(r,...e){return Dm(r,...e)}function cb(r,e,n){const s=Object.assign(Object.assign({},_A()),{[e]:n});return new Ru("auth","Firebase",s).create(e,{appName:r.name})}function yr(r){return cb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dm(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return ub.create(r,...e)}function Re(r,e,...n){if(!r)throw Dm(e,...n)}function pr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw yh(e),new Error(e)}function Er(r,e){r||pr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function xA(){return u_()==="http:"||u_()==="https:"}function u_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xA()||Z2()||"connection"in navigator)?navigator.onLine:!0}function TA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Er(n>e,"Short delay should be less than long delay!"),this.isMobile=$2()||J2()}get(){return EA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(r,e){Er(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AA=new Cu(3e4,6e4);function xs(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Es(r,e,n,s,o={}){return db(r,o,async()=>{let u={},d={};s&&(e==="GET"?d=s:u={body:JSON.stringify(s)});const p=Iu(Object.assign({key:r.config.apiKey},d)).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:m},u);return X2()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Au(r.emulatorConfig.host)&&(g.credentials="include"),hb.fetch()(await fb(r,r.config.apiHost,n,p),g)})}async function db(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},SA),e);try{const o=new IA(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw uh(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[m,g]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw uh(r,"credential-already-in-use",d);if(m==="EMAIL_EXISTS")throw uh(r,"email-already-in-use",d);if(m==="USER_DISABLED")throw uh(r,"user-disabled",d);const b=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw cb(r,b,g);yi(r,b)}}catch(o){if(o instanceof Ar)throw o;yi(r,"network-request-failed",{message:String(o)})}}async function Du(r,e,n,s,o={}){const u=await Es(r,e,n,s,o);return"mfaPendingCredential"in u&&yi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function fb(r,e,n,s){const o=`${e}${n}?${s}`,u=r,d=u.config.emulator?km(r.config,o):`${r.config.apiScheme}://${o}`;return wA.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function RA(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class IA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Li(this.auth,"network-request-failed")),AA.get())})}}function uh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Li(r,e,s);return o.customData._tokenResponse=n,o}function c_(r){return r!==void 0&&r.enterprise!==void 0}class CA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return RA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function DA(r,e){return Es(r,"GET","/v2/recaptchaConfig",xs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kA(r,e){return Es(r,"POST","/v1/accounts:delete",e)}async function kh(r,e){return Es(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MA(r,e=!1){const n=Vt(r),s=await n.getIdToken(e),o=Mm(s);Re(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:su(Dp(o.auth_time)),issuedAtTime:su(Dp(o.iat)),expirationTime:su(Dp(o.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Dp(r){return Number(r)*1e3}function Mm(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{const o=K1(n);return o?JSON.parse(o):(yh("Failed to decode base64 JWT payload"),null)}catch(o){return yh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function h_(r){const e=Mm(r);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ar&&NA(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function NA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=su(this.lastLoginAt),this.creationTime=su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await du(r,kh(n,{idToken:s}));Re(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const d=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?pb(u.providerUserInfo):[],p=PA(r.providerData,d),m=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(p!=null&&p.length),b=m?g:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new Qp(u.createdAt,u.lastLoginAt),isAnonymous:b};Object.assign(r,S)}async function VA(r){const e=Vt(r);await Mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PA(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function pb(r){return r.map(e=>{var{providerId:n}=e,s=Cm(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LA(r,e){const n=await db(r,{},async()=>{const s=Iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,d=await fb(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",hb.fetch()(d,{method:"POST",headers:p,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function UA(r,e){return Es(r,"POST","/v2/accounts:revokeToken",xs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):h_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=h_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await LA(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,d=new fo;return s&&(Re(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(Re(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(Re(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(r,e){Re(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class gi{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Cm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new OA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Qp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await du(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return MA(this,e)}reload(){return VA(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Mh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(yr(this.auth));const e=await this.getIdToken();return await du(this,kA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,d,p,m,g,b;const S=(s=n.displayName)!==null&&s!==void 0?s:void 0,T=(o=n.email)!==null&&o!==void 0?o:void 0,N=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,M=(d=n.photoURL)!==null&&d!==void 0?d:void 0,W=(p=n.tenantId)!==null&&p!==void 0?p:void 0,B=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,q=(g=n.createdAt)!==null&&g!==void 0?g:void 0,Z=(b=n.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:Y,emailVerified:ue,isAnonymous:le,providerData:de,stsTokenManager:k}=n;Re(Y&&k,e,"internal-error");const A=fo.fromJSON(this.name,k);Re(typeof Y=="string",e,"internal-error"),ts(S,e.name),ts(T,e.name),Re(typeof ue=="boolean",e,"internal-error"),Re(typeof le=="boolean",e,"internal-error"),ts(N,e.name),ts(M,e.name),ts(W,e.name),ts(B,e.name),ts(q,e.name),ts(Z,e.name);const R=new gi({uid:Y,auth:e,email:T,emailVerified:ue,displayName:S,isAnonymous:le,photoURL:M,phoneNumber:N,tenantId:W,stsTokenManager:A,createdAt:q,lastLoginAt:Z});return de&&Array.isArray(de)&&(R.providerData=de.map(O=>Object.assign({},O))),B&&(R._redirectEventId=B),R}static async _fromIdTokenResponse(e,n,s=!1){const o=new fo;o.updateFromServerResponse(n);const u=new gi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Mh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Re(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?pb(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new fo;p.updateFromIdToken(s);const m=new gi({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Qp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=new Map;function mr(r){Er(r instanceof Function,"Expected a class definition");let e=d_.get(r);return e?(Er(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,d_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}mb.type="NONE";const f_=mb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(r,e,n){return`firebase:${r}:${e}:${n}`}class po{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=vh(this.userKey,o.apiKey,u),this.fullPersistenceKey=vh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kh(this.auth,{idToken:e}).catch(()=>{});return n?gi._fromGetAccountInfoResponse(this.auth,n,e):null}return gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new po(mr(f_),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||mr(f_);const d=vh(s,e.config.apiKey,e.name);let p=null;for(const g of n)try{const b=await g._get(d);if(b){let S;if(typeof b=="string"){const T=await kh(e,{idToken:b}).catch(()=>{});if(!T)break;S=await gi._fromGetAccountInfoResponse(e,T,b)}else S=gi._fromJSON(e,b);g!==u&&(p=S),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new po(u,e,s):(u=m[0],p&&await u._set(d,p.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(d)}catch{}})),new po(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_b(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xb(e))return"Blackberry";if(Eb(e))return"Webos";if(yb(e))return"Safari";if((e.includes("chrome/")||vb(e))&&!e.includes("edge/"))return"Chrome";if(bb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function gb(r=bn()){return/firefox\//i.test(r)}function yb(r=bn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vb(r=bn()){return/crios\//i.test(r)}function _b(r=bn()){return/iemobile/i.test(r)}function bb(r=bn()){return/android/i.test(r)}function xb(r=bn()){return/blackberry/i.test(r)}function Eb(r=bn()){return/webos/i.test(r)}function Nm(r=bn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function jA(r=bn()){var e;return Nm(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zA(){return ew()&&document.documentMode===10}function Tb(r=bn()){return Nm(r)||bb(r)||Eb(r)||xb(r)||/windows phone/i.test(r)||_b(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(r,e=[]){let n;switch(r){case"Browser":n=p_(bn());break;case"Worker":n=`${p_(bn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((d,p)=>{try{const m=e(u);d(m)}catch(m){p(m)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qA(r,e={}){return Es(r,"GET","/v2/passwordPolicy",xs(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=6;class FA{constructor(e){var n,s,o,u;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:HA,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,d,p;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(d=m.containsNumericCharacter)!==null&&d!==void 0?d:!0),m.isValid&&(m.isValid=(p=m.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),m}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m_(this),this.idTokenSubscription=new m_(this),this.beforeStateQueue=new BA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ub,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await po.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kh(this,{idToken:e}),s=await gi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(oi(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,p=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!d||d===p)&&(m!=null&&m.user)&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oi(this.app))return Promise.reject(yr(this));const n=e?Vt(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(yr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oi(this.app)?Promise.reject(yr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qA(this),n=new FA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ru("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await UA(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mr(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await po.create(this,[mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,o);return()=>{d=!0,m()}}else{const m=e.addObserver(n);return()=>{d=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&bA(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function pa(r){return Vt(r)}class m_{constructor(e){this.auth=e,this.observer=null,this.addObserver=lw(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $h={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WA(r){$h=r}function wb(r){return $h.loadJS(r)}function YA(){return $h.recaptchaEnterpriseScript}function QA(){return $h.gapiScript}function $A(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class KA{constructor(){this.enterprise=new XA}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class XA{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ZA="recaptcha-enterprise",Ab="NO_RECAPTCHA";class JA{constructor(e){this.type=ZA,this.auth=pa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{DA(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new CA(m);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,d(g.siteKey)}}).catch(m=>{p(m)})})}function o(u,d,p){const m=window.grecaptcha;c_(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(g=>{d(g)}).catch(()=>{d(Ab)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new KA().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{s(this.auth).then(p=>{if(!n&&c_(window.grecaptcha))o(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let m=YA();m.length!==0&&(m+=p),wb(m).then(()=>{o(p,u,d)}).catch(g=>{d(g)})}}).catch(p=>{d(p)})})}}async function g_(r,e,n,s=!1,o=!1){const u=new JA(r);let d;if(o)d=Ab;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const p=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const m=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const m=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function $p(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await g_(r,e,n,n==="getOobCode");return s(r,d)}else return s(r,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await g_(r,e,n,n==="getOobCode");return s(r,p)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(r,e){const n=Im(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ps(u,e??{}))return o;yi(o,"already-initialized")}return n.initialize({options:e})}function tR(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(mr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function nR(r,e,n){const s=pa(r);Re(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Rb(e),{host:d,port:p}=iR(e),m=p===null?"":`:${p}`,g={url:`${u}//${d}${m}/`},b=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Re(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Re(ps(g,s.config.emulator)&&ps(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,Au(d)?(eb(`${u}//${d}${m}`),tb("Auth",!0)):rR()}function Rb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function iR(r){const e=Rb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:y_(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:y_(d)}}}function y_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function rR(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pr("not implemented")}_getIdTokenResponse(e){return pr("not implemented")}_linkToIdToken(e,n){return pr("not implemented")}_getReauthenticationResolver(e){return pr("not implemented")}}async function sR(r,e){return Es(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aR(r,e){return Du(r,"POST","/v1/accounts:signInWithPassword",xs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(r,e){return Du(r,"POST","/v1/accounts:signInWithEmailLink",xs(r,e))}async function lR(r,e){return Du(r,"POST","/v1/accounts:signInWithEmailLink",xs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends Om{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new fu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new fu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $p(e,n,"signInWithPassword",aR);case"emailLink":return oR(e,{email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $p(e,s,"signUpPassword",sR);case"emailLink":return lR(e,{idToken:n,email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(r,e){return Du(r,"POST","/v1/accounts:signInWithIdp",xs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="http://localhost";class ca extends Om{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Cm(n,["providerId","signInMethod"]);if(!s||!o)return null;const d=new ca(s,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return mo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,mo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,mo(e,n)}buildRequest(){const e={requestUri:uR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Iu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hR(r){const e=Zl(Jl(r)).link,n=e?Zl(Jl(e)).deep_link_id:null,s=Zl(Jl(r)).deep_link_id;return(s?Zl(Jl(s)).link:null)||s||n||e||r}class Vm{constructor(e){var n,s,o,u,d,p;const m=Zl(Jl(e)),g=(n=m.apiKey)!==null&&n!==void 0?n:null,b=(s=m.oobCode)!==null&&s!==void 0?s:null,S=cR((o=m.mode)!==null&&o!==void 0?o:null);Re(g&&b&&S,"argument-error"),this.apiKey=g,this.operation=S,this.code=b,this.continueUrl=(u=m.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(d=m.lang)!==null&&d!==void 0?d:null,this.tenantId=(p=m.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const n=hR(e);try{return new Vm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.providerId=No.PROVIDER_ID}static credential(e,n){return fu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Vm.parseLink(n);return Re(s,"argument-error"),fu._fromEmailAndCode(e,s.code,s.tenantId)}}No.PROVIDER_ID="password";No.EMAIL_PASSWORD_SIGN_IN_METHOD="password";No.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends Ib{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends ku{constructor(){super("facebook.com")}static credential(e){return ca._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.FACEBOOK_SIGN_IN_METHOD="facebook.com";is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ca._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return rs.credential(n,s)}catch{return null}}}rs.GOOGLE_SIGN_IN_METHOD="google.com";rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends ku{constructor(){super("github.com")}static credential(e){return ca._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.GITHUB_SIGN_IN_METHOD="github.com";ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends ku{constructor(){super("twitter.com")}static credential(e,n){return ca._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return as.credential(n,s)}catch{return null}}}as.TWITTER_SIGN_IN_METHOD="twitter.com";as.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dR(r,e){return Du(r,"POST","/v1/accounts:signUp",xs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await gi._fromIdTokenResponse(e,s,o),d=v_(s);return new ha({user:u,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=v_(s);return new ha({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function v_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends Ar{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Nh(e,n,s,o)}}function Cb(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(r,u,e,s):u})}async function fR(r,e,n=!1){const s=await du(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ha._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(r,e,n=!1){const{auth:s}=r;if(oi(s.app))return Promise.reject(yr(s));const o="reauthenticate";try{const u=await du(r,Cb(s,o,e,r),n);Re(u.idToken,s,"internal-error");const d=Mm(u.idToken);Re(d,s,"internal-error");const{sub:p}=d;return Re(r.uid===p,s,"user-mismatch"),ha._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&yi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Db(r,e,n=!1){if(oi(r.app))return Promise.reject(yr(r));const s="signIn",o=await Cb(r,s,e),u=await ha._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function mR(r,e){return Db(pa(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kb(r){const e=pa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function gR(r,e,n){if(oi(r.app))return Promise.reject(yr(r));const s=pa(r),d=await $p(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dR).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&kb(r),m}),p=await ha._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(p.user),p}function yR(r,e,n){return oi(r.app)?Promise.reject(yr(r)):mR(Vt(r),No.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&kb(r),s})}function vR(r,e,n,s){return Vt(r).onIdTokenChanged(e,n,s)}function _R(r,e,n){return Vt(r).beforeAuthStateChanged(e,n)}function bR(r,e,n,s){return Vt(r).onAuthStateChanged(e,n,s)}function xR(r){return Vt(r).signOut()}const Oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Oh,"1"),this.storage.removeItem(Oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=1e3,TR=10;class Nb extends Mb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Tb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,m)=>{this.notifyListeners(d,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);zA()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,TR):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},ER)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Nb.type="LOCAL";const SR=Nb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob extends Mb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ob.type="SESSION";const Vb=Ob;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Kh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(d).map(async g=>g(n.origin,u)),m=await wR(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((p,m)=>{const g=Pm("",20);o.port1.start();const b=setTimeout(()=>{m(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(S){const T=S;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(T.data.response);break;default:clearTimeout(b),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return window}function RR(r){Ui().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function IR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CR(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function DR(){return Pb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="firebaseLocalStorageDb",kR=1,Vh="firebaseLocalStorage",Ub="fbase_key";class Mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xh(r,e){return r.transaction([Vh],e?"readwrite":"readonly").objectStore(Vh)}function MR(){const r=indexedDB.deleteDatabase(Lb);return new Mu(r).toPromise()}function Kp(){const r=indexedDB.open(Lb,kR);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Vh,{keyPath:Ub})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Vh)?e(s):(s.close(),await MR(),e(await Kp()))})})}async function __(r,e,n){const s=Xh(r,!0).put({[Ub]:e,value:n});return new Mu(s).toPromise()}async function NR(r,e){const n=Xh(r,!1).get(e),s=await new Mu(n).toPromise();return s===void 0?null:s.value}function b_(r,e){const n=Xh(r,!0).delete(e);return new Mu(n).toPromise()}const OR=800,VR=3;class jb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>VR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Pb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kh._getInstance(DR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await IR(),!this.activeServiceWorker)return;this.sender=new AR(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kp();return await __(e,Oh,"1"),await b_(e,Oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>__(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>NR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>b_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Xh(o,!1).getAll();return new Mu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jb.type="LOCAL";const PR=jb;new Cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(r,e){return e?mr(e):(Re(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm extends Om{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return mo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function UR(r){return Db(r.auth,new Lm(r),r.bypassAuthState)}function jR(r){const{auth:e,user:n}=r;return Re(n,e,"internal-error"),pR(n,new Lm(r),r.bypassAuthState)}async function zR(r){const{auth:e,user:n}=r;return Re(n,e,"internal-error"),fR(n,new Lm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UR;case"linkViaPopup":case"linkViaRedirect":return zR;case"reauthViaPopup":case"reauthViaRedirect":return jR;default:yi(this.auth,"internal-error")}}resolve(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=new Cu(2e3,1e4);class ho extends zb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ho.currentPopupAction&&ho.currentPopupAction.cancel(),ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Er(this.filter.length===1,"Popup operations only handle one event");const e=Pm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BR.get())};e()}}ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="pendingRedirect",_h=new Map;class HR extends zb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=_h.get(this.auth._key());if(!e){try{const s=await FR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}_h.set(this.auth._key(),e)}return this.bypassAuthState||_h.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FR(r,e){const n=YR(e),s=WR(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function GR(r,e){_h.set(r._key(),e)}function WR(r){return mr(r._redirectPersistence)}function YR(r){return vh(qR,r.config.apiKey,r.name)}async function QR(r,e,n=!1){if(oi(r.app))return Promise.reject(yr(r));const s=pa(r),o=LR(s,e),d=await new HR(s,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=10*60*1e3;class KR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!Bb(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Li(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$R&&this.cachedEventUids.clear(),this.cachedEventUids.has(x_(e))}saveEventToCache(e){this.cachedEventUids.add(x_(e)),this.lastProcessedEventTime=Date.now()}}function x_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Bb({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function XR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZR(r,e={}){return Es(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eI=/^https?/;async function tI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await ZR(r);for(const n of e)try{if(nI(n))return}catch{}yi(r,"unauthorized-domain")}function nI(r){const e=Yp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!eI.test(n))return!1;if(JR.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=new Cu(3e4,6e4);function E_(){const r=Ui().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function rI(r){return new Promise((e,n)=>{var s,o,u;function d(){E_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{E_(),n(Li(r,"network-request-failed"))},timeout:iI.get()})}if(!((o=(s=Ui().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ui().gapi)===null||u===void 0)&&u.load)d();else{const p=$A("iframefcb");return Ui()[p]=()=>{gapi.load?d():n(Li(r,"network-request-failed"))},wb(`${QA()}?onload=${p}`).catch(m=>n(m))}}).catch(e=>{throw bh=null,e})}let bh=null;function sI(r){return bh=bh||rI(r),bh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=new Cu(5e3,15e3),oI="__/auth/iframe",lI="emulator/auth/iframe",uI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hI(r){const e=r.config;Re(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?km(e,lI):`https://${r.config.authDomain}/${oI}`,s={apiKey:e.apiKey,appName:r.name,v:Mo},o=cI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Iu(s).slice(1)}`}async function dI(r){const e=await sI(r),n=Ui().gapi;return Re(n,r,"internal-error"),e.open({where:document.body,url:hI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const d=Li(r,"network-request-failed"),p=Ui().setTimeout(()=>{u(d)},aI.get());function m(){Ui().clearTimeout(p),o(s)}s.ping(m).then(m,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pI=500,mI=600,gI="_blank",yI="http://localhost";class T_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vI(r,e,n,s=pI,o=mI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const m=Object.assign(Object.assign({},fI),{width:s.toString(),height:o.toString(),top:u,left:d}),g=bn().toLowerCase();n&&(p=vb(g)?gI:n),gb(g)&&(e=e||yI,m.scrollbars="yes");const b=Object.entries(m).reduce((T,[N,M])=>`${T}${N}=${M},`,"");if(jA(g)&&p!=="_self")return _I(e||"",p),new T_(null);const S=window.open(e||"",p,b);Re(S,r,"popup-blocked");try{S.focus()}catch{}return new T_(S)}function _I(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="__/auth/handler",xI="emulator/auth/handler",EI=encodeURIComponent("fac");async function S_(r,e,n,s,o,u){Re(r.config.authDomain,r,"auth-domain-config-required"),Re(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Mo,eventId:o};if(e instanceof Ib){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",ow(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,S]of Object.entries({}))d[b]=S}if(e instanceof ku){const b=e.getScopes().filter(S=>S!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const m=await r._getAppCheckToken(),g=m?`#${EI}=${encodeURIComponent(m)}`:"";return`${TI(r)}?${Iu(p).slice(1)}${g}`}function TI({config:r}){return r.emulator?km(r,xI):`https://${r.authDomain}/${bI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="webStorageSupport";class SI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vb,this._completeRedirectFn=QR,this._overrideRedirectResult=GR}async _openPopup(e,n,s,o){var u;Er((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const d=await S_(e,n,s,Yp(),o);return vI(e,d,Pm())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await S_(e,n,s,Yp(),o);return RR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Er(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await dI(e),s=new KR(e);return n.register("authEvent",o=>(Re(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kp,{type:kp},o=>{var u;const d=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[kp];d!==void 0&&n(!!d),yi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Tb()||yb()||Nm()}}const wI=SI;var w_="@firebase/auth",A_="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function II(r){_o(new ua("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;Re(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sb(r)},g=new GA(s,o,u,m);return tR(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),_o(new ua("auth-internal",e=>{const n=pa(e.getProvider("auth").getImmediate());return(s=>new AI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hs(w_,A_,RI(r)),hs(w_,A_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=5*60,DI=J1("authIdTokenMaxAge")||CI;let R_=null;const kI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>DI)return;const o=n==null?void 0:n.token;R_!==o&&(R_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Xp(r=sb()){const e=Im(r,"auth");if(e.isInitialized())return e.getImmediate();const n=eR(r,{popupRedirectResolver:wI,persistence:[PR,SR,Vb]}),s=J1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=kI(u.toString());_R(n,d,()=>d(n.currentUser)),vR(n,p=>d(p))}}const o=X1("auth");return o&&nR(n,`http://${o}`),n}function MI(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}WA({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Li("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",MI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});II("Browser");var NI="firebase",OI="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hs(NI,OI,"app");var I_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ds,qb;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,A){function R(){}R.prototype=A.prototype,k.D=A.prototype,k.prototype=new R,k.prototype.constructor=k,k.C=function(O,V,U){for(var D=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)D[Ye-2]=arguments[Ye];return A.prototype[V].apply(O,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,A,R){R||(R=0);var O=Array(16);if(typeof A=="string")for(var V=0;16>V;++V)O[V]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(V=0;16>V;++V)O[V]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=k.g[0],R=k.g[1],V=k.g[2];var U=k.g[3],D=A+(U^R&(V^U))+O[0]+3614090360&4294967295;A=R+(D<<7&4294967295|D>>>25),D=U+(V^A&(R^V))+O[1]+3905402710&4294967295,U=A+(D<<12&4294967295|D>>>20),D=V+(R^U&(A^R))+O[2]+606105819&4294967295,V=U+(D<<17&4294967295|D>>>15),D=R+(A^V&(U^A))+O[3]+3250441966&4294967295,R=V+(D<<22&4294967295|D>>>10),D=A+(U^R&(V^U))+O[4]+4118548399&4294967295,A=R+(D<<7&4294967295|D>>>25),D=U+(V^A&(R^V))+O[5]+1200080426&4294967295,U=A+(D<<12&4294967295|D>>>20),D=V+(R^U&(A^R))+O[6]+2821735955&4294967295,V=U+(D<<17&4294967295|D>>>15),D=R+(A^V&(U^A))+O[7]+4249261313&4294967295,R=V+(D<<22&4294967295|D>>>10),D=A+(U^R&(V^U))+O[8]+1770035416&4294967295,A=R+(D<<7&4294967295|D>>>25),D=U+(V^A&(R^V))+O[9]+2336552879&4294967295,U=A+(D<<12&4294967295|D>>>20),D=V+(R^U&(A^R))+O[10]+4294925233&4294967295,V=U+(D<<17&4294967295|D>>>15),D=R+(A^V&(U^A))+O[11]+2304563134&4294967295,R=V+(D<<22&4294967295|D>>>10),D=A+(U^R&(V^U))+O[12]+1804603682&4294967295,A=R+(D<<7&4294967295|D>>>25),D=U+(V^A&(R^V))+O[13]+4254626195&4294967295,U=A+(D<<12&4294967295|D>>>20),D=V+(R^U&(A^R))+O[14]+2792965006&4294967295,V=U+(D<<17&4294967295|D>>>15),D=R+(A^V&(U^A))+O[15]+1236535329&4294967295,R=V+(D<<22&4294967295|D>>>10),D=A+(V^U&(R^V))+O[1]+4129170786&4294967295,A=R+(D<<5&4294967295|D>>>27),D=U+(R^V&(A^R))+O[6]+3225465664&4294967295,U=A+(D<<9&4294967295|D>>>23),D=V+(A^R&(U^A))+O[11]+643717713&4294967295,V=U+(D<<14&4294967295|D>>>18),D=R+(U^A&(V^U))+O[0]+3921069994&4294967295,R=V+(D<<20&4294967295|D>>>12),D=A+(V^U&(R^V))+O[5]+3593408605&4294967295,A=R+(D<<5&4294967295|D>>>27),D=U+(R^V&(A^R))+O[10]+38016083&4294967295,U=A+(D<<9&4294967295|D>>>23),D=V+(A^R&(U^A))+O[15]+3634488961&4294967295,V=U+(D<<14&4294967295|D>>>18),D=R+(U^A&(V^U))+O[4]+3889429448&4294967295,R=V+(D<<20&4294967295|D>>>12),D=A+(V^U&(R^V))+O[9]+568446438&4294967295,A=R+(D<<5&4294967295|D>>>27),D=U+(R^V&(A^R))+O[14]+3275163606&4294967295,U=A+(D<<9&4294967295|D>>>23),D=V+(A^R&(U^A))+O[3]+4107603335&4294967295,V=U+(D<<14&4294967295|D>>>18),D=R+(U^A&(V^U))+O[8]+1163531501&4294967295,R=V+(D<<20&4294967295|D>>>12),D=A+(V^U&(R^V))+O[13]+2850285829&4294967295,A=R+(D<<5&4294967295|D>>>27),D=U+(R^V&(A^R))+O[2]+4243563512&4294967295,U=A+(D<<9&4294967295|D>>>23),D=V+(A^R&(U^A))+O[7]+1735328473&4294967295,V=U+(D<<14&4294967295|D>>>18),D=R+(U^A&(V^U))+O[12]+2368359562&4294967295,R=V+(D<<20&4294967295|D>>>12),D=A+(R^V^U)+O[5]+4294588738&4294967295,A=R+(D<<4&4294967295|D>>>28),D=U+(A^R^V)+O[8]+2272392833&4294967295,U=A+(D<<11&4294967295|D>>>21),D=V+(U^A^R)+O[11]+1839030562&4294967295,V=U+(D<<16&4294967295|D>>>16),D=R+(V^U^A)+O[14]+4259657740&4294967295,R=V+(D<<23&4294967295|D>>>9),D=A+(R^V^U)+O[1]+2763975236&4294967295,A=R+(D<<4&4294967295|D>>>28),D=U+(A^R^V)+O[4]+1272893353&4294967295,U=A+(D<<11&4294967295|D>>>21),D=V+(U^A^R)+O[7]+4139469664&4294967295,V=U+(D<<16&4294967295|D>>>16),D=R+(V^U^A)+O[10]+3200236656&4294967295,R=V+(D<<23&4294967295|D>>>9),D=A+(R^V^U)+O[13]+681279174&4294967295,A=R+(D<<4&4294967295|D>>>28),D=U+(A^R^V)+O[0]+3936430074&4294967295,U=A+(D<<11&4294967295|D>>>21),D=V+(U^A^R)+O[3]+3572445317&4294967295,V=U+(D<<16&4294967295|D>>>16),D=R+(V^U^A)+O[6]+76029189&4294967295,R=V+(D<<23&4294967295|D>>>9),D=A+(R^V^U)+O[9]+3654602809&4294967295,A=R+(D<<4&4294967295|D>>>28),D=U+(A^R^V)+O[12]+3873151461&4294967295,U=A+(D<<11&4294967295|D>>>21),D=V+(U^A^R)+O[15]+530742520&4294967295,V=U+(D<<16&4294967295|D>>>16),D=R+(V^U^A)+O[2]+3299628645&4294967295,R=V+(D<<23&4294967295|D>>>9),D=A+(V^(R|~U))+O[0]+4096336452&4294967295,A=R+(D<<6&4294967295|D>>>26),D=U+(R^(A|~V))+O[7]+1126891415&4294967295,U=A+(D<<10&4294967295|D>>>22),D=V+(A^(U|~R))+O[14]+2878612391&4294967295,V=U+(D<<15&4294967295|D>>>17),D=R+(U^(V|~A))+O[5]+4237533241&4294967295,R=V+(D<<21&4294967295|D>>>11),D=A+(V^(R|~U))+O[12]+1700485571&4294967295,A=R+(D<<6&4294967295|D>>>26),D=U+(R^(A|~V))+O[3]+2399980690&4294967295,U=A+(D<<10&4294967295|D>>>22),D=V+(A^(U|~R))+O[10]+4293915773&4294967295,V=U+(D<<15&4294967295|D>>>17),D=R+(U^(V|~A))+O[1]+2240044497&4294967295,R=V+(D<<21&4294967295|D>>>11),D=A+(V^(R|~U))+O[8]+1873313359&4294967295,A=R+(D<<6&4294967295|D>>>26),D=U+(R^(A|~V))+O[15]+4264355552&4294967295,U=A+(D<<10&4294967295|D>>>22),D=V+(A^(U|~R))+O[6]+2734768916&4294967295,V=U+(D<<15&4294967295|D>>>17),D=R+(U^(V|~A))+O[13]+1309151649&4294967295,R=V+(D<<21&4294967295|D>>>11),D=A+(V^(R|~U))+O[4]+4149444226&4294967295,A=R+(D<<6&4294967295|D>>>26),D=U+(R^(A|~V))+O[11]+3174756917&4294967295,U=A+(D<<10&4294967295|D>>>22),D=V+(A^(U|~R))+O[2]+718787259&4294967295,V=U+(D<<15&4294967295|D>>>17),D=R+(U^(V|~A))+O[9]+3951481745&4294967295,k.g[0]=k.g[0]+A&4294967295,k.g[1]=k.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+U&4294967295}s.prototype.u=function(k,A){A===void 0&&(A=k.length);for(var R=A-this.blockSize,O=this.B,V=this.h,U=0;U<A;){if(V==0)for(;U<=R;)o(this,k,U),U+=this.blockSize;if(typeof k=="string"){for(;U<A;)if(O[V++]=k.charCodeAt(U++),V==this.blockSize){o(this,O),V=0;break}}else for(;U<A;)if(O[V++]=k[U++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=A},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var A=1;A<k.length-8;++A)k[A]=0;var R=8*this.o;for(A=k.length-8;A<k.length;++A)k[A]=R&255,R/=256;for(this.u(k),k=Array(16),A=R=0;4>A;++A)for(var O=0;32>O;O+=8)k[R++]=this.g[A]>>>O&255;return k};function u(k,A){var R=p;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=A(k)}function d(k,A){this.h=A;for(var R=[],O=!0,V=k.length-1;0<=V;V--){var U=k[V]|0;O&&U==A||(R[V]=U,O=!1)}this.g=R}var p={};function m(k){return-128<=k&&128>k?u(k,function(A){return new d([A|0],0>A?-1:0)}):new d([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return S;if(0>k)return B(g(-k));for(var A=[],R=1,O=0;k>=R;O++)A[O]=k/R|0,R*=4294967296;return new d(A,0)}function b(k,A){if(k.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(k.charAt(0)=="-")return B(b(k.substring(1),A));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(A,8)),O=S,V=0;V<k.length;V+=8){var U=Math.min(8,k.length-V),D=parseInt(k.substring(V,V+U),A);8>U?(U=g(Math.pow(A,U)),O=O.j(U).add(g(D))):(O=O.j(R),O=O.add(g(D)))}return O}var S=m(0),T=m(1),N=m(16777216);r=d.prototype,r.m=function(){if(W(this))return-B(this).m();for(var k=0,A=1,R=0;R<this.g.length;R++){var O=this.i(R);k+=(0<=O?O:4294967296+O)*A,A*=4294967296}return k},r.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(M(this))return"0";if(W(this))return"-"+B(this).toString(k);for(var A=g(Math.pow(k,6)),R=this,O="";;){var V=ue(R,A).g;R=q(R,V.j(A));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(k);if(R=V,M(R))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},r.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function M(k){if(k.h!=0)return!1;for(var A=0;A<k.g.length;A++)if(k.g[A]!=0)return!1;return!0}function W(k){return k.h==-1}r.l=function(k){return k=q(this,k),W(k)?-1:M(k)?0:1};function B(k){for(var A=k.g.length,R=[],O=0;O<A;O++)R[O]=~k.g[O];return new d(R,~k.h).add(T)}r.abs=function(){return W(this)?B(this):this},r.add=function(k){for(var A=Math.max(this.g.length,k.g.length),R=[],O=0,V=0;V<=A;V++){var U=O+(this.i(V)&65535)+(k.i(V)&65535),D=(U>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);O=D>>>16,U&=65535,D&=65535,R[V]=D<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function q(k,A){return k.add(B(A))}r.j=function(k){if(M(this)||M(k))return S;if(W(this))return W(k)?B(this).j(B(k)):B(B(this).j(k));if(W(k))return B(this.j(B(k)));if(0>this.l(N)&&0>k.l(N))return g(this.m()*k.m());for(var A=this.g.length+k.g.length,R=[],O=0;O<2*A;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<k.g.length;V++){var U=this.i(O)>>>16,D=this.i(O)&65535,Ye=k.i(V)>>>16,it=k.i(V)&65535;R[2*O+2*V]+=D*it,Z(R,2*O+2*V),R[2*O+2*V+1]+=U*it,Z(R,2*O+2*V+1),R[2*O+2*V+1]+=D*Ye,Z(R,2*O+2*V+1),R[2*O+2*V+2]+=U*Ye,Z(R,2*O+2*V+2)}for(O=0;O<A;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=A;O<2*A;O++)R[O]=0;return new d(R,0)};function Z(k,A){for(;(k[A]&65535)!=k[A];)k[A+1]+=k[A]>>>16,k[A]&=65535,A++}function Y(k,A){this.g=k,this.h=A}function ue(k,A){if(M(A))throw Error("division by zero");if(M(k))return new Y(S,S);if(W(k))return A=ue(B(k),A),new Y(B(A.g),B(A.h));if(W(A))return A=ue(k,B(A)),new Y(B(A.g),A.h);if(30<k.g.length){if(W(k)||W(A))throw Error("slowDivide_ only works with positive integers.");for(var R=T,O=A;0>=O.l(k);)R=le(R),O=le(O);var V=de(R,1),U=de(O,1);for(O=de(O,2),R=de(R,2);!M(O);){var D=U.add(O);0>=D.l(k)&&(V=V.add(R),U=D),O=de(O,1),R=de(R,1)}return A=q(k,V.j(A)),new Y(V,A)}for(V=S;0<=k.l(A);){for(R=Math.max(1,Math.floor(k.m()/A.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=g(R),D=U.j(A);W(D)||0<D.l(k);)R-=O,U=g(R),D=U.j(A);M(U)&&(U=T),V=V.add(U),k=q(k,D)}return new Y(V,k)}r.A=function(k){return ue(this,k).h},r.and=function(k){for(var A=Math.max(this.g.length,k.g.length),R=[],O=0;O<A;O++)R[O]=this.i(O)&k.i(O);return new d(R,this.h&k.h)},r.or=function(k){for(var A=Math.max(this.g.length,k.g.length),R=[],O=0;O<A;O++)R[O]=this.i(O)|k.i(O);return new d(R,this.h|k.h)},r.xor=function(k){for(var A=Math.max(this.g.length,k.g.length),R=[],O=0;O<A;O++)R[O]=this.i(O)^k.i(O);return new d(R,this.h^k.h)};function le(k){for(var A=k.g.length+1,R=[],O=0;O<A;O++)R[O]=k.i(O)<<1|k.i(O-1)>>>31;return new d(R,k.h)}function de(k,A){var R=A>>5;A%=32;for(var O=k.g.length-R,V=[],U=0;U<O;U++)V[U]=0<A?k.i(U+R)>>>A|k.i(U+R+1)<<32-A:k.i(U+R);return new d(V,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,qb=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=b,ds=d}).apply(typeof I_<"u"?I_:typeof self<"u"?self:typeof window<"u"?window:{});var ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hb,eu,Fb,xh,Zp,Gb,Wb,Yb;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ch=="object"&&ch];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var H=c[w];if(!(H in _))break e;_=_[H]}c=c[c.length-1],w=_[c],y=y(w),y!=w&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,w=!1,H={next:function(){if(!w&&_<c.length){var X=_++;return{value:y(X,c[X]),done:!1}}return w=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function b(c,y,_){return c.call.apply(c.bind,arguments)}function S(c,y,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,w),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function T(c,y,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:S,T.apply(null,arguments)}function N(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function M(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,H,X){for(var ce=Array(arguments.length-2),He=2;He<arguments.length;He++)ce[He-2]=arguments[He];return y.prototype[H].apply(w,ce)}}function W(c){const y=c.length;if(0<y){const _=Array(y);for(let w=0;w<y;w++)_[w]=c[w];return _}return[]}function B(c,y){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(m(w)){const H=c.length||0,X=w.length||0;c.length=H+X;for(let ce=0;ce<X;ce++)c[H+ce]=w[ce]}else c.push(w)}}class q{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Z(c){return/^[\s\xa0]*$/.test(c)}function Y(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function ue(c){return ue[" "](c),c}ue[" "]=function(){};var le=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function de(c,y,_){for(const w in c)y.call(_,c[w],w,c)}function k(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function A(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let _,w;for(let H=1;H<arguments.length;H++){w=arguments[H];for(_ in w)c[_]=w[_];for(let X=0;X<R.length;X++)_=R[X],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function U(c){p.setTimeout(()=>{throw c},0)}function D(){var c=K;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ye{constructor(){this.h=this.g=null}add(y,_){const w=it.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var it=new q(()=>new j,c=>c.reset());class j{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,fe=!1,K=new Ye,I=()=>{const c=p.Promise.resolve(void 0);oe=()=>{c.then(J)}};var J=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){U(_)}var y=it;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}fe=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};p.addEventListener("test",_,y),p.removeEventListener("test",_,y)}catch{}return c}();function xe(c,y){if(ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(le){e:{try{ue(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:me[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xe.aa.h.call(this)}}M(xe,ae);var me={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var et="closure_listenable_"+(1e6*Math.random()|0),De=0;function qe(c,y,_,w,H){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=H,this.key=++De,this.da=this.fa=!1}function rt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function vt(c){this.src=c,this.g={},this.h=0}vt.prototype.add=function(c,y,_,w,H){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var ce=Wt(c,y,w,H);return-1<ce?(y=c[ce],_||(y.fa=!1)):(y=new qe(y,this.src,X,!!w,H),y.fa=_,c.push(y)),y};function xn(c,y){var _=y.type;if(_ in c.g){var w=c.g[_],H=Array.prototype.indexOf.call(w,y,void 0),X;(X=0<=H)&&Array.prototype.splice.call(w,H,1),X&&(rt(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Wt(c,y,_,w){for(var H=0;H<c.length;++H){var X=c[H];if(!X.da&&X.listener==y&&X.capture==!!_&&X.ha==w)return H}return-1}var ve="closure_lm_"+(1e6*Math.random()|0),Oe={};function Qe(c,y,_,w,H){if(Array.isArray(y)){for(var X=0;X<y.length;X++)Qe(c,y[X],_,w,H);return null}return _=Yn(_),c&&c[et]?c.K(y,_,g(w)?!!w.capture:!1,H):we(c,y,_,!1,w,H)}function we(c,y,_,w,H,X){if(!y)throw Error("Invalid event type");var ce=g(H)?!!H.capture:!!H,He=En(c);if(He||(c[ve]=He=new vt(c)),_=He.add(y,_,w,ce,X),_.proxy)return _;if(w=en(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)he||(H=ce),H===void 0&&(H=!1),c.addEventListener(y.toString(),w,H);else if(c.attachEvent)c.attachEvent(Lt(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function en(){function c(_){return y.call(c.src,c.listener,_)}const y=tn;return c}function Yt(c,y,_,w,H){if(Array.isArray(y))for(var X=0;X<y.length;X++)Yt(c,y[X],_,w,H);else w=g(w)?!!w.capture:!!w,_=Yn(_),c&&c[et]?(c=c.i,y=String(y).toString(),y in c.g&&(X=c.g[y],_=Wt(X,_,w,H),-1<_&&(rt(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete c.g[y],c.h--)))):c&&(c=En(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Wt(y,_,w,H)),(_=-1<c?y[c]:null)&&xt(_))}function xt(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[et])xn(y.i,c);else{var _=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(_,w,c.capture):y.detachEvent?y.detachEvent(Lt(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=En(y))?(xn(_,c),_.h==0&&(_.src=null,y[ve]=null)):rt(c)}}}function Lt(c){return c in Oe?Oe[c]:Oe[c]="on"+c}function tn(c,y){if(c.da)c=!0;else{y=new xe(y,this);var _=c.listener,w=c.ha||c.src;c.fa&&xt(c),c=_.call(w,y)}return c}function En(c){return c=c[ve],c instanceof vt?c:null}var Rt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yn(c){return typeof c=="function"?c:(c[Rt]||(c[Rt]=function(y){return c.handleEvent(y)}),c[Rt])}function ht(){te.call(this),this.i=new vt(this),this.M=this,this.F=null}M(ht,te),ht.prototype[et]=!0,ht.prototype.removeEventListener=function(c,y,_,w){Yt(this,c,y,_,w)};function Xe(c,y){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new ae(y,c);else if(y instanceof ae)y.target=y.target||c;else{var H=y;y=new ae(w,c),O(y,H)}if(H=!0,_)for(var X=_.length-1;0<=X;X--){var ce=y.g=_[X];H=Pn(ce,w,!0,y)&&H}if(ce=y.g=c,H=Pn(ce,w,!0,y)&&H,H=Pn(ce,w,!1,y)&&H,_)for(X=0;X<_.length;X++)ce=y.g=_[X],H=Pn(ce,w,!1,y)&&H}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],w=0;w<_.length;w++)rt(_[w]);delete c.g[y],c.h--}}this.F=null},ht.prototype.K=function(c,y,_,w){return this.i.add(String(c),y,!1,_,w)},ht.prototype.L=function(c,y,_,w){return this.i.add(String(c),y,!0,_,w)};function Pn(c,y,_,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,X=0;X<y.length;++X){var ce=y[X];if(ce&&!ce.da&&ce.capture==_){var He=ce.listener,jt=ce.ha||ce.src;ce.fa&&xn(c.i,ce),H=He.call(jt,w)!==!1&&H}}return H&&!w.defaultPrevented}function dn(c,y,_){if(typeof c=="function")_&&(c=T(c,_));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:p.setTimeout(c,y||0)}function zu(c){c.g=dn(()=>{c.g=null,c.i&&(c.i=!1,zu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class vd extends te{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:zu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rs(c){te.call(this),this.h=c,this.g={}}M(Rs,te);var Is=[];function Cs(c){de(c.g,function(y,_){this.g.hasOwnProperty(_)&&xt(y)},c),c.g={}}Rs.prototype.N=function(){Rs.aa.N.call(this),Cs(this)},Rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ci=p.JSON.stringify,ya=p.JSON.parse,Ds=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function qo(){}qo.prototype.h=null;function Ho(c){return c.h||(c.h=c.i())}function Fo(){}var Hi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fi(){ae.call(this,"d")}M(Fi,ae);function Go(){ae.call(this,"c")}M(Go,ae);var bi={},Wo=null;function Rr(){return Wo=Wo||new ht}bi.La="serverreachability";function va(c){ae.call(this,bi.La,c)}M(va,ae);function Ir(c){const y=Rr();Xe(y,new va(y))}bi.STAT_EVENT="statevent";function Bu(c,y){ae.call(this,bi.STAT_EVENT,c),this.stat=y}M(Bu,ae);function ft(c){const y=Rr();Xe(y,new Bu(y,c))}bi.Ma="timingevent";function Ut(c,y){ae.call(this,bi.Ma,c),this.size=y}M(Ut,ae);function It(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},y)}function Qn(){this.g=!0}Qn.prototype.xa=function(){this.g=!1};function Yo(c,y,_,w,H,X){c.info(function(){if(c.g)if(X)for(var ce="",He=X.split("&"),jt=0;jt<He.length;jt++){var Fe=He[jt].split("=");if(1<Fe.length){var $t=Fe[0];Fe=Fe[1];var zt=$t.split("_");ce=2<=zt.length&&zt[1]=="type"?ce+($t+"="+Fe+"&"):ce+($t+"=redacted&")}}else ce=null;else ce=X;return"XMLHTTP REQ ("+w+") [attempt "+H+"]: "+y+`
`+_+`
`+ce})}function _d(c,y,_,w,H,X,ce){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+H+"]: "+y+`
`+_+`
`+X+" "+ce})}function Cr(c,y,_,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ks(c,_)+(w?" "+w:"")})}function qu(c,y){c.info(function(){return"TIMEOUT: "+y})}Qn.prototype.info=function(){};function ks(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var H=w[1];if(Array.isArray(H)&&!(1>H.length)){var X=H[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ce=1;ce<H.length;ce++)H[ce]=""}}}}return ci(_)}catch{return y}}var Dr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xi;function Ei(){}M(Ei,qo),Ei.prototype.g=function(){return new XMLHttpRequest},Ei.prototype.i=function(){return{}},xi=new Ei;function Tn(c,y,_,w){this.j=c,this.i=y,this.l=_,this.R=w||1,this.U=new Rs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Et}function Et(){this.i=null,this.g="",this.h=!1}var Qo={},_a={};function hi(c,y,_){c.L=1,c.v=Ps(Ln(y)),c.m=_,c.P=!0,Wi(c,null)}function Wi(c,y){c.F=Date.now(),Ms(c),c.A=Ln(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),el(_.i,"t",w),c.C=0,_=c.j.J,c.h=new Et,c.g=rc(c.j,_?y:null,!c.m),0<c.O&&(c.M=new vd(T(c.Y,c,c.g),c.O)),y=c.U,_=c.g,w=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(Is[0]=H.toString()),H=Is);for(var X=0;X<H.length;X++){var ce=Qe(_,H[X],w||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Ir(),Yo(c.i,c.u,c.A,c.l,c.R,c.m)}Tn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Zn(c)==3?y.j():this.Y(c)},Tn.prototype.Y=function(c){try{if(c==this.g)e:{const zt=Zn(this.g);var y=this.g.Ba();const er=this.g.Z();if(!(3>zt)&&(zt!=3||this.g&&(this.h.h||this.g.oa()||Ku(this.g)))){this.J||zt!=4||y==7||(y==8||0>=er?Ir(3):Ir(2)),kr(this);var _=this.g.Z();this.X=_;t:if(Hu(this)){var w=Ku(this.g);c="";var H=w.length,X=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nn(this),Ti(this);var ce="";break t}this.h.i=new p.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(X&&y==H-1)});w.length=0,this.h.g+=c,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=_==200,_d(this.i,this.u,this.A,this.l,this.R,zt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var He,jt=this.g;if((He=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(He)){var Fe=He;break t}}Fe=null}if(_=Fe)Cr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ns(this,_);else{this.o=!1,this.s=3,ft(12),nn(this),Ti(this);break e}}if(this.P){_=!0;let rn;for(;!this.J&&this.C<ce.length;)if(rn=Fu(this,ce),rn==_a){zt==4&&(this.s=4,ft(14),_=!1),Cr(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==Qo){this.s=4,ft(15),Cr(this.i,this.l,ce,"[Invalid Chunk]"),_=!1;break}else Cr(this.i,this.l,rn,null),Ns(this,rn);if(Hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||ce.length!=0||this.h.h||(this.s=1,ft(16),_=!1),this.o=this.o&&_,!_)Cr(this.i,this.l,ce,"[Invalid Chunked Response]"),nn(this),Ti(this);else if(0<ce.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Fs($t),$t.M=!0,ft(11))}}else Cr(this.i,this.l,ce,null),Ns(this,ce);zt==4&&nn(this),this.o&&!this.J&&(zt==4?tc(this.j,this):(this.o=!1,Ms(this)))}else Sd(this.g),_==400&&0<ce.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),nn(this),Ti(this)}}}catch{}finally{}};function Hu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Fu(c,y){var _=c.C,w=y.indexOf(`
`,_);return w==-1?_a:(_=Number(y.substring(_,w)),isNaN(_)?Qo:(w+=1,w+_>y.length?_a:(y=y.slice(w,w+_),c.C=w+_,y)))}Tn.prototype.cancel=function(){this.J=!0,nn(this)};function Ms(c){c.S=Date.now()+c.I,Gu(c,c.I)}function Gu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=It(T(c.ba,c),y)}function kr(c){c.B&&(p.clearTimeout(c.B),c.B=null)}Tn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(qu(this.i,this.A),this.L!=2&&(Ir(),ft(17)),nn(this),this.s=2,Ti(this)):Gu(this,this.S-c)};function Ti(c){c.j.G==0||c.J||tc(c.j,c)}function nn(c){kr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Cs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ns(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||$o(_.h,c))){if(!c.K&&$o(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var H=w;if(H[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ka(_),Ca(_);else break e;sl(_),ft(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=It(T(_.Za,_),6e3));if(1>=xa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ji(_,11)}else if((c.K||_.g==c)&&ka(_),!Z(y))for(H=_.Da.g.parse(y),y=0;y<H.length;y++){let Fe=H[y];if(_.T=Fe[0],Fe=Fe[1],_.G==2)if(Fe[0]=="c"){_.K=Fe[1],_.ia=Fe[2];const $t=Fe[3];$t!=null&&(_.la=$t,_.j.info("VER="+_.la));const zt=Fe[4];zt!=null&&(_.Aa=zt,_.j.info("SVER="+_.Aa));const er=Fe[5];er!=null&&typeof er=="number"&&0<er&&(w=1.5*er,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const rn=c.g;if(rn){const Di=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Di){var X=w.h;X.g||Di.indexOf("spdy")==-1&&Di.indexOf("quic")==-1&&Di.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Ea(X,X.h),X.h=null))}if(w.D){const ol=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;ol&&(w.ya=ol,st(w.I,w.D,ol))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var ce=c;if(w.qa=ic(w,w.J?w.ia:null,w.W),ce.K){Sn(w.h,ce);var He=ce,jt=w.L;jt&&(He.I=jt),He.B&&(kr(He),Ms(He)),w.g=ce}else Ju(w);0<_.i.length&&Da(_)}else Fe[0]!="stop"&&Fe[0]!="close"||Ji(_,7);else _.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Ji(_,7):il(_):Fe[0]!="noop"&&_.l&&_.l.ta(Fe),_.v=0)}}Ir(4)}catch{}}var Wu=class{constructor(c,y){this.g=c,this.map=y}};function Yi(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ba(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function xa(c){return c.h?1:c.g?c.g.size:0}function $o(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ea(c,y){c.g?c.g.add(y):c.h=y}function Sn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Yi.prototype.cancel=function(){if(this.i=Ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ko(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return W(c.i)}function bd(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],_=c.length,w=0;w<_;w++)y.push(c[w]);return y}y=[],_=0;for(w in c)y[_++]=c[w];return y}function Ta(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const w in c)y[_++]=w;return y}}}function Xo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Ta(c),w=bd(c),H=w.length,X=0;X<H;X++)y.call(void 0,w[X],_&&_[X],c)}var Os=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xd(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),H=null;if(0<=w){var X=c[_].substring(0,w);H=c[_].substring(w+1)}else X=c[_];y(X,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Ct(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ct){this.h=c.h,Vs(this,c.j),this.o=c.o,this.g=c.g,Mr(this,c.s),this.l=c.l;var y=c.i,_=new $i;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Qi(this,_),this.m=c.m}else c&&(y=String(c).match(Os))?(this.h=!1,Vs(this,y[1]||"",!0),this.o=$n(y[2]||""),this.g=$n(y[3]||"",!0),Mr(this,y[4]),this.l=$n(y[5]||"",!0),Qi(this,y[6]||"",!0),this.m=$n(y[7]||"")):(this.h=!1,this.i=new $i(null,this.h))}Ct.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ls(y,Zo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ls(y,Zo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ls(_,_.charAt(0)=="/"?Ed:Jo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ls(_,Sa)),c.join("")};function Ln(c){return new Ct(c)}function Vs(c,y,_){c.j=_?$n(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Mr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Qi(c,y,_){y instanceof $i?(c.i=y,Qu(c.i,c.h)):(_||(y=Ls(y,Td)),c.i=new $i(y,c.h))}function st(c,y,_){c.i.set(y,_)}function Ps(c){return st(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function $n(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ls(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Yu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Yu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Zo=/[#\/\?@]/g,Jo=/[#\?:]/g,Ed=/[#\?]/g,Td=/[#\?@]/g,Sa=/#/g;function $i(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Kn(c){c.g||(c.g=new Map,c.h=0,c.i&&xd(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=$i.prototype,r.add=function(c,y){Kn(this),this.i=null,c=Si(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ki(c,y){Kn(c),y=Si(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Xi(c,y){return Kn(c),y=Si(c,y),c.g.has(y)}r.forEach=function(c,y){Kn(this),this.g.forEach(function(_,w){_.forEach(function(H){c.call(y,H,w,this)},this)},this)},r.na=function(){Kn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let w=0;w<y.length;w++){const H=c[w];for(let X=0;X<H.length;X++)_.push(y[w])}return _},r.V=function(c){Kn(this);let y=[];if(typeof c=="string")Xi(this,c)&&(y=y.concat(this.g.get(Si(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return Kn(this),this.i=null,c=Si(this,c),Xi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function el(c,y,_){Ki(c,y),0<_.length&&(c.i=null,c.g.set(Si(c,y),W(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var w=y[_];const X=encodeURIComponent(String(w)),ce=this.V(w);for(w=0;w<ce.length;w++){var H=X;ce[w]!==""&&(H+="="+encodeURIComponent(String(ce[w]))),c.push(H)}}return this.i=c.join("&")};function Si(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Qu(c,y){y&&!c.j&&(Kn(c),c.i=null,c.g.forEach(function(_,w){var H=w.toLowerCase();w!=H&&(Ki(this,w),el(this,H,_))},c)),c.j=y}function Us(c,y){const _=new Qn;if(p.Image){const w=new Image;w.onload=N(Xn,_,"TestLoadImage: loaded",!0,y,w),w.onerror=N(Xn,_,"TestLoadImage: error",!1,y,w),w.onabort=N(Xn,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=N(Xn,_,"TestLoadImage: timeout",!1,y,w),p.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function di(c,y){const _=new Qn,w=new AbortController,H=setTimeout(()=>{w.abort(),Xn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(X=>{clearTimeout(H),X.ok?Xn(_,"TestPingServer: ok",!0,y):Xn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),Xn(_,"TestPingServer: error",!1,y)})}function Xn(c,y,_,w,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),w(_)}catch{}}function js(){this.g=new Ds}function wi(c,y,_){const w=_||"";try{Xo(c,function(H,X){let ce=H;g(H)&&(ce=ci(H)),y.push(w+X+"="+encodeURIComponent(ce))})}catch(H){throw y.push(w+"type="+encodeURIComponent("_badmap")),H}}function Nr(c){this.l=c.Ub||null,this.j=c.eb||!1}M(Nr,qo),Nr.prototype.g=function(){return new Zi(this.l,this.j)},Nr.prototype.i=function(c){return function(){return c}}({});function Zi(c,y){ht.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Zi,ht),r=Zi.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ri(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||p).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ai(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function tl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ai(this):Ri(this),this.readyState==3&&tl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Ai(this))},r.Qa=function(c){this.g&&(this.response=c,Ai(this))},r.ga=function(){this.g&&Ai(this)};function Ai(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ri(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Ri(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function nl(c){let y="";return de(c,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function Qt(c,y,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=nl(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):st(c,y,_))}function Ze(c){ht.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Ze,ht);var wa=/^https?$/i,zs=["POST","PUT"];r=Ze.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xi.g(),this.v=this.o?Ho(this.o):Ho(xi),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(X){$u(this,X);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var H in w)_.set(H,w[H]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const X of w.keys())_.set(X,w.get(X));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),H=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(zs,y,void 0))||w||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ce]of _)this.g.setRequestHeader(X,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bs(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){$u(this,X)}};function $u(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Aa(c),Ii(c)}function Aa(c){c.A||(c.A=!0,Xe(c,"complete"),Xe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Xe(this,"complete"),Xe(this,"abort"),Ii(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ii(this,!0)),Ze.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ra(this):this.bb())},r.bb=function(){Ra(this)};function Ra(c){if(c.h&&typeof d<"u"&&(!c.v[1]||Zn(c)!=4||c.Z()!=2)){if(c.u&&Zn(c)==4)dn(c.Ea,0,c);else if(Xe(c,"readystatechange"),Zn(c)==4){c.h=!1;try{const ce=c.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var w;if(w=ce===0){var H=String(c.D).match(Os)[1]||null;!H&&p.self&&p.self.location&&(H=p.self.location.protocol.slice(0,-1)),w=!wa.test(H?H.toLowerCase():"")}_=w}if(_)Xe(c,"complete"),Xe(c,"success");else{c.m=6;try{var X=2<Zn(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",Aa(c)}}finally{Ii(c)}}}}function Ii(c,y){if(c.g){Bs(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Xe(c,"ready");try{_.onreadystatechange=w}catch{}}}function Bs(c){c.I&&(p.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Zn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ya(y)}};function Ku(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Sd(c){const y={};c=(c.g&&2<=Zn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(Z(c[w]))continue;var _=V(c[w]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=y[H]||[];y[H]=X,X.push(_)}k(y,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ia(c){this.Aa=0,this.i=[],this.j=new Qn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qs("baseRetryDelayMs",5e3,c),this.cb=qs("retryDelaySeedMs",1e4,c),this.Wa=qs("forwardChannelMaxRetries",2,c),this.wa=qs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Yi(c&&c.concurrentRequestLimit),this.Da=new js,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ia.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,w){ft(0),this.W=c,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=ic(this,null,this.W),Da(this)};function il(c){if(Xu(c),c.G==3){var y=c.U++,_=Ln(c.I);if(st(_,"SID",c.K),st(_,"RID",y),st(_,"TYPE","terminate"),Hs(c,_),y=new Tn(c,c.j,y),y.L=2,y.v=Ps(Ln(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=y.v,_=!0),_||(y.g=rc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ms(y)}nc(c)}function Ca(c){c.g&&(Fs(c),c.g.cancel(),c.g=null)}function Xu(c){Ca(c),c.u&&(p.clearTimeout(c.u),c.u=null),ka(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function Da(c){if(!ba(c.h)&&!c.s){c.s=!0;var y=c.Ga;oe||I(),fe||(oe(),fe=!0),K.add(y,c),c.B=0}}function wd(c,y){return xa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=It(T(c.Ga,c,y),al(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new Tn(this,this.j,c);let X=this.o;if(this.S&&(X?(X=A(X),O(X,this.S)):X=this.S),this.m!==null||this.O||(H.H=X,X=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Zu(this,H,y),_=Ln(this.I),st(_,"RID",c),st(_,"CVER",22),this.D&&st(_,"X-HTTP-Session-Id",this.D),Hs(this,_),X&&(this.O?y="headers="+encodeURIComponent(String(nl(X)))+"&"+y:this.m&&Qt(_,this.m,X)),Ea(this.h,H),this.Ua&&st(_,"TYPE","init"),this.P?(st(_,"$req",y),st(_,"SID","null"),H.T=!0,hi(H,_,null)):hi(H,_,y),this.G=2}}else this.G==3&&(c?rl(this,c):this.i.length==0||ba(this.h)||rl(this))};function rl(c,y){var _;y?_=y.l:_=c.U++;const w=Ln(c.I);st(w,"SID",c.K),st(w,"RID",_),st(w,"AID",c.T),Hs(c,w),c.m&&c.o&&Qt(w,c.m,c.o),_=new Tn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Zu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ea(c.h,_),hi(_,w,y)}function Hs(c,y){c.H&&de(c.H,function(_,w){st(y,w,_)}),c.l&&Xo({},function(_,w){st(y,w,_)})}function Zu(c,y,_){_=Math.min(c.i.length,_);var w=c.l?T(c.l.Na,c.l,c):null;e:{var H=c.i;let X=-1;for(;;){const ce=["count="+_];X==-1?0<_?(X=H[0].g,ce.push("ofs="+X)):X=0:ce.push("ofs="+X);let He=!0;for(let jt=0;jt<_;jt++){let Fe=H[jt].g;const $t=H[jt].map;if(Fe-=X,0>Fe)X=Math.max(0,H[jt].g-100),He=!1;else try{wi($t,ce,"req"+Fe+"_")}catch{w&&w($t)}}if(He){w=ce.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,w}function Ju(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;oe||I(),fe||(oe(),fe=!0),K.add(y,c),c.v=0}}function sl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=It(T(c.Fa,c),al(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,ec(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=It(T(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),Ca(this),ec(this))};function Fs(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function ec(c){c.g=new Tn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Ln(c.qa);st(y,"RID","rpc"),st(y,"SID",c.K),st(y,"AID",c.T),st(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&st(y,"TO",c.ja),st(y,"TYPE","xmlhttp"),Hs(c,y),c.m&&c.o&&Qt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Ps(Ln(y)),_.m=null,_.P=!0,Wi(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Ca(this),sl(this),ft(19))};function ka(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function tc(c,y){var _=null;if(c.g==y){ka(c),Fs(c),c.g=null;var w=2}else if($o(c.h,y))_=y.D,Sn(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;w=Rr(),Xe(w,new Ut(w,_)),Da(c)}else Ju(c);else if(H=y.s,H==3||H==0&&0<y.X||!(w==1&&wd(c,y)||w==2&&sl(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),H){case 1:Ji(c,5);break;case 4:Ji(c,10);break;case 3:Ji(c,6);break;default:Ji(c,2)}}}function al(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Ji(c,y){if(c.j.info("Error code "+y),y==2){var _=T(c.fb,c),w=c.Xa;const H=!w;w=new Ct(w||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Vs(w,"https"),Ps(w),H?Us(w.toString(),_):di(w.toString(),_)}else ft(2);c.G=0,c.l&&c.l.sa(y),nc(c),Xu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function nc(c){if(c.G=0,c.ka=[],c.l){const y=Ko(c.h);(y.length!=0||c.i.length!=0)&&(B(c.ka,y),B(c.ka,c.i),c.h.i.length=0,W(c.i),c.i.length=0),c.l.ra()}}function ic(c,y,_){var w=_ instanceof Ct?Ln(_):new Ct(_);if(w.g!="")y&&(w.g=y+"."+w.g),Mr(w,w.s);else{var H=p.location;w=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var X=new Ct(null);w&&Vs(X,w),y&&(X.g=y),H&&Mr(X,H),_&&(X.l=_),w=X}return _=c.D,y=c.ya,_&&y&&st(w,_,y),st(w,"VER",c.la),Hs(c,w),w}function rc(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ze(new Nr({eb:_})):new Ze(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function sc(){}r=sc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ma(){}Ma.prototype.g=function(c,y){return new wn(c,y)};function wn(c,y){ht.call(this),this.g=new Ia(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Z(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Z(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ci(this)}M(wn,ht),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){il(this.g)},wn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=ci(c),c=_);y.i.push(new Wu(y.Ya++,c)),y.G==3&&Da(y)},wn.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,wn.aa.N.call(this)};function ac(c){Fi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}M(ac,Fi);function oc(){Go.call(this),this.status=1}M(oc,Go);function Ci(c){this.g=c}M(Ci,sc),Ci.prototype.ua=function(){Xe(this.g,"a")},Ci.prototype.ta=function(c){Xe(this.g,new ac(c))},Ci.prototype.sa=function(c){Xe(this.g,new oc)},Ci.prototype.ra=function(){Xe(this.g,"b")},Ma.prototype.createWebChannel=Ma.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,Yb=function(){return new Ma},Wb=function(){return Rr()},Gb=bi,Zp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Dr.NO_ERROR=0,Dr.TIMEOUT=8,Dr.HTTP_ERROR=6,xh=Dr,Gi.COMPLETE="complete",Fb=Gi,Fo.EventType=Hi,Hi.OPEN="a",Hi.CLOSE="b",Hi.ERROR="c",Hi.MESSAGE="d",ht.prototype.listen=ht.prototype.K,eu=Fo,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,Hb=Ze}).apply(typeof ch<"u"?ch:typeof self<"u"?self:typeof window<"u"?window:{});const C_="@firebase/firestore",D_="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new Am("@firebase/firestore");function oo(){return da.logLevel}function ye(r,...e){if(da.logLevel<=ze.DEBUG){const n=e.map(Um);da.debug(`Firestore (${Oo}): ${r}`,...n)}}function Tr(r,...e){if(da.logLevel<=ze.ERROR){const n=e.map(Um);da.error(`Firestore (${Oo}): ${r}`,...n)}}function bo(r,...e){if(da.logLevel<=ze.WARN){const n=e.map(Um);da.warn(`Firestore (${Oo}): ${r}`,...n)}}function Um(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Qb(r,s,n)}function Qb(r,e,n){let s=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Tr(s),new Error(s)}function Je(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||Qb(e,o,s)}function Me(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Ar{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yn.UNAUTHENTICATED))}shutdown(){}}class PI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class LI{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let u=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new vr,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const m=u;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},p=m=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new vr)}},0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Je(typeof s.accessToken=="string",31837,{l:s}),new $b(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class UI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new UI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class k_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,oi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Je(this.o===void 0,3512);const s=u=>{u.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,ye("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new k_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new k_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=BI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Pe(r,e){return r<e?-1:r>e?1:0}function Jp(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Pe(s,o);{const u=Kb(),d=qI(u.encode(M_(r,n)),u.encode(M_(e,n)));return d!==0?d:Pe(s,o)}}n+=s>65535?2:1}return Pe(r.length,e.length)}function M_(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function qI(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Pe(r[n],e[n]);return Pe(r.length,e.length)}function xo(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=-62135596800,O_=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*O_);return new At(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<N_)throw new pe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/O_}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-N_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new At(0,0))}static max(){return new ke(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="__name__";class Pi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ie(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Pi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Pi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Pe(e.length,n.length)}static compareSegments(e,n){const s=Pi.isNumericId(e),o=Pi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Pi.extractNumericId(e).compare(Pi.extractNumericId(n)):Jp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ds.fromString(e.substring(4,e.length-2))}}class dt extends Pi{construct(e,n,s){return new dt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new pe(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new dt(n)}static emptyPath(){return new dt([])}}const HI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends Pi{construct(e,n,s){return new cn(e,n,s)}static isValidIdentifier(e){return HI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V_}static keyField(){return new cn([V_])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new pe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new pe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new pe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(s+=p,o++):(u(),o++)}if(u(),d)throw new pe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(n)}static emptyPath(){return new cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(dt.fromString(e))}static fromName(e){return new Ee(dt.fromString(e).popFirst(5))}static empty(){return new Ee(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new dt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=-1;function FI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=ke.fromTimestamp(s===1e9?new At(n+1,0):new At(n,s));return new ms(o,Ee.empty(),e)}function GI(r){return new ms(r.readTime,r.key,pu)}class ms{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ms(ke.min(),Ee.empty(),pu)}static max(){return new ms(ke.max(),Ee.empty(),pu)}}function WI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(r.documentKey,e.documentKey),n!==0?n:Pe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==YI)throw r;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):se.reject(n)}static resolve(e){return new se((n,s)=>{n(e)})}static reject(e){return new se((n,s)=>{s(e)})}static waitFor(e){return new se((n,s)=>{let o=0,u=0,d=!1;e.forEach(p=>{++o,p.next(()=>{++u,d&&u===o&&n()},m=>s(m))}),d=!0,u===o&&n()})}static or(e){let n=se.resolve(!1);for(const s of e)n=n.next(o=>o?se.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new se((s,o)=>{const u=e.length,d=new Array(u);let p=0;for(let m=0;m<u;m++){const g=m;n(e[g]).next(b=>{d[g]=b,++p,p===u&&s(d)},b=>o(b))}})}static doWhile(e,n){return new se((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function $I(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Po(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Zh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm=-1;function Jh(r){return r==null}function Ph(r){return r===0&&1/r==-1/0}function KI(r){return typeof r=="number"&&Number.isInteger(r)&&!Ph(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="";function XI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=P_(e)),e=ZI(r.get(n),e);return P_(e)}function ZI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Zb:n+="";break;default:n+=u}}return n}function P_(r){return r+Zb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ts(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Jb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hh(this.root,e,this.comparator,!0)}}class hh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??un.RED,this.left=o??un.EMPTY,this.right=u??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new un(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return un.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new U_(this.data.getIterator())}getIteratorFrom(e){return new U_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Gt(this.comparator);return n.data=e,n}}class U_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new Wn([])}unionWith(e){let n=new Gt(cn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ex("Invalid base64 string: "+u):u}}(e);return new hn(n)}static fromUint8Array(e){const n=function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u}(e);return new hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const JI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gs(r){if(Je(!!r,39018),typeof r=="string"){let e=0;const n=JI.exec(r);if(Je(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:wt(r.seconds),nanos:wt(r.nanos)}}function wt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ys(r){return typeof r=="string"?hn.fromBase64String(r):hn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="server_timestamp",nx="__type__",ix="__previous_value__",rx="__local_write_time__";function zm(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[nx])===null||n===void 0?void 0:n.stringValue)===tx}function ed(r){const e=r.mapValue.fields[ix];return zm(e)?ed(e):e}function mu(r){const e=gs(r.mapValue.fields[rx].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n,s,o,u,d,p,m,g,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=b}}const Lh="(default)";class gu{constructor(e,n){this.projectId=e,this.database=n||Lh}static empty(){return new gu("","")}get isDefaultDatabase(){return this.database===Lh}isEqual(e){return e instanceof gu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="__type__",tC="__max__",dh={mapValue:{}},ax="__vector__",Uh="value";function vs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?zm(r)?4:iC(r)?9007199254740991:nC(r)?10:11:Ie(28295,{value:r})}function Bi(r,e){if(r===e)return!0;const n=vs(r);if(n!==vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return mu(r).isEqual(mu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=gs(o.timestampValue),p=gs(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return ys(o.bytesValue).isEqual(ys(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return wt(o.geoPointValue.latitude)===wt(u.geoPointValue.latitude)&&wt(o.geoPointValue.longitude)===wt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return wt(o.integerValue)===wt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=wt(o.doubleValue),p=wt(u.doubleValue);return d===p?Ph(d)===Ph(p):isNaN(d)&&isNaN(p)}return!1}(r,e);case 9:return xo(r.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:case 11:return function(o,u){const d=o.mapValue.fields||{},p=u.mapValue.fields||{};if(L_(d)!==L_(p))return!1;for(const m in d)if(d.hasOwnProperty(m)&&(p[m]===void 0||!Bi(d[m],p[m])))return!1;return!0}(r,e);default:return Ie(52216,{left:r})}}function yu(r,e){return(r.values||[]).find(n=>Bi(n,e))!==void 0}function Eo(r,e){if(r===e)return 0;const n=vs(r),s=vs(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return function(u,d){const p=wt(u.integerValue||u.doubleValue),m=wt(d.integerValue||d.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1}(r,e);case 3:return j_(r.timestampValue,e.timestampValue);case 4:return j_(mu(r),mu(e));case 5:return Jp(r.stringValue,e.stringValue);case 6:return function(u,d){const p=ys(u),m=ys(d);return p.compareTo(m)}(r.bytesValue,e.bytesValue);case 7:return function(u,d){const p=u.split("/"),m=d.split("/");for(let g=0;g<p.length&&g<m.length;g++){const b=Pe(p[g],m[g]);if(b!==0)return b}return Pe(p.length,m.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,d){const p=Pe(wt(u.latitude),wt(d.latitude));return p!==0?p:Pe(wt(u.longitude),wt(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return z_(r.arrayValue,e.arrayValue);case 10:return function(u,d){var p,m,g,b;const S=u.fields||{},T=d.fields||{},N=(p=S[Uh])===null||p===void 0?void 0:p.arrayValue,M=(m=T[Uh])===null||m===void 0?void 0:m.arrayValue,W=Pe(((g=N==null?void 0:N.values)===null||g===void 0?void 0:g.length)||0,((b=M==null?void 0:M.values)===null||b===void 0?void 0:b.length)||0);return W!==0?W:z_(N,M)}(r.mapValue,e.mapValue);case 11:return function(u,d){if(u===dh.mapValue&&d===dh.mapValue)return 0;if(u===dh.mapValue)return 1;if(d===dh.mapValue)return-1;const p=u.fields||{},m=Object.keys(p),g=d.fields||{},b=Object.keys(g);m.sort(),b.sort();for(let S=0;S<m.length&&S<b.length;++S){const T=Jp(m[S],b[S]);if(T!==0)return T;const N=Eo(p[m[S]],g[b[S]]);if(N!==0)return N}return Pe(m.length,b.length)}(r.mapValue,e.mapValue);default:throw Ie(23264,{Pe:n})}}function j_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const n=gs(r),s=gs(e),o=Pe(n.seconds,s.seconds);return o!==0?o:Pe(n.nanos,s.nanos)}function z_(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Eo(n[o],s[o]);if(u)return u}return Pe(n.length,s.length)}function To(r){return em(r)}function em(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=gs(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return ys(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Ee.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=em(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const d of s)u?u=!1:o+=",",o+=`${d}:${em(n.fields[d])}`;return o+"}"}(r.mapValue):Ie(61005,{value:r})}function Eh(r){switch(vs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ed(r);return e?16+Eh(e):16;case 5:return 2*r.stringValue.length;case 6:return ys(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Eh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Ts(s.fields,(u,d)=>{o+=u.length+Eh(d)}),o}(r.mapValue);default:throw Ie(13486,{value:r})}}function B_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function tm(r){return!!r&&"integerValue"in r}function Bm(r){return!!r&&"arrayValue"in r}function q_(r){return!!r&&"nullValue"in r}function H_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Th(r){return!!r&&"mapValue"in r}function nC(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[sx])===null||n===void 0?void 0:n.stringValue)===ax}function au(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ts(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=au(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=au(r.arrayValue.values[n]);return e}return Object.assign({},r)}function iC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===tC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=au(n)}setAll(e){let n=cn.emptyPath(),s={},o=[];e.forEach((d,p)=>{if(!n.isImmediateParentOf(p)){const m=this.getFieldsMap(n);this.applyChanges(m,s,o),s={},o=[],n=p.popLast()}d?s[p.lastSegment()]=au(d):o.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ts(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Vn(au(this.value))}}function ox(r){const e=[];return Ts(r.fields,(n,s)=>{const o=new cn([n]);if(Th(s)){const u=ox(s.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n,s,o,u,d,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new _n(e,0,ke.min(),ke.min(),ke.min(),Vn.empty(),0)}static newFoundDocument(e,n,s,o){return new _n(e,1,n,ke.min(),s,o,0)}static newNoDocument(e,n){return new _n(e,2,n,ke.min(),ke.min(),Vn.empty(),0)}static newUnknownDocument(e,n){return new _n(e,3,n,ke.min(),ke.min(),Vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n){this.position=e,this.inclusive=n}}function F_(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],d=r.position[o];if(u.field.isKeyField()?s=Ee.comparator(Ee.fromName(d.referenceValue),n.key):s=Eo(d,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function G_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Bi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n="asc"){this.field=e,this.dir=n}}function rC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{}class Ot extends lx{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new aC(e,n,s):n==="array-contains"?new uC(e,s):n==="in"?new cC(e,s):n==="not-in"?new hC(e,s):n==="array-contains-any"?new dC(e,s):new Ot(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new oC(e,s):new lC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Eo(n,this.value)):n!==null&&vs(this.value)===vs(n)&&this.matchesComparison(Eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends lx{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new vi(e,n)}matches(e){return ux(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function ux(r){return r.op==="and"}function cx(r){return sC(r)&&ux(r)}function sC(r){for(const e of r.filters)if(e instanceof vi)return!1;return!0}function nm(r){if(r instanceof Ot)return r.field.canonicalString()+r.op.toString()+To(r.value);if(cx(r))return r.filters.map(e=>nm(e)).join(",");{const e=r.filters.map(n=>nm(n)).join(",");return`${r.op}(${e})`}}function hx(r,e){return r instanceof Ot?function(s,o){return o instanceof Ot&&s.op===o.op&&s.field.isEqual(o.field)&&Bi(s.value,o.value)}(r,e):r instanceof vi?function(s,o){return o instanceof vi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,d,p)=>u&&hx(d,o.filters[p]),!0):!1}(r,e):void Ie(19439)}function dx(r){return r instanceof Ot?function(n){return`${n.field.canonicalString()} ${n.op} ${To(n.value)}`}(r):r instanceof vi?function(n){return n.op.toString()+" {"+n.getFilters().map(dx).join(" ,")+"}"}(r):"Filter"}class aC extends Ot{constructor(e,n,s){super(e,n,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class oC extends Ot{constructor(e,n){super(e,"in",n),this.keys=fx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class lC extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=fx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fx(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Ee.fromName(s.referenceValue))}class uC extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bm(n)&&yu(n.arrayValue,this.value)}}class cC extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yu(this.value.arrayValue,n)}}class hC extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!yu(this.value.arrayValue,n)}}class dC extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>yu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n=null,s=[],o=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=d,this.endAt=p,this.Ie=null}}function W_(r,e=null,n=[],s=[],o=null,u=null,d=null){return new fC(r,e,n,s,o,u,d)}function qm(r){const e=Me(r);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>nm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>To(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>To(s)).join(",")),e.Ie=n}return e.Ie}function Hm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!rC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!hx(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!G_(r.startAt,e.startAt)&&G_(r.endAt,e.endAt)}function im(r){return Ee.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n=null,s=[],o=[],u=null,d="F",p=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function pC(r,e,n,s,o,u,d,p){return new Lo(r,e,n,s,o,u,d,p)}function Fm(r){return new Lo(r)}function Y_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function px(r){return r.collectionGroup!==null}function ou(r){const e=Me(r);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Gt(cn.comparator);return d.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(p=p.add(g.field))})}),p})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new vu(u,s))}),n.has(cn.keyField().canonicalString())||e.Ee.push(new vu(cn.keyField(),s))}return e.Ee}function ji(r){const e=Me(r);return e.de||(e.de=mC(e,ou(r))),e.de}function mC(r,e){if(r.limitType==="F")return W_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new vu(o.field,u)});const n=r.endAt?new jh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new jh(r.startAt.position,r.startAt.inclusive):null;return W_(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function rm(r,e){const n=r.filters.concat([e]);return new Lo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function zh(r,e,n){return new Lo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function td(r,e){return Hm(ji(r),ji(e))&&r.limitType===e.limitType}function mx(r){return`${qm(ji(r))}|lt:${r.limitType}`}function lo(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>dx(o)).join(", ")}]`),Jh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>To(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>To(o)).join(",")),`Target(${s})`}(ji(r))}; limitType=${r.limitType})`}function nd(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ee.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of ou(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(d,p,m){const g=F_(d,p,m);return d.inclusive?g<=0:g<0}(s.startAt,ou(s),o)||s.endAt&&!function(d,p,m){const g=F_(d,p,m);return d.inclusive?g>=0:g>0}(s.endAt,ou(s),o))}(r,e)}function gC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function gx(r){return(e,n)=>{let s=!1;for(const o of ou(r)){const u=yC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function yC(r,e,n){const s=r.field.isKeyField()?Ee.comparator(e.key,n.key):function(u,d,p){const m=d.data.field(u),g=p.data.field(u);return m!==null&&g!==null?Eo(m,g):Ie(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ie(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ts(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Jb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=new yt(Ee.comparator);function Sr(){return vC}const yx=new yt(Ee.comparator);function tu(...r){let e=yx;for(const n of r)e=e.insert(n.key,n);return e}function vx(r){let e=yx;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function oa(){return lu()}function _x(){return lu()}function lu(){return new ma(r=>r.toString(),(r,e)=>r.isEqual(e))}const _C=new yt(Ee.comparator),bC=new Gt(Ee.comparator);function Be(...r){let e=bC;for(const n of r)e=e.add(n);return e}const xC=new Gt(Pe);function EC(){return xC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ph(e)?"-0":e}}function bx(r){return{integerValue:""+r}}function xx(r,e){return KI(e)?bx(e):Gm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(){this._=void 0}}function TC(r,e,n){return r instanceof _u?function(o,u){const d={fields:{[nx]:{stringValue:tx},[rx]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&zm(u)&&(u=ed(u)),u&&(d.fields[ix]=u),{mapValue:d}}(n,e):r instanceof bu?Tx(r,e):r instanceof So?Sx(r,e):function(o,u){const d=Ex(o,u),p=Q_(d)+Q_(o.Re);return tm(d)&&tm(o.Re)?bx(p):Gm(o.serializer,p)}(r,e)}function SC(r,e,n){return r instanceof bu?Tx(r,e):r instanceof So?Sx(r,e):n}function Ex(r,e){return r instanceof xu?function(s){return tm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class _u extends id{}class bu extends id{constructor(e){super(),this.elements=e}}function Tx(r,e){const n=wx(e);for(const s of r.elements)n.some(o=>Bi(o,s))||n.push(s);return{arrayValue:{values:n}}}class So extends id{constructor(e){super(),this.elements=e}}function Sx(r,e){let n=wx(e);for(const s of r.elements)n=n.filter(o=>!Bi(o,s));return{arrayValue:{values:n}}}class xu extends id{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Q_(r){return wt(r.integerValue||r.doubleValue)}function wx(r){return Bm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n){this.field=e,this.transform=n}}function wC(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof bu&&o instanceof bu||s instanceof So&&o instanceof So?xo(s.elements,o.elements,Bi):s instanceof xu&&o instanceof xu?Bi(s.Re,o.Re):s instanceof _u&&o instanceof _u}(r.transform,e.transform)}class AC{constructor(e,n){this.version=e,this.transformResults=n}}class In{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new In}static exists(e){return new In(void 0,e)}static updateTime(e){return new In(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class rd{}function Ax(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new sd(r.key,In.none()):new Nu(r.key,r.data,In.none());{const n=r.data,s=Vn.empty();let o=new Gt(cn.comparator);for(let u of e.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?s.delete(u):s.set(u,d),o=o.add(u)}return new Ss(r.key,s,new Wn(o.toArray()),In.none())}}function RC(r,e,n){r instanceof Nu?function(o,u,d){const p=o.value.clone(),m=K_(o.fieldTransforms,u,d.transformResults);p.setAll(m),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,e,n):r instanceof Ss?function(o,u,d){if(!Sh(o.precondition,u))return void u.convertToUnknownDocument(d.version);const p=K_(o.fieldTransforms,u,d.transformResults),m=u.data;m.setAll(Rx(o)),m.setAll(p),u.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(r,e,n):function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,n)}function uu(r,e,n,s){return r instanceof Nu?function(u,d,p,m){if(!Sh(u.precondition,d))return p;const g=u.value.clone(),b=X_(u.fieldTransforms,m,d);return g.setAll(b),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof Ss?function(u,d,p,m){if(!Sh(u.precondition,d))return p;const g=X_(u.fieldTransforms,m,d),b=d.data;return b.setAll(Rx(u)),b.setAll(g),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,e,n,s):function(u,d,p){return Sh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(r,e,n)}function IC(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Ex(s.transform,o||null);u!=null&&(n===null&&(n=Vn.empty()),n.set(s.field,u))}return n||null}function $_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&xo(s,o,(u,d)=>wC(u,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Nu extends rd{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ss extends rd{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Rx(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function K_(r,e,n){const s=new Map;Je(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],d=u.transform,p=e.data.field(u.field);s.set(u.field,SC(d,p,n[o]))}return s}function X_(r,e,n){const s=new Map;for(const o of r){const u=o.transform,d=n.data.field(o.field);s.set(o.field,TC(u,d,e))}return s}class sd extends rd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CC extends rd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&RC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=uu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=uu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=_x();return this.mutations.forEach(o=>{const u=e.get(o.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=n.has(o.key)?null:p;const m=Ax(d,p);m!==null&&s.set(o.key,m),d.isValidDocument()||d.convertToNoDocument(ke.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Be())}isEqual(e){return this.batchId===e.batchId&&xo(this.mutations,e.mutations,(n,s)=>$_(n,s))&&xo(this.baseMutations,e.baseMutations,(n,s)=>$_(n,s))}}class Ym{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Je(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return _C}();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,s[d].version);return new Ym(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,We;function NC(r){switch(r){case ie.OK:return Ie(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ie(15467,{code:r})}}function Ix(r){if(r===void 0)return Tr("GRPC error has no .code"),ie.UNKNOWN;switch(r){case Mt.OK:return ie.OK;case Mt.CANCELLED:return ie.CANCELLED;case Mt.UNKNOWN:return ie.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return ie.INTERNAL;case Mt.UNAVAILABLE:return ie.UNAVAILABLE;case Mt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Mt.NOT_FOUND:return ie.NOT_FOUND;case Mt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Mt.ABORTED:return ie.ABORTED;case Mt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Mt.DATA_LOSS:return ie.DATA_LOSS;default:return Ie(39323,{code:r})}}(We=Mt||(Mt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=new ds([4294967295,4294967295],0);function Z_(r){const e=Kb().encode(r),n=new qb;return n.update(e),new Uint8Array(n.digest())}function J_(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ds([n,s],0),new ds([o,u],0)]}class Qm{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new nu(`Invalid padding: ${n}`);if(s<0)throw new nu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new nu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new nu(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=ds.fromNumber(this.pe)}we(e,n,s){let o=e.add(n.multiply(ds.fromNumber(s)));return o.compare(OC)===1&&(o=new ds([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Z_(e),[s,o]=J_(n);for(let u=0;u<this.hashCount;u++){const d=this.we(s,o,u);if(!this.Se(d))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new Qm(u,o,n);return s.forEach(p=>d.insert(p)),d}insert(e){if(this.pe===0)return;const n=Z_(e),[s,o]=J_(n);for(let u=0;u<this.hashCount;u++){const d=this.we(s,o,u);this.be(d)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ad(ke.min(),o,new yt(Pe),Sr(),Be())}}class Ou{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ou(s,n,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n,s,o){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=o}}class Cx{constructor(e,n){this.targetId=e,this.Ce=n}}class Dx{constructor(e,n,s=hn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class e1{constructor(){this.Fe=0,this.Me=t1(),this.xe=hn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Be(),n=Be(),s=Be();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ie(38017,{changeType:u})}}),new Ou(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=t1()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Je(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class VC{constructor(e){this.ze=e,this.je=new Map,this.He=Sr(),this.Je=fh(),this.Ye=fh(),this.Ze=new yt(Pe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:Ie(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,s=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(im(u))if(s===0){const d=new Ee(u.path);this.tt(n,d,_n.newNoDocument(d,ke.min()))}else Je(s===1,20013,{expectedCount:s});else{const d=this.ut(n);if(d!==s){const p=this.ct(e),m=p?this.lt(p,e,d):1;if(m!==0){this.st(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let d,p;try{d=ys(s).toUint8Array()}catch(m){if(m instanceof ex)return bo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new Qm(d,o,u)}catch(m){return bo(m instanceof nu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.pe===0?null:p}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const d=this.ze.Pt(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,d)=>{const p=this._t(d);if(p){if(u.current&&im(p.target)){const m=new Ee(p.target.path);this.Et(m).has(d)||this.dt(d,m)||this.tt(d,m,_n.newNoDocument(m,e))}u.Le&&(n.set(d,u.qe()),u.Qe())}});let s=Be();this.Ye.forEach((u,d)=>{let p=!0;d.forEachWhile(m=>{const g=this._t(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(u))}),this.He.forEach((u,d)=>d.setReadTime(e));const o=new ad(e,n,this.Ze,this.He,s);return this.He=Sr(),this.Je=fh(),this.Ye=fh(),this.Ze=new yt(Pe),o}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new e1,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Gt(Pe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Gt(Pe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new e1),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function fh(){return new yt(Ee.comparator)}function t1(){return new yt(Ee.comparator)}const PC={asc:"ASCENDING",desc:"DESCENDING"},LC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UC={and:"AND",or:"OR"};class jC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sm(r,e){return r.useProto3Json||Jh(e)?e:{value:e}}function Bh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kx(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function zC(r,e){return Bh(r,e.toTimestamp())}function zi(r){return Je(!!r,49232),ke.fromTimestamp(function(n){const s=gs(n);return new At(s.seconds,s.nanos)}(r))}function $m(r,e){return am(r,e).canonicalString()}function am(r,e){const n=function(o){return new dt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function Mx(r){const e=dt.fromString(r);return Je(Lx(e),10190,{key:e.toString()}),e}function om(r,e){return $m(r.databaseId,e.path)}function Mp(r,e){const n=Mx(e);if(n.get(1)!==r.databaseId.projectId)throw new pe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new pe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ee(Ox(n))}function Nx(r,e){return $m(r.databaseId,e)}function BC(r){const e=Mx(r);return e.length===4?dt.emptyPath():Ox(e)}function lm(r){return new dt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Ox(r){return Je(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function n1(r,e,n){return{name:om(r,e),fields:n.value.mapValue.fields}}function qC(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ie(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,b){return g.useProto3Json?(Je(b===void 0||typeof b=="string",58123),hn.fromBase64String(b||"")):(Je(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),hn.fromUint8Array(b||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(g){const b=g.code===void 0?ie.UNKNOWN:Ix(g.code);return new pe(b,g.message||"")}(d);n=new Dx(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Mp(r,s.document.name),u=zi(s.document.updateTime),d=s.document.createTime?zi(s.document.createTime):ke.min(),p=new Vn({mapValue:{fields:s.document.fields}}),m=_n.newFoundDocument(o,u,d,p),g=s.targetIds||[],b=s.removedTargetIds||[];n=new wh(g,b,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Mp(r,s.document),u=s.readTime?zi(s.readTime):ke.min(),d=_n.newNoDocument(o,u),p=s.removedTargetIds||[];n=new wh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Mp(r,s.document),u=s.removedTargetIds||[];n=new wh([],u,o,null)}else{if(!("filter"in e))return Ie(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,d=new MC(o,u),p=s.targetId;n=new Cx(p,d)}}return n}function HC(r,e){let n;if(e instanceof Nu)n={update:n1(r,e.key,e.value)};else if(e instanceof sd)n={delete:om(r,e.key)};else if(e instanceof Ss)n={update:n1(r,e.key,e.data),updateMask:ZC(e.fieldMask)};else{if(!(e instanceof CC))return Ie(16599,{ft:e.type});n={verify:om(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,d){const p=d.transform;if(p instanceof _u)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof bu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof So)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof xu)return{fieldPath:d.field.canonicalString(),increment:p.Re};throw Ie(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:zC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ie(27497)}(r,e.precondition)),n}function FC(r,e){return r&&r.length>0?(Je(e!==void 0,14353),r.map(n=>function(o,u){let d=o.updateTime?zi(o.updateTime):zi(u);return d.isEqual(ke.min())&&(d=zi(u)),new AC(d,o.transformResults||[])}(n,e))):[]}function GC(r,e){return{documents:[Nx(r,e.path)]}}function WC(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Nx(r,o);const u=function(g){if(g.length!==0)return Px(vi.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const d=function(g){if(g.length!==0)return g.map(b=>function(T){return{field:uo(T.field),direction:$C(T.dir)}}(b))}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=sm(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:o}}function YC(r){let e=BC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Je(s===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=function(S){const T=Vx(S);return T instanceof vi&&cx(T)?T.getFilters():[T]}(n.where));let d=[];n.orderBy&&(d=function(S){return S.map(T=>function(M){return new vu(co(M.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(T))}(n.orderBy));let p=null;n.limit&&(p=function(S){let T;return T=typeof S=="object"?S.value:S,Jh(T)?null:T}(n.limit));let m=null;n.startAt&&(m=function(S){const T=!!S.before,N=S.values||[];return new jh(N,T)}(n.startAt));let g=null;return n.endAt&&(g=function(S){const T=!S.before,N=S.values||[];return new jh(N,T)}(n.endAt)),pC(e,o,d,u,p,"F",m,g)}function QC(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Vx(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=co(n.unaryFilter.field);return Ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=co(n.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=co(n.unaryFilter.field);return Ot.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=co(n.unaryFilter.field);return Ot.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}}(r):r.fieldFilter!==void 0?function(n){return Ot.create(co(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return vi.create(n.compositeFilter.filters.map(s=>Vx(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}}(n.compositeFilter.op))}(r):Ie(30097,{filter:r})}function $C(r){return PC[r]}function KC(r){return LC[r]}function XC(r){return UC[r]}function uo(r){return{fieldPath:r.canonicalString()}}function co(r){return cn.fromServerFormat(r.fieldPath)}function Px(r){return r instanceof Ot?function(n){if(n.op==="=="){if(H_(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NAN"}};if(q_(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(H_(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NAN"}};if(q_(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(n.field),op:KC(n.op),value:n.value}}}(r):r instanceof vi?function(n){const s=n.getFilters().map(o=>Px(o));return s.length===1?s[0]:{compositeFilter:{op:XC(n.op),filters:s}}}(r):Ie(54877,{filter:r})}function ZC(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Lx(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n,s,o,u=ke.min(),d=ke.min(),p=hn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.wt=e}}function e4(r){const e=YC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?zh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(){this.Cn=new n4}addToCollectionParentIndex(e,n){return this.Cn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(ms.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(ms.min())}updateCollectionGroup(e,n,s){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class n4{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Gt(dt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Gt(dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ux=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(Ux,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new wo(0)}static lr(){return new wo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="LruGarbageCollector",i4=1048576;function s1([r,e],[n,s]){const o=Pe(r,n);return o===0?Pe(e,s):o}class r4{constructor(e){this.Er=e,this.buffer=new Gt(s1),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();s1(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class s4{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ye(r1,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Po(n)?ye(r1,"Ignoring IndexedDB error during garbage collection: ",n):await Vo(n)}await this.mr(3e5)})}}class a4{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Zh.le);const s=new r4(n);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(i1)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i1):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,o,u,d,p,m,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,p=Date.now(),this.removeTargets(e,s,n))).next(S=>(u=S,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(g=Date.now(),oo()<=ze.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${S} documents in `+(g-m)+`ms
Total Duration: ${g-b}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function o4(r,e){return new a4(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(){this.changes=new ma(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?se.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&uu(s.mutation,o,Wn.empty(),At.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Be()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Be()){const o=oa();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let d=tu();return u.forEach((p,m)=>{d=d.insert(p,m.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const s=oa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Be()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((d,p)=>{n.set(d,p)})})}computeViews(e,n,s,o){let u=Sr();const d=lu(),p=function(){return lu()}();return n.forEach((m,g)=>{const b=s.get(g.key);o.has(g.key)&&(b===void 0||b.mutation instanceof Ss)?u=u.insert(g.key,g):b!==void 0?(d.set(g.key,b.mutation.getFieldMask()),uu(b.mutation,g,b.mutation.getFieldMask(),At.now())):d.set(g.key,Wn.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((g,b)=>d.set(g,b)),n.forEach((g,b)=>{var S;return p.set(g,new u4(b,(S=d.get(g))!==null&&S!==void 0?S:null))}),p))}recalculateAndSaveOverlays(e,n){const s=lu();let o=new yt((d,p)=>d-p),u=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const p of d)p.keys().forEach(m=>{const g=n.get(m);if(g===null)return;let b=s.get(m)||Wn.empty();b=p.applyToLocalView(g,b),s.set(m,b);const S=(o.get(p.batchId)||Be()).add(m);o=o.insert(p.batchId,S)})}).next(()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),g=m.key,b=m.value,S=_x();b.forEach(T=>{if(!u.has(T)){const N=Ax(n.get(T),s.get(T));N!==null&&S.set(T,N),u=u.add(T)}}),d.push(this.documentOverlayCache.saveOverlays(e,g,S))}return se.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(d){return Ee.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):px(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):se.resolve(oa());let p=pu,m=u;return d.next(g=>se.forEach(g,(b,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(b)?se.resolve():this.remoteDocumentCache.getEntry(e,b).next(T=>{m=m.insert(b,T)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,m,g,Be())).next(b=>({batchId:p,changes:vx(b)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(s=>{let o=tu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let d=tu();return this.indexManager.getCollectionParents(e,u).next(p=>se.forEach(p,m=>{const g=function(S,T){return new Lo(T,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(b=>{b.forEach((S,T)=>{d=d.insert(S,T)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(d=>{u.forEach((m,g)=>{const b=g.getKey();d.get(b)===null&&(d=d.insert(b,_n.newInvalidDocument(b)))});let p=tu();return d.forEach((m,g)=>{const b=u.get(m);b!==void 0&&uu(b.mutation,g,Wn.empty(),At.now()),nd(n,g)&&(p=p.insert(m,g))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return se.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:zi(o.createTime)}}(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:e4(o.bundledQuery),readTime:zi(o.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.overlays=new yt(Ee.comparator),this.Qr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const s=oa();return se.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.bt(e,n,u)}),se.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),se.resolve()}getOverlaysForCollection(e,n,s){const o=oa(),u=n.length+1,d=new Ee(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const m=p.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return se.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new yt((g,b)=>g-b);const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let b=u.get(g.largestBatchId);b===null&&(b=oa(),u=u.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const p=oa(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,b)=>p.set(g,b)),!(p.size()>=o)););return se.resolve(p)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new kC(n,s));let u=this.Qr.get(n);u===void 0&&(u=Be(),this.Qr.set(n,u)),this.Qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(){this.$r=new Gt(Jt.Ur),this.Kr=new Gt(Jt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new Jt(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new Jt(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new Ee(new dt([])),s=new Jt(n,e),o=new Jt(n,e+1),u=[];return this.Kr.forEachInRange([s,o],d=>{this.zr(d),u.push(d.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Ee(new dt([])),s=new Jt(n,e),o=new Jt(n,e+1);let u=Be();return this.Kr.forEachInRange([s,o],d=>{u=u.add(d.key)}),u}containsKey(e){const n=new Jt(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Jt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Ee.comparator(e.key,n.key)||Pe(e.Zr,n.Zr)}static Wr(e,n){return Pe(e.Zr,n.Zr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Gt(Jt.Ur)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new DC(u,n,s,o);this.mutationQueue.push(d);for(const p of o)this.Xr=this.Xr.add(new Jt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return se.resolve(d)}lookupMutationBatch(e,n){return se.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ti(s),u=o<0?0:o;return se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?jm:this.nr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Jt(n,0),o=new Jt(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],d=>{const p=this.ei(d.Zr);u.push(p)}),se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Gt(Pe);return n.forEach(o=>{const u=new Jt(o,0),d=new Jt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,d],p=>{s=s.add(p.Zr)})}),se.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Ee.isDocumentKey(u)||(u=u.child(""));const d=new Jt(new Ee(u),0);let p=new Gt(Pe);return this.Xr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(p=p.add(m.Zr)),!0)},d),se.resolve(this.ni(p))}ni(e){const n=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Je(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return se.forEach(n.mutations,o=>{const u=new Jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new Jt(n,0),o=this.Xr.firstAfterOrEqual(s);return se.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e){this.ii=e,this.docs=function(){return new yt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,d=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return se.resolve(s?s.document.mutableCopy():_n.newInvalidDocument(n))}getEntries(e,n){let s=Sr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():_n.newInvalidDocument(o))}),se.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Sr();const d=n.path,p=new Ee(d.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:g,value:{document:b}}=m.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||WI(GI(b),s)<=0||(o.has(b.key)||nd(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return se.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ie(9500)}si(e,n){return se.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new g4(this)}getSize(e){return se.resolve(this.size)}}class g4 extends l4{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),se.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e){this.persistence=e,this.oi=new ma(n=>qm(n),Hm),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this._i=0,this.ai=new Km,this.targetCount=0,this.ui=wo.cr()}forEachTarget(e,n){return this.oi.forEach((s,o)=>n(o)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),se.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new wo(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Tr(n),se.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.oi.forEach((d,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.oi.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),se.waitFor(u).next(()=>o)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return se.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),se.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),se.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return se.resolve(s)}containsKey(e,n){return se.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,n){this.ci={},this.overlays={},this.li=new Zh(0),this.hi=!1,this.hi=!0,this.Pi=new f4,this.referenceDelegate=e(this),this.Ti=new y4(this),this.indexManager=new t4,this.remoteDocumentCache=function(o){return new m4(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new JC(n),this.Ei=new h4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new d4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new p4(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){ye("MemoryPersistence","Starting transaction:",e);const o=new v4(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return se.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class v4 extends QI{constructor(e){super(),this.currentSequenceNumber=e}}class Xm{constructor(e){this.persistence=e,this.Vi=new Km,this.mi=null}static fi(e){return new Xm(e)}get gi(){if(this.mi)return this.mi;throw Ie(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),se.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.gi,s=>{const o=Ee.fromPath(s);return this.pi(e,o).next(u=>{u||n.removeEntry(o,ke.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return se.or([()=>se.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class qh{constructor(e,n){this.persistence=e,this.yi=new ma(s=>XI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=o4(this,n)}static fi(e,n){return new qh(e,n)}di(){}Ai(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}Sr(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return se.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(u=>u?se.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,d=>this.Dr(e,d,n).next(p=>{p||(s++,u.removeEntry(d,ke.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),se.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),se.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Eh(e.data.value)),n}Dr(e,n,s){return se.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return se.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ds=s,this.As=o}static Rs(e,n){let s=Be(),o=Be();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Zm(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return tw()?8:$I(bn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ws(e,n).next(d=>{u.result=d}).next(()=>{if(!u.result)return this.Ss(e,n,o,s).next(d=>{u.result=d})}).next(()=>{if(u.result)return;const d=new _4;return this.bs(e,n,d).next(p=>{if(u.result=p,this.fs)return this.Ds(e,n,d,p.size)})}).next(()=>u.result)}Ds(e,n,s,o){return s.documentReadCount<this.gs?(oo()<=ze.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",lo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),se.resolve()):(oo()<=ze.DEBUG&&ye("QueryEngine","Query:",lo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(oo()<=ze.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",lo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(n))):se.resolve())}ws(e,n){if(Y_(n))return se.resolve(null);let s=ji(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=zh(n,null,"F"),s=ji(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const d=Be(...u);return this.ys.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,s).next(m=>{const g=this.vs(n,p);return this.Cs(n,g,d,m.readTime)?this.ws(e,zh(n,null,"F")):this.Fs(e,g,n,m)}))})))}Ss(e,n,s,o){return Y_(n)||o.isEqual(ke.min())?se.resolve(null):this.ys.getDocuments(e,s).next(u=>{const d=this.vs(n,u);return this.Cs(n,d,s,o)?se.resolve(null):(oo()<=ze.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),lo(n)),this.Fs(e,d,n,FI(o,pu)).next(p=>p))})}vs(e,n){let s=new Gt(gx(e));return n.forEach((o,u)=>{nd(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}bs(e,n,s){return oo()<=ze.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",lo(n)),this.ys.getDocumentsMatchingQuery(e,n,ms.min(),s)}Fs(e,n,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(d=>{u=u.insert(d.key,d)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="LocalStore",x4=3e8;class E4{constructor(e,n,s,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new yt(Pe),this.Os=new ma(u=>qm(u),Hm),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new c4(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function T4(r,e,n,s){return new E4(r,e,n,s)}async function zx(r,e){const n=Me(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const d=[],p=[];let m=Be();for(const g of o){d.push(g.batchId);for(const b of g.mutations)m=m.add(b.key)}for(const g of u){p.push(g.batchId);for(const b of g.mutations)m=m.add(b.key)}return n.localDocuments.getDocuments(s,m).next(g=>({ks:g,removedBatchIds:d,addedBatchIds:p}))})})}function S4(r,e){const n=Me(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(p,m,g,b){const S=g.batch,T=S.keys();let N=se.resolve();return T.forEach(M=>{N=N.next(()=>b.getEntry(m,M)).next(W=>{const B=g.docVersions.get(M);Je(B!==null,48541),W.version.compareTo(B)<0&&(S.applyToRemoteDocument(W,g),W.isValidDocument()&&(W.setReadTime(g.commitVersion),b.addEntry(W)))})}),N.next(()=>p.mutationQueue.removeMutationBatch(m,S))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let m=Be();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(m=m.add(p.batch.mutations[g].key));return m}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function Bx(r){const e=Me(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function w4(r,e){const n=Me(r),s=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const p=[];e.targetChanges.forEach((b,S)=>{const T=o.get(S);if(!T)return;p.push(n.Ti.removeMatchingKeys(u,b.removedDocuments,S).next(()=>n.Ti.addMatchingKeys(u,b.addedDocuments,S)));let N=T.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?N=N.withResumeToken(hn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):b.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(b.resumeToken,s)),o=o.insert(S,N),function(W,B,q){return W.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=x4?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(T,N,b)&&p.push(n.Ti.updateTargetData(u,N))});let m=Sr(),g=Be();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))}),p.push(A4(u,d,e.documentUpdates).next(b=>{m=b.qs,g=b.Qs})),!s.isEqual(ke.min())){const b=n.Ti.getLastRemoteSnapshotVersion(u).next(S=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));p.push(b)}return se.waitFor(p).next(()=>d.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(n.xs=o,u))}function A4(r,e,n){let s=Be(),o=Be();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let d=Sr();return n.forEach((p,m)=>{const g=u.get(p);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(ke.min())?(e.removeEntry(p,m.readTime),d=d.insert(p,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),d=d.insert(p,m)):ye(Jm,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",m.version)}),{qs:d,Qs:o}})}function R4(r,e){const n=Me(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=jm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function I4(r,e){const n=Me(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ti.getTargetData(s,e).next(u=>u?(o=u,se.resolve(o)):n.Ti.allocateTargetId(s).next(d=>(o=new ls(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function um(r,e,n){const s=Me(r),o=s.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Po(d))throw d;ye(Jm,`Failed to update sequence numbers for target ${e}: ${d}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function a1(r,e,n){const s=Me(r);let o=ke.min(),u=Be();return s.persistence.runTransaction("Execute query","readwrite",d=>function(m,g,b){const S=Me(m),T=S.Os.get(b);return T!==void 0?se.resolve(S.xs.get(T)):S.Ti.getTargetData(g,b)}(s,d,ji(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(d,p.targetId).next(m=>{u=m})}).next(()=>s.Ms.getDocumentsMatchingQuery(d,e,n?o:ke.min(),n?u:Be())).next(p=>(C4(s,gC(e),p),{documents:p,$s:u})))}function C4(r,e,n){let s=r.Ns.get(e)||ke.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Ns.set(e,s)}class o1{constructor(){this.activeTargetIds=EC()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class D4{constructor(){this.xo=new o1,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new o1,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="ConnectivityMonitor";class u1{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ye(l1,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ye(l1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph=null;function cm(){return ph===null?ph=function(){return 268435456+Math.round(2147483648*Math.random())}():ph++,"0x"+ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np="RestConnection",M4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class N4{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===Lh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,n,s,o,u){const d=cm(),p=this.jo(e,n.toUriEncodedString());ye(Np,`Sending RPC '${e}' ${d}:`,p,s);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,o,u);const{host:g}=new URL(p),b=Au(g);return this.Jo(e,p,m,s,b).then(S=>(ye(Np,`Received RPC '${e}' ${d}: `,S),S),S=>{throw bo(Np,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",s),S})}Yo(e,n,s,o,u,d){return this.zo(e,n,s,o,u)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const s=M4[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class V4 extends N4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const d=cm();return new Promise((p,m)=>{const g=new Hb;g.setWithCredentials(!0),g.listenOnce(Fb.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case xh.NO_ERROR:const S=g.getResponseJson();ye(mn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case xh.TIMEOUT:ye(mn,`RPC '${e}' ${d} timed out`),m(new pe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case xh.HTTP_ERROR:const T=g.getStatus();if(ye(mn,`RPC '${e}' ${d} failed with status:`,T,"response text:",g.getResponseText()),T>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const M=N==null?void 0:N.error;if(M&&M.status&&M.message){const W=function(q){const Z=q.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(Z)>=0?Z:ie.UNKNOWN}(M.status);m(new pe(W,M.message))}else m(new pe(ie.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new pe(ie.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:d,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ye(mn,`RPC '${e}' ${d} completed.`)}});const b=JSON.stringify(o);ye(mn,`RPC '${e}' ${d} sending request:`,o),g.send(n,"POST",b,s,15)})}T_(e,n,s){const o=cm(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Yb(),p=Wb(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const b=u.join("");ye(mn,`Creating RPC '${e}' stream ${o}: ${b}`,m);const S=d.createWebChannel(b,m);let T=!1,N=!1;const M=new O4({Zo:B=>{N?ye(mn,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(T||(ye(mn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),T=!0),ye(mn,`RPC '${e}' stream ${o} sending:`,B),S.send(B))},Xo:()=>S.close()}),W=(B,q,Z)=>{B.listen(q,Y=>{try{Z(Y)}catch(ue){setTimeout(()=>{throw ue},0)}})};return W(S,eu.EventType.OPEN,()=>{N||(ye(mn,`RPC '${e}' stream ${o} transport opened.`),M.__())}),W(S,eu.EventType.CLOSE,()=>{N||(N=!0,ye(mn,`RPC '${e}' stream ${o} transport closed`),M.u_())}),W(S,eu.EventType.ERROR,B=>{N||(N=!0,bo(mn,`RPC '${e}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),M.u_(new pe(ie.UNAVAILABLE,"The operation could not be completed")))}),W(S,eu.EventType.MESSAGE,B=>{var q;if(!N){const Z=B.data[0];Je(!!Z,16349);const Y=Z,ue=(Y==null?void 0:Y.error)||((q=Y[0])===null||q===void 0?void 0:q.error);if(ue){ye(mn,`RPC '${e}' stream ${o} received error:`,ue);const le=ue.status;let de=function(R){const O=Mt[R];if(O!==void 0)return Ix(O)}(le),k=ue.message;de===void 0&&(de=ie.INTERNAL,k="Unknown error status: "+le+" with message "+ue.message),N=!0,M.u_(new pe(de,k)),S.close()}else ye(mn,`RPC '${e}' stream ${o} received:`,Z),M.c_(Z)}}),W(p,Gb.STAT_EVENT,B=>{B.stat===Zp.PROXY?ye(mn,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===Zp.NOPROXY&&ye(mn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.a_()},0),M}}function Op(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(r){return new jC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n,s=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.I_=s,this.E_=o,this.d_=u,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),o=Math.max(0,n-s);o>0&&ye("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="PersistentStream";class Hx{constructor(e,n,s,o,u,d,p,m){this.xi=e,this.y_=s,this.w_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new qx(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.S_===n&&this.K_(s,o)},s=>{e(()=>{const o=new pe(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(o)})})}K_(e,n){const s=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.W_(o))}),this.stream.onMessage(o=>{s(()=>++this.v_==1?this.z_(o):this.onNext(o))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return ye(c1,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(ye(c1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class P4 extends Hx{constructor(e,n,s,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,d),this.serializer=u}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=qC(this.serializer,e),s=function(u){if(!("targetChange"in u))return ke.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?ke.min():d.readTime?zi(d.readTime):ke.min()}(e);return this.listener.j_(n,s)}H_(e){const n={};n.database=lm(this.serializer),n.addTarget=function(u,d){let p;const m=d.target;if(p=im(m)?{documents:GC(u,m)}:{query:WC(u,m).gt},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=kx(u,d.resumeToken);const g=sm(u,d.expectedCount);g!==null&&(p.expectedCount=g)}else if(d.snapshotVersion.compareTo(ke.min())>0){p.readTime=Bh(u,d.snapshotVersion.toTimestamp());const g=sm(u,d.expectedCount);g!==null&&(p.expectedCount=g)}return p}(this.serializer,e);const s=QC(this.serializer,e);s&&(n.labels=s),this.L_(n)}J_(e){const n={};n.database=lm(this.serializer),n.removeTarget=e,this.L_(n)}}class L4 extends Hx{constructor(e,n,s,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,d),this.serializer=u}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=FC(e.writeResults,e.commitTime),s=zi(e.commitTime);return this.listener.ea(s,n)}ta(){const e={};e.database=lm(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>HC(this.serializer,s))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{}class j4 extends U4{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.na=!1}ra(){if(this.na)throw new pe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.zo(e,am(n,s),o,u,d)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(ie.UNKNOWN,u.toString())})}Yo(e,n,s,o,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Yo(e,am(n,s),o,d,p,u)).catch(d=>{throw d.name==="FirebaseError"?(d.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new pe(ie.UNKNOWN,d.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class z4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Tr(n),this.oa=!1):ye("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="RemoteStore";class B4{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=u,this.Ea.No(d=>{s.enqueueAndForget(async()=>{ga(this)&&(ye(fa,"Restarting streams for network reachability change."),await async function(m){const g=Me(m);g.Ta.add(4),await Vu(g),g.da.set("Unknown"),g.Ta.delete(4),await ld(g)}(this))})}),this.da=new z4(s,o)}}async function ld(r){if(ga(r))for(const e of r.Ia)await e(!0)}async function Vu(r){for(const e of r.Ia)await e(!1)}function Fx(r,e){const n=Me(r);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),ig(n)?ng(n):Uo(n).M_()&&tg(n,e))}function eg(r,e){const n=Me(r),s=Uo(n);n.Pa.delete(e),s.M_()&&Gx(n,e),n.Pa.size===0&&(s.M_()?s.N_():ga(n)&&n.da.set("Unknown"))}function tg(r,e){if(r.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Uo(r).H_(e)}function Gx(r,e){r.Aa.Ke(e),Uo(r).J_(e)}function ng(r){r.Aa=new VC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Pa.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),Uo(r).start(),r.da._a()}function ig(r){return ga(r)&&!Uo(r).F_()&&r.Pa.size>0}function ga(r){return Me(r).Ta.size===0}function Wx(r){r.Aa=void 0}async function q4(r){r.da.set("Online")}async function H4(r){r.Pa.forEach((e,n)=>{tg(r,e)})}async function F4(r,e){Wx(r),ig(r)?(r.da.ca(e),ng(r)):r.da.set("Unknown")}async function G4(r,e,n){if(r.da.set("Online"),e instanceof Dx&&e.state===2&&e.cause)try{await async function(o,u){const d=u.cause;for(const p of u.targetIds)o.Pa.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Pa.delete(p),o.Aa.removeTarget(p))}(r,e)}catch(s){ye(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Hh(r,s)}else if(e instanceof wh?r.Aa.Xe(e):e instanceof Cx?r.Aa.ot(e):r.Aa.nt(e),!n.isEqual(ke.min()))try{const s=await Bx(r.localStore);n.compareTo(s)>=0&&await function(u,d){const p=u.Aa.It(d);return p.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const b=u.Pa.get(g);b&&u.Pa.set(g,b.withResumeToken(m.resumeToken,d))}}),p.targetMismatches.forEach((m,g)=>{const b=u.Pa.get(m);if(!b)return;u.Pa.set(m,b.withResumeToken(hn.EMPTY_BYTE_STRING,b.snapshotVersion)),Gx(u,m);const S=new ls(b.target,m,g,b.sequenceNumber);tg(u,S)}),u.remoteSyncer.applyRemoteEvent(p)}(r,n)}catch(s){ye(fa,"Failed to raise snapshot:",s),await Hh(r,s)}}async function Hh(r,e,n){if(!Po(e))throw e;r.Ta.add(1),await Vu(r),r.da.set("Offline"),n||(n=()=>Bx(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ye(fa,"Retrying IndexedDB access"),await n(),r.Ta.delete(1),await ld(r)})}function Yx(r,e){return e().catch(n=>Hh(r,n,e))}async function ud(r){const e=Me(r),n=_s(e);let s=e.ha.length>0?e.ha[e.ha.length-1].batchId:jm;for(;W4(e);)try{const o=await R4(e.localStore,s);if(o===null){e.ha.length===0&&n.N_();break}s=o.batchId,Y4(e,o)}catch(o){await Hh(e,o)}Qx(e)&&$x(e)}function W4(r){return ga(r)&&r.ha.length<10}function Y4(r,e){r.ha.push(e);const n=_s(r);n.M_()&&n.Y_&&n.Z_(e.mutations)}function Qx(r){return ga(r)&&!_s(r).F_()&&r.ha.length>0}function $x(r){_s(r).start()}async function Q4(r){_s(r).ta()}async function $4(r){const e=_s(r);for(const n of r.ha)e.Z_(n.mutations)}async function K4(r,e,n){const s=r.ha.shift(),o=Ym.from(s,e,n);await Yx(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await ud(r)}async function X4(r,e){e&&_s(r).Y_&&await async function(s,o){if(function(d){return NC(d)&&d!==ie.ABORTED}(o.code)){const u=s.ha.shift();_s(s).O_(),await Yx(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await ud(s)}}(r,e),Qx(r)&&$x(r)}async function h1(r,e){const n=Me(r);n.asyncQueue.verifyOperationInProgress(),ye(fa,"RemoteStore received new credentials");const s=ga(n);n.Ta.add(3),await Vu(n),s&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await ld(n)}async function Z4(r,e){const n=Me(r);e?(n.Ta.delete(2),await ld(n)):e||(n.Ta.add(2),await Vu(n),n.da.set("Unknown"))}function Uo(r){return r.Ra||(r.Ra=function(n,s,o){const u=Me(n);return u.ra(),new P4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:q4.bind(null,r),n_:H4.bind(null,r),i_:F4.bind(null,r),j_:G4.bind(null,r)}),r.Ia.push(async e=>{e?(r.Ra.O_(),ig(r)?ng(r):r.da.set("Unknown")):(await r.Ra.stop(),Wx(r))})),r.Ra}function _s(r){return r.Va||(r.Va=function(n,s,o){const u=Me(n);return u.ra(),new L4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:Q4.bind(null,r),i_:X4.bind(null,r),X_:$4.bind(null,r),ea:K4.bind(null,r)}),r.Ia.push(async e=>{e?(r.Va.O_(),await ud(r)):(await r.Va.stop(),r.ha.length>0&&(ye(fa,`Stopping write stream with ${r.ha.length} pending writes`),r.ha=[]))})),r.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const d=Date.now()+s,p=new rg(e,n,d,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(r,e){if(Tr("AsyncQueue",`${e}: ${r}`),Po(r))return new pe(ie.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{static emptySet(e){return new go(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ee.comparator(n.key,s.key):(n,s)=>Ee.comparator(n.key,s.key),this.keyedMap=tu(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new go;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.ma=new yt(Ee.comparator)}track(e){const n=e.doc.key,s=this.ma.get(n);s?e.type!==0&&s.type===3?this.ma=this.ma.insert(n,e):e.type===3&&s.type!==1?this.ma=this.ma.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ma=this.ma.remove(n):e.type===1&&s.type===2?this.ma=this.ma.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):Ie(63341,{Vt:e,fa:s}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ao{constructor(e,n,s,o,u,d,p,m,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const d=[];return n.forEach(p=>{d.push({type:0,doc:p})}),new Ao(e,n,go.emptySet(n),d,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class eD{constructor(){this.queries=f1(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,s){const o=Me(n),u=o.queries;o.queries=f1(),u.forEach((d,p)=>{for(const m of p.ya)m.onError(s)})})(this,new pe(ie.ABORTED,"Firestore shutting down"))}}function f1(){return new ma(r=>mx(r),td)}async function Kx(r,e){const n=Me(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.wa()&&e.Sa()&&(s=2):(u=new J4,s=e.Sa()?0:1);try{switch(s){case 0:u.pa=await n.onListen(o,!0);break;case 1:u.pa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const p=sg(d,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.ya.push(e),e.Da(n.onlineState),u.pa&&e.va(u.pa)&&ag(n)}async function Xx(r,e){const n=Me(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const d=u.ya.indexOf(e);d>=0&&(u.ya.splice(d,1),u.ya.length===0?o=e.Sa()?0:1:!u.wa()&&e.Sa()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function tD(r,e){const n=Me(r);let s=!1;for(const o of e){const u=o.query,d=n.queries.get(u);if(d){for(const p of d.ya)p.va(o)&&(s=!0);d.pa=o}}s&&ag(n)}function nD(r,e,n){const s=Me(r),o=s.queries.get(e);if(o)for(const u of o.ya)u.onError(n);s.queries.delete(e)}function ag(r){r.ba.forEach(e=>{e.next()})}var hm,p1;(p1=hm||(hm={})).Ca="default",p1.Cache="cache";class Zx{constructor(e,n,s){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ao(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const s=n!=="Offline";return(!this.options.La||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==hm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e){this.key=e}}class eE{constructor(e){this.key=e}}class iD{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Be(),this.mutatedKeys=Be(),this.Ha=gx(e),this.Ja=new go(this.Ha)}get Ya(){return this.Ga}Za(e,n){const s=n?n.Xa:new d1,o=n?n.Ja:this.Ja;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((b,S)=>{const T=o.get(b),N=nd(this.query,S)?S:null,M=!!T&&this.mutatedKeys.has(T.key),W=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let B=!1;T&&N?T.data.isEqual(N.data)?M!==W&&(s.track({type:3,doc:N}),B=!0):this.eu(T,N)||(s.track({type:2,doc:N}),B=!0,(m&&this.Ha(N,m)>0||g&&this.Ha(N,g)<0)&&(p=!0)):!T&&N?(s.track({type:0,doc:N}),B=!0):T&&!N&&(s.track({type:1,doc:T}),B=!0,(m||g)&&(p=!0)),B&&(N?(d=d.add(N),u=W?u.add(b):u.delete(b)):(d=d.delete(b),u=u.delete(b)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{Ja:d,Xa:s,Cs:p,mutatedKeys:u}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const d=e.Xa.ga();d.sort((b,S)=>function(N,M){const W=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Vt:B})}};return W(N)-W(M)}(b.type,S.type)||this.Ha(b.doc,S.doc)),this.tu(s),o=o!=null&&o;const p=n&&!o?this.nu():[],m=this.ja.size===0&&this.current&&!o?1:0,g=m!==this.za;return this.za=m,d.length!==0||g?{snapshot:new Ao(this.query,e.Ja,u,d,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:p}:{ru:p}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new d1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Be(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const n=[];return e.forEach(s=>{this.ja.has(s)||n.push(new eE(s))}),this.ja.forEach(s=>{e.has(s)||n.push(new Jx(s))}),n}su(e){this.Ga=e.$s,this.ja=Be();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return Ao.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const og="SyncEngine";class rD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class sD{constructor(e){this.key=e,this._u=!1}}class aD{constructor(e,n,s,o,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.au={},this.uu=new ma(p=>mx(p),td),this.cu=new Map,this.lu=new Set,this.hu=new yt(Ee.comparator),this.Pu=new Map,this.Tu=new Km,this.Iu={},this.Eu=new Map,this.du=wo.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function oD(r,e,n=!0){const s=aE(r);let o;const u=s.uu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.ou()):o=await tE(s,e,n,!0),o}async function lD(r,e){const n=aE(r);await tE(n,e,!0,!1)}async function tE(r,e,n,s){const o=await I4(r.localStore,ji(e)),u=o.targetId,d=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await uD(r,e,u,d==="current",o.resumeToken)),r.isPrimaryClient&&n&&Fx(r.remoteStore,o),p}async function uD(r,e,n,s,o){r.Ru=(S,T,N)=>async function(W,B,q,Z){let Y=B.view.Za(q);Y.Cs&&(Y=await a1(W.localStore,B.query,!1).then(({documents:k})=>B.view.Za(k,Y)));const ue=Z&&Z.targetChanges.get(B.targetId),le=Z&&Z.targetMismatches.get(B.targetId)!=null,de=B.view.applyChanges(Y,W.isPrimaryClient,ue,le);return g1(W,B.targetId,de.ru),de.snapshot}(r,S,T,N);const u=await a1(r.localStore,e,!0),d=new iD(e,u.$s),p=d.Za(u.documents),m=Ou.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=d.applyChanges(p,r.isPrimaryClient,m);g1(r,n,g.ru);const b=new rD(e,n,d);return r.uu.set(e,b),r.cu.has(n)?r.cu.get(n).push(e):r.cu.set(n,[e]),g.snapshot}async function cD(r,e,n){const s=Me(r),o=s.uu.get(e),u=s.cu.get(o.targetId);if(u.length>1)return s.cu.set(o.targetId,u.filter(d=>!td(d,e))),void s.uu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await um(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&eg(s.remoteStore,o.targetId),dm(s,o.targetId)}).catch(Vo)):(dm(s,o.targetId),await um(s.localStore,o.targetId,!0))}async function hD(r,e){const n=Me(r),s=n.uu.get(e),o=n.cu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),eg(n.remoteStore,s.targetId))}async function dD(r,e,n){const s=_D(r);try{const o=await function(d,p){const m=Me(d),g=At.now(),b=p.reduce((N,M)=>N.add(M.key),Be());let S,T;return m.persistence.runTransaction("Locally write mutations","readwrite",N=>{let M=Sr(),W=Be();return m.Bs.getEntries(N,b).next(B=>{M=B,M.forEach((q,Z)=>{Z.isValidDocument()||(W=W.add(q))})}).next(()=>m.localDocuments.getOverlayedDocuments(N,M)).next(B=>{S=B;const q=[];for(const Z of p){const Y=IC(Z,S.get(Z.key).overlayedDocument);Y!=null&&q.push(new Ss(Z.key,Y,ox(Y.value.mapValue),In.exists(!0)))}return m.mutationQueue.addMutationBatch(N,g,q,p)}).next(B=>{T=B;const q=B.applyToLocalDocumentSet(S,W);return m.documentOverlayCache.saveOverlays(N,B.batchId,q)})}).then(()=>({batchId:T.batchId,changes:vx(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,p,m){let g=d.Iu[d.currentUser.toKey()];g||(g=new yt(Pe)),g=g.insert(p,m),d.Iu[d.currentUser.toKey()]=g}(s,o.batchId,n),await Pu(s,o.changes),await ud(s.remoteStore)}catch(o){const u=sg(o,"Failed to persist write");n.reject(u)}}async function nE(r,e){const n=Me(r);try{const s=await w4(n.localStore,e);e.targetChanges.forEach((o,u)=>{const d=n.Pu.get(u);d&&(Je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d._u=!0:o.modifiedDocuments.size>0?Je(d._u,14607):o.removedDocuments.size>0&&(Je(d._u,42227),d._u=!1))}),await Pu(n,s,e)}catch(s){await Vo(s)}}function m1(r,e,n){const s=Me(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.uu.forEach((u,d)=>{const p=d.view.Da(e);p.snapshot&&o.push(p.snapshot)}),function(d,p){const m=Me(d);m.onlineState=p;let g=!1;m.queries.forEach((b,S)=>{for(const T of S.ya)T.Da(p)&&(g=!0)}),g&&ag(m)}(s.eventManager,e),o.length&&s.au.j_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function fD(r,e,n){const s=Me(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Pu.get(e),u=o&&o.key;if(u){let d=new yt(Ee.comparator);d=d.insert(u,_n.newNoDocument(u,ke.min()));const p=Be().add(u),m=new ad(ke.min(),new Map,new yt(Pe),d,p);await nE(s,m),s.hu=s.hu.remove(u),s.Pu.delete(e),lg(s)}else await um(s.localStore,e,!1).then(()=>dm(s,e,n)).catch(Vo)}async function pD(r,e){const n=Me(r),s=e.batch.batchId;try{const o=await S4(n.localStore,e);rE(n,s,null),iE(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Pu(n,o)}catch(o){await Vo(o)}}async function mD(r,e,n){const s=Me(r);try{const o=await function(d,p){const m=Me(d);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let b;return m.mutationQueue.lookupMutationBatch(g,p).next(S=>(Je(S!==null,37113),b=S.keys(),m.mutationQueue.removeMutationBatch(g,S))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,b,p)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b)).next(()=>m.localDocuments.getDocuments(g,b))})}(s.localStore,e);rE(s,e,n),iE(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Pu(s,o)}catch(o){await Vo(o)}}function iE(r,e){(r.Eu.get(e)||[]).forEach(n=>{n.resolve()}),r.Eu.delete(e)}function rE(r,e,n){const s=Me(r);let o=s.Iu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Iu[s.currentUser.toKey()]=o}}function dm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.cu.get(e))r.uu.delete(s),n&&r.au.Vu(s,n);r.cu.delete(e),r.isPrimaryClient&&r.Tu.Hr(e).forEach(s=>{r.Tu.containsKey(s)||sE(r,s)})}function sE(r,e){r.lu.delete(e.path.canonicalString());const n=r.hu.get(e);n!==null&&(eg(r.remoteStore,n),r.hu=r.hu.remove(e),r.Pu.delete(n),lg(r))}function g1(r,e,n){for(const s of n)s instanceof Jx?(r.Tu.addReference(s.key,e),gD(r,s)):s instanceof eE?(ye(og,"Document no longer in limbo: "+s.key),r.Tu.removeReference(s.key,e),r.Tu.containsKey(s.key)||sE(r,s.key)):Ie(19791,{mu:s})}function gD(r,e){const n=e.key,s=n.path.canonicalString();r.hu.get(n)||r.lu.has(s)||(ye(og,"New document in limbo: "+n),r.lu.add(s),lg(r))}function lg(r){for(;r.lu.size>0&&r.hu.size<r.maxConcurrentLimboResolutions;){const e=r.lu.values().next().value;r.lu.delete(e);const n=new Ee(dt.fromString(e)),s=r.du.next();r.Pu.set(s,new sD(n)),r.hu=r.hu.insert(n,s),Fx(r.remoteStore,new ls(ji(Fm(n.path)),s,"TargetPurposeLimboResolution",Zh.le))}}async function Pu(r,e,n){const s=Me(r),o=[],u=[],d=[];s.uu.isEmpty()||(s.uu.forEach((p,m)=>{d.push(s.Ru(m,e,n).then(g=>{var b;if((g||n)&&s.isPrimaryClient){const S=g?!g.fromCache:(b=n==null?void 0:n.targetChanges.get(m.targetId))===null||b===void 0?void 0:b.current;s.sharedClientState.updateQueryState(m.targetId,S?"current":"not-current")}if(g){o.push(g);const S=Zm.Rs(m.targetId,g);u.push(S)}}))}),await Promise.all(d),s.au.j_(o),await async function(m,g){const b=Me(m);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>se.forEach(g,T=>se.forEach(T.ds,N=>b.persistence.referenceDelegate.addReference(S,T.targetId,N)).next(()=>se.forEach(T.As,N=>b.persistence.referenceDelegate.removeReference(S,T.targetId,N)))))}catch(S){if(!Po(S))throw S;ye(Jm,"Failed to update sequence numbers: "+S)}for(const S of g){const T=S.targetId;if(!S.fromCache){const N=b.xs.get(T),M=N.snapshotVersion,W=N.withLastLimboFreeSnapshotVersion(M);b.xs=b.xs.insert(T,W)}}}(s.localStore,u))}async function yD(r,e){const n=Me(r);if(!n.currentUser.isEqual(e)){ye(og,"User change. New user:",e.toKey());const s=await zx(n.localStore,e);n.currentUser=e,function(u,d){u.Eu.forEach(p=>{p.forEach(m=>{m.reject(new pe(ie.CANCELLED,d))})}),u.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Pu(n,s.ks)}}function vD(r,e){const n=Me(r),s=n.Pu.get(e);if(s&&s._u)return Be().add(s.key);{let o=Be();const u=n.cu.get(e);if(!u)return o;for(const d of u){const p=n.uu.get(d);o=o.unionWith(p.view.Ya)}return o}}function aE(r){const e=Me(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=nE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fD.bind(null,e),e.au.j_=tD.bind(null,e.eventManager),e.au.Vu=nD.bind(null,e.eventManager),e}function _D(r){const e=Me(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mD.bind(null,e),e}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=od(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return T4(this.persistence,new b4,e.initialUser,this.serializer)}yu(e){return new jx(Xm.fi,this.serializer)}pu(e){return new D4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class bD extends Fh{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){Je(this.persistence.referenceDelegate instanceof qh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new s4(s,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new jx(s=>qh.fi(s,n),this.serializer)}}class fm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>m1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=yD.bind(null,this.syncEngine),await Z4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eD}()}createDatastore(e){const n=od(e.databaseInfo.databaseId),s=function(u){return new V4(u)}(e.databaseInfo);return function(u,d,p,m){return new j4(u,d,p,m)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,d,p){return new B4(s,o,u,d,p)}(this.localStore,this.datastore,e.asyncQueue,n=>m1(this.syncEngine,n,0),function(){return u1.C()?new u1:new k4}())}createSyncEngine(e,n){return function(o,u,d,p,m,g,b){const S=new aD(o,u,d,p,m,g);return b&&(S.Au=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Me(o);ye(fa,"RemoteStore shutting down."),u.Ta.add(5),await Vu(u),u.Ea.shutdown(),u.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}fm.provider={build:()=>new fm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="FirestoreClient";class xD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=yn.UNAUTHENTICATED,this.clientId=Xb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async d=>{ye(bs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ye(bs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=sg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Vp(r,e){r.asyncQueue.verifyOperationInProgress(),ye(bs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await zx(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function y1(r,e){r.asyncQueue.verifyOperationInProgress();const n=await ED(r);ye(bs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>h1(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>h1(e.remoteStore,o)),r._onlineComponents=e}async function ED(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ye(bs,"Using user provided OfflineComponentProvider");try{await Vp(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;bo("Error using user provided cache. Falling back to memory cache: "+n),await Vp(r,new Fh)}}else ye(bs,"Using default OfflineComponentProvider"),await Vp(r,new bD(void 0));return r._offlineComponents}async function lE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ye(bs,"Using user provided OnlineComponentProvider"),await y1(r,r._uninitializedComponentsProvider._online)):(ye(bs,"Using default OnlineComponentProvider"),await y1(r,new fm))),r._onlineComponents}function TD(r){return lE(r).then(e=>e.syncEngine)}async function uE(r){const e=await lE(r),n=e.eventManager;return n.onListen=oD.bind(null,e.syncEngine),n.onUnlisten=cD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hD.bind(null,e.syncEngine),n}function SD(r,e,n={}){const s=new vr;return r.asyncQueue.enqueueAndForget(async()=>function(u,d,p,m,g){const b=new oE({next:T=>{b.Cu(),d.enqueueAndForget(()=>Xx(u,S));const N=T.docs.has(p);!N&&T.fromCache?g.reject(new pe(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&T.fromCache&&m&&m.source==="server"?g.reject(new pe(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),S=new Zx(Fm(p.path),b,{includeMetadataChanges:!0,La:!0});return Kx(u,S)}(await uE(r),r.asyncQueue,e,n,s)),s.promise}function wD(r,e,n={}){const s=new vr;return r.asyncQueue.enqueueAndForget(async()=>function(u,d,p,m,g){const b=new oE({next:T=>{b.Cu(),d.enqueueAndForget(()=>Xx(u,S)),T.fromCache&&m.source==="server"?g.reject(new pe(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),S=new Zx(p,b,{includeMetadataChanges:!0,La:!0});return Kx(u,S)}(await uE(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(r,e,n){if(!n)throw new pe(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function AD(r,e,n,s){if(e===!0&&s===!0)throw new pe(ie.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function _1(r){if(!Ee.isDocumentKey(r))throw new pe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function b1(r){if(Ee.isDocumentKey(r))throw new pe(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function cd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ie(12329,{type:typeof r})}function ui(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new pe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cd(r);throw new pe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function RD(r,e){if(e<=0)throw new pe(ie.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="firestore.googleapis.com",x1=!0;class E1{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dE,this.ssl=x1}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:x1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ux;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<i4)throw new pe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cE((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new pe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new VI;switch(s.type){case"firstParty":return new jI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=v1.get(n);s&&(ye("ComponentProvider","Removing Datastore"),v1.delete(n),s.terminate())}(this),Promise.resolve()}}function ID(r,e,n,s={}){var o;r=ui(r,hd);const u=Au(e),d=r._getSettings(),p=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u&&(eb(`https://${m}`),tb("Firestore",!0)),d.host!==dE&&d.host!==m&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},d),{host:m,ssl:u,emulatorOptions:s});if(!ps(g,p)&&(r._setSettings(g),s.mockUserToken)){let b,S;if(typeof s.mockUserToken=="string")b=s.mockUserToken,S=yn.MOCK_USER;else{b=W2(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new pe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new yn(T)}r._authCredentials=new PI(new $b(b,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ws(this.firestore,e,this._query)}}class Cn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cn(this.firestore,e,this._key)}}class fs extends ws{constructor(e,n,s){super(e,n,Fm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cn(this.firestore,null,new Ee(e))}withConverter(e){return new fs(this.firestore,e,this._path)}}function Nt(r,e,...n){if(r=Vt(r),hE("collection","path",e),r instanceof hd){const s=dt.fromString(e,...n);return b1(s),new fs(r,null,s)}{if(!(r instanceof Cn||r instanceof fs))throw new pe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(dt.fromString(e,...n));return b1(s),new fs(r.firestore,null,s)}}function Ae(r,e,...n){if(r=Vt(r),arguments.length===1&&(e=Xb.newId()),hE("doc","path",e),r instanceof hd){const s=dt.fromString(e,...n);return _1(s),new Cn(r,null,new Ee(s))}{if(!(r instanceof Cn||r instanceof fs))throw new pe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(dt.fromString(e,...n));return _1(s),new Cn(r.firestore,r instanceof fs?r.converter:null,new Ee(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="AsyncQueue";class S1{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new qx(this,"async_queue_retry"),this.ec=()=>{const s=Op();s&&ye(T1,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=e;const n=Op();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=Op();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new vr;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Po(e))throw e;ye(T1,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(s=>{throw this.Ju=s,this.Yu=!1,Tr("INTERNAL UNHANDLED ERROR: ",w1(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=n,n}enqueueAfterDelay(e,n,s){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const o=rg.createAndSchedule(this,e,n,s,u=>this.oc(u));return this.Hu.push(o),o}nc(){this.Ju&&Ie(47125,{_c:w1(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function w1(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class As extends hd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new S1,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new S1(e),this._firestoreClient=void 0,await e}}}function CD(r,e){const n=typeof r=="object"?r:sb(),s=typeof r=="string"?r:Lh,o=Im(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=F2("firestore");u&&ID(o,...u)}return o}function dd(r){if(r._terminated)throw new pe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||DD(r),r._firestoreClient}function DD(r){var e,n,s;const o=r._freezeSettings(),u=function(p,m,g,b){return new eC(p,m,g,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,cE(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new xD(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(p){const m=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(m),_online:m}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ro(hn.fromBase64String(e))}catch(n){throw new pe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ro(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=/^__.*__$/;class MD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nu(e,this.data,n,this.fieldTransforms)}}class fE{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function pE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{hc:r})}}class fd{constructor(e,n,s,o,u,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Pc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new fd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Tc({path:s,Ec:!1});return o.dc(e),o}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Tc({path:s,Ec:!1});return o.Pc(),o}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Gh(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(pE(this.hc)&&kD.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class ND{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||od(e)}gc(e,n,s,o=!1){return new fd({hc:e,methodName:n,fc:s,path:cn.emptyPath(),Ec:!1,mc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uu(r){const e=r._freezeSettings(),n=od(r._databaseId);return new ND(r._databaseId,!!e.ignoreUndefinedProperties,n)}function hg(r,e,n,s,o,u={}){const d=r.gc(u.merge||u.mergeFields?2:0,e,n,o);mg("Data must be an object, but it was:",d,s);const p=yE(s,d);let m,g;if(u.merge)m=new Wn(d.fieldMask),g=d.fieldTransforms;else if(u.mergeFields){const b=[];for(const S of u.mergeFields){const T=pm(e,S,n);if(!d.contains(T))throw new pe(ie.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);_E(b,T)||b.push(T)}m=new Wn(b),g=d.fieldTransforms.filter(S=>m.covers(S.field))}else m=null,g=d.fieldTransforms;return new MD(new Vn(p),m,g)}class pd extends jo{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pd}}function OD(r,e,n){return new fd({hc:3,fc:e.settings.fc,methodName:r._methodName,Ec:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class dg extends jo{_toFieldTransform(e){return new Wm(e.path,new _u)}isEqual(e){return e instanceof dg}}class fg extends jo{constructor(e,n){super(e),this.yc=n}_toFieldTransform(e){const n=OD(this,e,!0),s=this.yc.map(u=>zo(u,n)),o=new So(s);return new Wm(e.path,o)}isEqual(e){return e instanceof fg&&ps(this.yc,e.yc)}}class pg extends jo{constructor(e,n){super(e),this.wc=n}_toFieldTransform(e){const n=new xu(e.serializer,xx(e.serializer,this.wc));return new Wm(e.path,n)}isEqual(e){return e instanceof pg&&this.wc===e.wc}}function mE(r,e,n,s){const o=r.gc(1,e,n);mg("Data must be an object, but it was:",o,s);const u=[],d=Vn.empty();Ts(s,(m,g)=>{const b=gg(e,m,n);g=Vt(g);const S=o.Ac(b);if(g instanceof pd)u.push(b);else{const T=zo(g,S);T!=null&&(u.push(b),d.set(b,T))}});const p=new Wn(u);return new fE(d,p,o.fieldTransforms)}function gE(r,e,n,s,o,u){const d=r.gc(1,e,n),p=[pm(e,s,n)],m=[o];if(u.length%2!=0)throw new pe(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<u.length;T+=2)p.push(pm(e,u[T])),m.push(u[T+1]);const g=[],b=Vn.empty();for(let T=p.length-1;T>=0;--T)if(!_E(g,p[T])){const N=p[T];let M=m[T];M=Vt(M);const W=d.Ac(N);if(M instanceof pd)g.push(N);else{const B=zo(M,W);B!=null&&(g.push(N),b.set(N,B))}}const S=new Wn(g);return new fE(b,S,d.fieldTransforms)}function VD(r,e,n,s=!1){return zo(n,r.gc(s?4:3,e))}function zo(r,e){if(vE(r=Vt(r)))return mg("Unsupported field value:",e,r),yE(r,e);if(r instanceof jo)return function(s,o){if(!pE(o.hc))throw o.Vc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Vc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(s,o){const u=[];let d=0;for(const p of s){let m=zo(p,o.Rc(d));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),d++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Vt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return xx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=At.fromDate(s);return{timestampValue:Bh(o.serializer,u)}}if(s instanceof At){const u=new At(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Bh(o.serializer,u)}}if(s instanceof ug)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ro)return{bytesValue:kx(o.serializer,s._byteString)};if(s instanceof Cn){const u=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(u))throw o.Vc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:$m(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof cg)return function(d,p){return{mapValue:{fields:{[sx]:{stringValue:ax},[Uh]:{arrayValue:{values:d.toArray().map(g=>{if(typeof g!="number")throw p.Vc("VectorValues must only contain numeric values.");return Gm(p.serializer,g)})}}}}}}(s,o);throw o.Vc(`Unsupported field value: ${cd(s)}`)}(r,e)}function yE(r,e){const n={};return Jb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ts(r,(s,o)=>{const u=zo(o,e.Ic(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function vE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof At||r instanceof ug||r instanceof Ro||r instanceof Cn||r instanceof jo||r instanceof cg)}function mg(r,e,n){if(!vE(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=cd(n);throw s==="an object"?e.Vc(r+" a custom object"):e.Vc(r+" "+s)}}function pm(r,e,n){if((e=Vt(e))instanceof Lu)return e._internalPath;if(typeof e=="string")return gg(r,e);throw Gh("Field path arguments must be of type string or ",r,!1,void 0,n)}const PD=new RegExp("[~\\*/\\[\\]]");function gg(r,e,n){if(e.search(PD)>=0)throw Gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Lu(...e.split("."))._internalPath}catch{throw Gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Gh(r,e,n,s,o){const u=s&&!s.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||d)&&(m+=" (found",u&&(m+=` in field ${s}`),d&&(m+=` in document ${o}`),m+=")"),new pe(ie.INVALID_ARGUMENT,p+r+m)}function _E(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(md("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LD extends bE{data(){return super.data()}}function md(r,e){return typeof e=="string"?gg(r,e):e instanceof Lu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new pe(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yg{}class vg extends yg{}function Ft(r,e,...n){let s=[];e instanceof yg&&s.push(e),s=s.concat(n),function(u){const d=u.filter(m=>m instanceof _g).length,p=u.filter(m=>m instanceof gd).length;if(d>1||d>0&&p>0)throw new pe(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class gd extends vg{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new gd(e,n,s)}_apply(e){const n=this._parse(e);return xE(e._query,n),new ws(e.firestore,e.converter,rm(e._query,n))}_parse(e){const n=Uu(e.firestore);return function(u,d,p,m,g,b,S){let T;if(g.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new pe(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){I1(S,b);const M=[];for(const W of S)M.push(R1(m,u,W));T={arrayValue:{values:M}}}else T=R1(m,u,S)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||I1(S,b),T=VD(p,d,S,b==="in"||b==="not-in");return Ot.create(g,b,T)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function gn(r,e,n){const s=e,o=md("where",r);return gd._create(o,s,n)}class _g extends yg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new _g(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:vi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let d=o;const p=u.getFlattenedFilters();for(const m of p)xE(d,m),d=rm(d,m)}(e._query,n),new ws(e.firestore,e.converter,rm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bg extends vg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new bg(e,n)}_apply(e){const n=function(o,u,d){if(o.startAt!==null)throw new pe(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new pe(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vu(u,d)}(e._query,this._field,this._direction);return new ws(e.firestore,e.converter,function(o,u){const d=o.explicitOrderBy.concat([u]);return new Lo(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function A1(r,e="asc"){const n=e,s=md("orderBy",r);return bg._create(s,n)}class xg extends vg{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new xg(e,n,s)}_apply(e){return new ws(e.firestore,e.converter,zh(e._query,this._limit,this._limitType))}}function Gn(r){return RD("limit",r),xg._create("limit",r,"F")}function R1(r,e,n){if(typeof(n=Vt(n))=="string"){if(n==="")throw new pe(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!px(e)&&n.indexOf("/")!==-1)throw new pe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(dt.fromString(n));if(!Ee.isDocumentKey(s))throw new pe(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return B_(r,new Ee(s))}if(n instanceof Cn)return B_(r,n._key);throw new pe(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cd(n)}.`)}function I1(r,e){if(!Array.isArray(r)||r.length===0)throw new pe(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xE(r,e){const n=function(o,u){for(const d of o)for(const p of d.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new pe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class jD{convertValue(e,n="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ts(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Uh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>wt(d.doubleValue));return new cg(u)}convertGeoPoint(e){return new ug(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ed(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(mu(e));default:return null}}convertTimestamp(e){const n=gs(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=dt.fromString(e);Je(Lx(s),9688,{name:e});const o=new gu(s.get(1),s.get(3)),u=new Ee(s.popFirst(5));return o.isEqual(n)||Tr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class EE extends bE{constructor(e,n,s,o,u,d){super(e,n,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(md("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Ah extends EE{data(e={}){return super.data(e)}}class zD{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new iu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Ah(this._firestore,this._userDataWriter,s.key,s,new iu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(p=>{const m=new Ah(o._firestore,o._userDataWriter,p.doc.key,p.doc,new iu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||p.type!==3).map(p=>{const m=new Ah(o._firestore,o._userDataWriter,p.doc.key,p.doc,new iu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,b=-1;return p.type!==0&&(g=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:BD(p.type),doc:m,oldIndex:g,newIndex:b}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function BD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(r){r=ui(r,Cn);const e=ui(r.firestore,As);return SD(dd(e),r._key).then(n=>HD(e,r,n))}class TE extends jD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ro(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,n)}}function Rn(r){r=ui(r,ws);const e=ui(r.firestore,As),n=dd(e),s=new TE(e);return UD(r._query),wD(n,r._query).then(o=>new zD(e,s,r,o))}function _r(r,e,n){r=ui(r,Cn);const s=ui(r.firestore,As),o=Eg(r.converter,e,n);return ju(s,[hg(Uu(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,In.none())])}function vn(r,e,n,...s){r=ui(r,Cn);const o=ui(r.firestore,As),u=Uu(o);let d;return d=typeof(e=Vt(e))=="string"||e instanceof Lu?gE(u,"updateDoc",r._key,e,n,s):mE(u,"updateDoc",r._key,e),ju(o,[d.toMutation(r._key,In.exists(!0))])}function la(r){return ju(ui(r.firestore,As),[new sd(r._key,In.none())])}function qD(r,e){const n=ui(r.firestore,As),s=Ae(r),o=Eg(r.converter,e);return ju(n,[hg(Uu(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,In.exists(!1))]).then(()=>s)}function ju(r,e){return function(s,o){const u=new vr;return s.asyncQueue.enqueueAndForget(async()=>dD(await TD(s),o,u)),u.promise}(dd(r),e)}function HD(r,e,n){const s=n.docs.get(e._key),o=new TE(r);return new EE(r,o,e._key,s,new iu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Uu(e)}set(e,n,s){this._verifyNotCommitted();const o=Pp(e,this._firestore),u=Eg(o.converter,n,s),d=hg(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(d.toMutation(o._key,In.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=Pp(e,this._firestore);let d;return d=typeof(n=Vt(n))=="string"||n instanceof Lu?gE(this._dataReader,"WriteBatch.update",u._key,n,s,o):mE(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(d.toMutation(u._key,In.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Pp(e,this._firestore);return this._mutations=this._mutations.concat(new sd(n._key,In.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new pe(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Pp(r,e){if((r=Vt(r)).firestore!==e)throw new pe(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function Ht(){return new dg("serverTimestamp")}function yo(...r){return new fg("arrayRemove",r)}function ai(r){return new pg("increment",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(r){return dd(r=ui(r,As)),new FD(r,e=>ju(r,e))}(function(e,n=!0){(function(o){Oo=o})(Mo),_o(new ua("firestore",(s,{instanceIdentifier:o,options:u})=>{const d=s.getProvider("app").getImmediate(),p=new As(new LI(s.getProvider("auth-internal")),new zI(d,s.getProvider("app-check-internal")),function(g,b){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(g.options.projectId,b)}(d,o),d);return u=Object.assign({useFetchStreams:n},u),p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),hs(C_,D_,e),hs(C_,D_,"esm2017")})();const WD={apiKey:"AIzaSyCIiJ6fcxIz6-hdDAGzVOLZnW1XMcYjmEs",authDomain:"rideon-3597d.firebaseapp.com",databaseURL:void 0,projectId:"rideon-3597d",storageBucket:"rideon-3597d.firebasestorage.app",messagingSenderId:"315144086927",appId:"1:315144086927:web:28c98c436aae680cea97fa"},SE=rb(WD),Eu=Xp(SE),ge=CD(SE),wE=P.createContext();function Bo(){return P.useContext(wE)}function YD({children:r}){const[e,n]=P.useState(null),[s,o]=P.useState(!0);P.useEffect(()=>bR(Eu,m=>{n(m),o(!1)}),[]);const d={currentUser:e,logout:()=>xR(Eu)};return v.jsx(wE.Provider,{value:d,children:!s&&r})}/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$D=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),C1=r=>{const e=$D(r);return e.charAt(0).toUpperCase()+e.slice(1)},AE=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),KD=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=P.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:d,...p},m)=>P.createElement("svg",{ref:m,...XD,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:AE("lucide",o),...!u&&!KD(p)&&{"aria-hidden":"true"},...p},[...d.map(([g,b])=>P.createElement(g,b)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=(r,e)=>{const n=P.forwardRef(({className:s,...o},u)=>P.createElement(ZD,{ref:u,iconNode:e,className:AE(`lucide-${QD(C1(r))}`,`lucide-${r}`,s),...o}));return n.displayName=C1(r),n};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],e3=Pt("arrow-left",JD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]],Tg=Pt("bike",t3);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],i3=Pt("calendar",n3);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],s3=Pt("camera",r3);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],RE=Pt("check",a3);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Io=Pt("circle-alert",o3);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],os=Pt("crown",l3);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],c3=Pt("hash",u3);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],mm=Pt("lock",h3);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],yd=Pt("mail",d3);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],p3=Pt("settings",f3);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ns=Pt("shield",m3);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],y3=Pt("trash-2",g3);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],_3=Pt("trending-up",v3);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],x3=Pt("trophy",b3);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],T3=Pt("upload",E3);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],gm=Pt("user-plus",S3);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],IE=Pt("user",w3);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],vo=Pt("users",A3);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ym=Pt("x",R3),Sg=({size:r=48,className:e="",style:n={},alt:s="RideOn Logo"})=>v.jsxs("div",{style:{display:"flex",justifyContent:"center",...n},children:[v.jsx("img",{src:"/rideon-logo.png",alt:s,className:e,style:{height:r,width:"auto",maxWidth:"100%",objectFit:"contain"},onError:o=>{o.target.style.display="none",o.target.nextElementSibling&&(o.target.nextElementSibling.style.display="block")}}),v.jsx(Tg,{style:{display:"none",height:"48px",width:"48px",color:"#ffc020"}})]}),I3=()=>{const[r,e]=P.useState(""),[n,s]=P.useState(""),[o,u]=P.useState(""),[d,p]=P.useState(!1),m=Su(),g=async b=>{if(b.preventDefault(),!r||!n){u("Please fill in all fields");return}p(!0),u("");try{await yR(Eu,r,n),m("/dashboard")}catch{u("Failed to sign in. Please check your credentials.")}p(!1)};return v.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #0c1e34 0%, #033c59 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:v.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)",padding:"40px",width:"100%",maxWidth:"400px",border:"1px solid #005479"},children:[v.jsxs("div",{style:{textAlign:"center",marginBottom:"32px"},children:[v.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"16px"},children:v.jsx(Sg,{size:64,style:{maxWidth:"200px"}})}),v.jsx("h1",{style:{fontSize:"28px",fontWeight:"bold",color:"#ffc020",margin:"0 0 8px 0"}}),v.jsx("p",{style:{color:"#b4bdc2",margin:0,fontSize:"16px"},children:"Track miles, build teams, ride together"})]}),v.jsxs("form",{onSubmit:g,style:{marginBottom:"24px"},children:[o&&v.jsxs("div",{style:{background:"#0c1e34",color:"#ffc020",padding:"12px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px",display:"flex",alignItems:"center",border:"1px solid #005479"},children:[v.jsx(Io,{style:{height:"16px",width:"16px",marginRight:"8px"}}),v.jsx("span",{children:o})]}),v.jsxs("div",{style:{marginBottom:"20px"},children:[v.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#ffc020",marginBottom:"8px"},children:"Email Address"}),v.jsxs("div",{style:{position:"relative"},children:[v.jsx(yd,{style:{position:"absolute",left:"12px",top:"16px",height:"20px",width:"20px",color:"#b4bdc2"}}),v.jsx("input",{type:"email",value:r,onChange:b=>e(b.target.value),placeholder:"Enter your email",required:!0,style:{width:"100%",paddingLeft:"44px",paddingRight:"16px",paddingTop:"16px",paddingBottom:"16px",border:"2px solid #005479",borderRadius:"12px",background:"#0c1e34",color:"#b4bdc2",fontSize:"16px",fontWeight:"500",outline:"none",transition:"all 0.3s ease",boxSizing:"border-box"},onFocus:b=>{b.target.style.borderColor="#f5a302",b.target.style.boxShadow="0 0 0 3px rgba(245, 163, 2, 0.1)"},onBlur:b=>{b.target.style.borderColor="#005479",b.target.style.boxShadow="none"}})]})]}),v.jsxs("div",{style:{marginBottom:"24px"},children:[v.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#ffc020",marginBottom:"8px"},children:"Password"}),v.jsxs("div",{style:{position:"relative"},children:[v.jsx(mm,{style:{position:"absolute",left:"12px",top:"16px",height:"20px",width:"20px",color:"#b4bdc2"}}),v.jsx("input",{type:"password",value:n,onChange:b=>s(b.target.value),placeholder:"Enter your password",required:!0,style:{width:"100%",paddingLeft:"44px",paddingRight:"16px",paddingTop:"16px",paddingBottom:"16px",border:"2px solid #005479",borderRadius:"12px",background:"#0c1e34",color:"#b4bdc2",fontSize:"16px",fontWeight:"500",outline:"none",transition:"all 0.3s ease",boxSizing:"border-box"},onFocus:b=>{b.target.style.borderColor="#f5a302",b.target.style.boxShadow="0 0 0 3px rgba(245, 163, 2, 0.1)"},onBlur:b=>{b.target.style.borderColor="#005479",b.target.style.boxShadow="none"}})]})]}),v.jsx("button",{type:"submit",disabled:d,style:{width:"100%",background:d?"#005479":"linear-gradient(135deg, #f5a302, #ffc020)",color:d?"#b4bdc2":"#0c1e34",padding:"16px",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:"700",cursor:d?"not-allowed":"pointer",transition:"all 0.3s ease",boxShadow:d?"none":"0 4px 12px rgba(245, 163, 2, 0.3)",outline:"none"},onMouseEnter:b=>{d||(b.target.style.transform="translateY(-2px)",b.target.style.boxShadow="0 6px 20px rgba(245, 163, 2, 0.4)")},onMouseLeave:b=>{d||(b.target.style.transform="translateY(0)",b.target.style.boxShadow="0 4px 12px rgba(245, 163, 2, 0.3)")},children:d?"Signing In...":"Sign In"})]}),v.jsx("div",{style:{textAlign:"center"},children:v.jsxs("p",{style:{fontSize:"14px",color:"#b4bdc2",margin:"0 0 8px 0"},children:["Received and invite to RideOn?"," ",v.jsx("button",{onClick:()=>m("/register"),style:{background:"none",border:"none",color:"#ffc020",textDecoration:"underline",cursor:"pointer",fontSize:"14px",fontWeight:"600",padding:0,outline:"none"},onMouseEnter:b=>{b.target.style.color="#f5a302"},onMouseLeave:b=>{b.target.style.color="#ffc020"},children:"Register your account"})]})})]})})},ln=[];for(let r=0;r<256;++r)ln.push((r+256).toString(16).slice(1));function C3(r,e=0){return(ln[r[e+0]]+ln[r[e+1]]+ln[r[e+2]]+ln[r[e+3]]+"-"+ln[r[e+4]]+ln[r[e+5]]+"-"+ln[r[e+6]]+ln[r[e+7]]+"-"+ln[r[e+8]]+ln[r[e+9]]+"-"+ln[r[e+10]]+ln[r[e+11]]+ln[r[e+12]]+ln[r[e+13]]+ln[r[e+14]]+ln[r[e+15]]).toLowerCase()}let Lp;const D3=new Uint8Array(16);function k3(){if(!Lp){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Lp=crypto.getRandomValues.bind(crypto)}return Lp(D3)}const M3=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),D1={randomUUID:M3};function k1(r,e,n){var o;if(D1.randomUUID&&!r)return D1.randomUUID();r=r||{};const s=r.random??((o=r.rng)==null?void 0:o.call(r))??k3();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,C3(s)}const N3=()=>{const[r]=D2(),[e,n]=P.useState({email:r.get("email")||"",password:"",confirmPassword:"",userName:"",teamName:""}),[s,o]=P.useState(r.get("team")||""),[u,d]=P.useState(r.get("admin")==="true"),[p,m]=P.useState(r.get("appadmin")==="true"),[g,b]=P.useState(null),[S,T]=P.useState(""),[N,M]=P.useState(!1),[W,B]=P.useState(!1),[q,Z]=P.useState(null),[Y,ue]=P.useState(""),le=Su();P.useEffect(()=>{e.email.trim()&&O(e.email.trim())},[]);const de=j=>j?j.length<3?"Username must be at least 3 characters long":j.length>20?"Username must be 20 characters or less":j.includes(" ")?"Username cannot contain spaces":/^[a-zA-Z0-9_-]+$/.test(j)?j.startsWith("_")||j.startsWith("-")||j.endsWith("_")||j.endsWith("-")?"Username cannot start or end with underscores or hyphens":"":"Username can only contain letters, numbers, underscores, and hyphens":"",k=j=>{const{name:oe,value:fe}=j.target;if(n(K=>({...K,[oe]:fe})),oe==="userName"){Z(null);const K=de(fe);ue(K)}},A=async j=>{if(!j||j.length<3){Z(null);return}const oe=de(j);if(oe){ue(oe),Z(null);return}B(!0);try{const fe=await On(Ae(ge,"usernames",j.toLowerCase()));Z(!fe.exists()),fe.exists()}catch{Z(!0)}B(!1)},R=()=>{e.userName.trim()&&A(e.userName.trim())},O=async j=>{if(!j||!j.includes("@")){b(null);return}try{const oe=await On(Ae(ge,"invitationsPublicView",j.toLowerCase()));if(!oe.exists())return T("This email has not been invited to join. Please contact an administrator."),b(null),!1;const fe=oe.data(),K=new Date,I=fe.expiresAt.toDate?fe.expiresAt.toDate():new Date(fe.expiresAt);return K>I?(T("This invitation has expired. Please request a new invitation."),b(null),!1):fe.used?(T("This invitation has already been used."),b(null),!1):(T(""),b(fe),!0)}catch{return T("Error validating invitation. Please try again."),b(null),!1}},V=()=>{e.email.trim()&&O(e.email.trim())},U=()=>{if(!e.email.trim())return T("Email is required")||!1;if(!g)return T("Please enter a valid invited email address")||!1;if(!e.userName.trim())return T("Username is required")||!1;const j=de(e.userName.trim());return j?T(j)||!1:q===!1?T("Username taken")||!1:e.password?e.password!==e.confirmPassword?T("Passwords do not match")||!1:e.password.length<6?T("Password too short")||!1:(u||p)&&!e.teamName.trim()?T("Team name is required")||!1:!0:T("Password required")||!1},D=async j=>{if(j.preventDefault(),!!U()){M(!0),T("");try{if(!g)throw new Error("Please validate your email invitation first.");if((await On(Ae(ge,"usernames",e.userName.trim().toLowerCase()))).exists())throw new Error("This username is already taken.");const K=(await gR(Eu,e.email,e.password)).user;await new Promise(De=>{const qe=Eu.onAuthStateChanged(rt=>{rt&&rt.uid===K.uid&&(qe(),De())})}),await K.getIdToken(!0);const I=await K.getIdTokenResult(),J=await On(Ae(ge,"invitations",e.email.toLowerCase()));if(!J.exists())throw new Error("This email has not been invited.");const te=J.data(),ae=new Date,he=te.expiresAt.toDate?te.expiresAt.toDate():new Date(te.expiresAt);if(ae>he)throw new Error("This invitation has expired.");if(te.used)throw new Error("This invitation has already been used.");let xe,me,et;if(te.isAppAdminInvite||te.role==="admin"){et={name:e.teamName.trim(),description:"Application administrators team",adminIds:[K.uid],memberIds:[K.uid],memberCount:1,totalMiles:0,totalRides:0,createdAt:Ht(),createdBy:K.uid,isActive:!0,weeklyMiles:0,monthlyMiles:0,lastUpdated:Ht()};const De=k1();me=Ae(ge,"teams",De),xe={userId:K.uid,userName:e.userName.trim(),email:K.email,role:"admin",teamId:me.id,teamName:e.teamName.trim(),createdAt:Ht(),totalMiles:0,joinedTeamAt:Ht()}}else if(te.isTeamAdminInvite||te.role==="team_admin"){et={name:e.teamName.trim(),description:"A new cycling team",adminIds:[K.uid],memberIds:[K.uid],memberCount:1,totalMiles:0,totalRides:0,createdAt:Ht(),createdBy:K.uid,isActive:!0,weeklyMiles:0,monthlyMiles:0,lastUpdated:Ht()};const De=k1();me=Ae(ge,"teams",De),xe={userId:K.uid,userName:e.userName.trim(),email:K.email,role:"team_admin",teamId:me.id,teamName:e.teamName.trim(),createdAt:Ht(),totalMiles:0,joinedTeamAt:Ht()}}else{const De=await On(Ae(ge,"teams",te.teamId));if(!De.exists()){T("The team for this invitation no longer exists. Please contact support."),M(!1);return}const qe=De.data();xe={userId:K.uid,userName:e.userName.trim(),email:K.email,role:te.role||"user",teamId:te.teamId,teamName:qe.name,createdAt:Ht(),totalMiles:0,joinedTeamAt:Ht()}}try{me&&et&&await _r(me,et);const De=Ae(ge,"users",K.uid);await _r(De,xe);const qe=Ae(ge,"usernames",e.userName.trim().toLowerCase());await _r(qe,{userId:K.uid,createdAt:Ht()});const rt=Ae(ge,"invitations",e.email.toLowerCase());if(await vn(rt,{used:!0,usedAt:Ht()}),!me&&te.teamId){const vt=await On(Ae(ge,"teams",te.teamId));if(vt.exists()){const Wt=[...vt.data().memberIds,K.uid];await vn(Ae(ge,"teams",te.teamId),{memberIds:Wt,memberCount:Wt.length,lastUpdated:Ht()})}}}catch(De){try{me&&await la(me),await la(Ae(ge,"users",K.uid)),await la(Ae(ge,"usernames",e.userName.trim().toLowerCase()))}catch{}throw De}try{await la(Ae(ge,"invitationsPublicView",e.email.toLowerCase()))}catch{}le("/dashboard")}catch(oe){oe.code==="auth/email-already-in-use"?T("An account with this email already exists."):oe.code==="auth/weak-password"?T("Password is too weak. Please choose a stronger password (min 6 characters)."):oe.code==="auth/invalid-email"?T("Please enter a valid email address."):oe.code==="auth/operation-not-allowed"?T("Email/password accounts are not enabled. Please contact support."):oe.message.includes("invitation")?T(oe.message):T(`Failed to create account: ${oe.message}`)}M(!1)}},Ye={width:"100%",paddingLeft:"44px",paddingRight:"16px",paddingTop:"16px",paddingBottom:"16px",border:"2px solid #005479",borderRadius:"12px",background:"#0c1e34",color:"#b4bdc2",fontSize:"16px",fontWeight:"500",outline:"none",transition:"all 0.3s ease",boxSizing:"border-box"},it=()=>{let j="#005479";return Y?j="#ef4444":W?j="#f5a302":q===!0?j="#22c55e":q===!1&&(j="#ef4444"),{...Ye,borderColor:j}};return v.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #0c1e34 0%, #033c59 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:v.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)",padding:"40px",width:"100%",maxWidth:"450px",border:"1px solid #005479"},children:[v.jsxs("div",{style:{textAlign:"center",marginBottom:"32px"},children:[v.jsx(Sg,{size:48,style:{marginBottom:"16px"}}),v.jsx("h1",{style:{fontSize:"28px",fontWeight:"bold",color:"#ffc020",margin:"0 0 8px 0"},children:"Join RideOn"}),s?v.jsxs("div",{children:[v.jsx("p",{style:{color:"#ffc020",margin:"0 0 4px 0",fontSize:"16px",fontWeight:"600"},children:"You've been invited to join:"}),v.jsx("p",{style:{color:"#f5a302",margin:"0 0 8px 0",fontSize:"18px",fontWeight:"700"},children:s}),v.jsx("p",{style:{color:"#b4bdc2",margin:0,fontSize:"14px"},children:"Complete your registration to start tracking miles"})]}):p?v.jsxs("div",{children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginBottom:"8px"},children:[v.jsx(ns,{style:{color:"#ef4444"},size:20}),v.jsx("p",{style:{color:"#ef4444",margin:0,fontSize:"16px",fontWeight:"600"},children:"App Admin Invitation"})]}),v.jsx("p",{style:{color:"#b4bdc2",margin:0,fontSize:"14px",textAlign:"center"},children:"You'll have full system administration access"})]}):u?v.jsxs("div",{children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginBottom:"8px"},children:[v.jsx(os,{style:{color:"#ffc020"},size:20}),v.jsx("p",{style:{color:"#ffc020",margin:0,fontSize:"16px",fontWeight:"600"},children:"Team Admin Invitation"})]}),v.jsx("p",{style:{color:"#b4bdc2",margin:0,fontSize:"14px",textAlign:"center"},children:"You'll be able to create and manage your own team"})]}):v.jsx("p",{style:{color:"#b4bdc2",margin:0,fontSize:"16px"},children:"Create your account with your team invitation"})]}),v.jsxs("form",{onSubmit:D,style:{marginBottom:"24px"},children:[S&&v.jsxs("div",{style:{background:"#0c1e34",color:"#ffc020",padding:"12px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px",display:"flex",alignItems:"center",border:"1px solid #005479"},children:[v.jsx(Io,{style:{height:"16px",width:"16px",marginRight:"8px"}}),v.jsx("span",{children:S})]}),v.jsxs("div",{style:{marginBottom:"20px"},children:[v.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#ffc020",marginBottom:"8px"},children:"Email Address"}),v.jsxs("div",{style:{position:"relative"},children:[v.jsx(yd,{style:{position:"absolute",left:"12px",top:"16px",height:"20px",width:"20px",color:"#b4bdc2"}}),v.jsx("input",{type:"email",name:"email",value:e.email,onChange:k,onBlur:V,placeholder:"Enter your invited email",required:!0,style:Ye,onFocus:j=>{j.target.style.borderColor="#f5a302",j.target.style.boxShadow="0 0 0 3px rgba(245, 163, 2, 0.1)"}})]}),v.jsx("p",{style:{fontSize:"12px",color:"#b4bdc2",margin:"4px 0 0 0",opacity:.8},children:"Use the email address that received the team invitation"})]}),(p||u)&&v.jsxs("div",{style:{marginBottom:"20px"},children:[v.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#ffc020",marginBottom:"8px"},children:"Team Name"}),v.jsxs("div",{style:{position:"relative"},children:[v.jsx(vo,{style:{position:"absolute",left:"12px",top:"16px",height:"20px",width:"20px",color:"#b4bdc2"}}),v.jsx("input",{type:"text",name:"teamName",value:e.teamName,onChange:k,placeholder:"Name your team",required:!0,style:{width:"100%",paddingLeft:"44px",paddingRight:"16px",paddingTop:"16px",paddingBottom:"16px",border:"2px solid #005479",borderRadius:"12px",background:"#0c1e34",color:"#b4bdc2",fontSize:"16px",fontWeight:"500",outline:"none",transition:"all 0.3s ease",boxSizing:"border-box"}})]}),v.jsx("p",{style:{fontSize:"12px",color:"#b4bdc2",margin:"4px 0 0 0",opacity:.8},children:"Your team name will be visible in rankings and dashboards."})]}),v.jsxs("div",{style:{marginBottom:"20px"},children:[v.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#ffc020",marginBottom:"8px"},children:"Username"}),v.jsxs("div",{style:{position:"relative"},children:[v.jsx(IE,{style:{position:"absolute",left:"12px",top:"16px",height:"20px",width:"20px",color:"#b4bdc2"}}),v.jsx("input",{type:"text",name:"userName",value:e.userName,onChange:k,onBlur:R,placeholder:"Choose a display name",required:!0,style:it(),onFocus:j=>{!W&&q!==!1&&!Y&&(j.target.style.borderColor="#f5a302",j.target.style.boxShadow="0 0 0 3px rgba(245, 163, 2, 0.1)")}}),W&&v.jsx("div",{style:{position:"absolute",right:"12px",top:"18px",fontSize:"12px",color:"#f5a302"},children:"Checking..."}),!Y&&q===!0&&v.jsx("div",{style:{position:"absolute",right:"12px",top:"18px",fontSize:"12px",color:"#22c55e",fontWeight:"600"},children:" Available"}),(Y||q===!1)&&v.jsxs("div",{style:{position:"absolute",right:"12px",top:"18px",fontSize:"12px",color:"#ef4444",fontWeight:"600"},children:[" ",Y?"Invalid":"Taken"]})]}),Y&&v.jsx("p",{style:{fontSize:"12px",color:"#ef4444",margin:"4px 0 0 0",fontWeight:"500"},children:Y}),v.jsx("p",{style:{fontSize:"12px",color:"#b4bdc2",margin:"4px 0 0 0",opacity:.8},children:"3-20 characters, letters/numbers/underscores/hyphens only, no spaces"})]}),v.jsxs("div",{style:{marginBottom:"20px"},children:[v.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#ffc020",marginBottom:"8px"},children:"Password"}),v.jsxs("div",{style:{position:"relative"},children:[v.jsx(mm,{style:{position:"absolute",left:"12px",top:"16px",height:"20px",width:"20px",color:"#b4bdc2"}}),v.jsx("input",{type:"password",name:"password",value:e.password,onChange:k,placeholder:"Create a secure password",required:!0,style:Ye,onFocus:j=>{j.target.style.borderColor="#f5a302",j.target.style.boxShadow="0 0 0 3px rgba(245, 163, 2, 0.1)"},onBlur:j=>{j.target.style.borderColor="#005479",j.target.style.boxShadow="none"}})]})]}),v.jsxs("div",{style:{marginBottom:"24px"},children:[v.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#ffc020",marginBottom:"8px"},children:"Confirm Password"}),v.jsxs("div",{style:{position:"relative"},children:[v.jsx(mm,{style:{position:"absolute",left:"12px",top:"16px",height:"20px",width:"20px",color:"#b4bdc2"}}),v.jsx("input",{type:"password",name:"confirmPassword",value:e.confirmPassword,onChange:k,placeholder:"Confirm your password",required:!0,style:Ye,onFocus:j=>{j.target.style.borderColor="#f5a302",j.target.style.boxShadow="0 0 0 3px rgba(245, 163, 2, 0.1)"},onBlur:j=>{j.target.style.borderColor="#005479",j.target.style.boxShadow="none"}})]})]}),v.jsx("button",{type:"submit",disabled:N||W||q===!1||Y,style:{width:"100%",background:N||W||q===!1||Y?"#005479":"linear-gradient(135deg, #f5a302, #ffc020)",color:N||W||q===!1||Y?"#b4bdc2":"#0c1e34",padding:"16px",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:"700",cursor:N||W||q===!1||Y?"not-allowed":"pointer",transition:"all 0.3s ease",boxShadow:N||W||q===!1||Y?"none":"0 4px 12px rgba(245, 163, 2, 0.3)",outline:"none"},onMouseEnter:j=>{!N&&!W&&q!==!1&&!Y&&(j.target.style.transform="translateY(-2px)",j.target.style.boxShadow="0 6px 20px rgba(245, 163, 2, 0.4)")},onMouseLeave:j=>{!N&&!W&&q!==!1&&!Y&&(j.target.style.transform="translateY(0)",j.target.style.boxShadow="0 4px 12px rgba(245, 163, 2, 0.3)")},children:N?"Creating Account...":W?"Checking Username...":"Create Account"})]}),v.jsxs("div",{style:{textAlign:"center"},children:[v.jsxs("p",{style:{fontSize:"14px",color:"#b4bdc2",margin:"0 0 8px 0"},children:["Already have an account?"," ",v.jsx("button",{onClick:()=>le("/login"),style:{background:"none",border:"none",color:"#ffc020",textDecoration:"underline",cursor:"pointer",fontSize:"14px",fontWeight:"600",padding:0,outline:"none"},onMouseEnter:j=>{j.target.style.color="#f5a302"},onMouseLeave:j=>{j.target.style.color="#ffc020"},children:"Sign in"})]}),v.jsx("p",{style:{fontSize:"12px",color:"#b4bdc2",margin:0,opacity:.7},children:"Need an invitation? Contact your team administrator"})]})]})})};function O3(){const{currentUser:r}=Bo(),[e,n]=P.useState(""),[s,o]=P.useState(new Date().toISOString().split("T")[0]),[u,d]=P.useState(""),[p,m]=P.useState(!1),[g,b]=P.useState(!1),[S,T]=P.useState(null),[N,M]=P.useState(!0);P.useEffect(()=>{r&&(async()=>{try{const Z=await On(Ae(ge,"users",r.uid));Z.exists()&&T(Z.data())}catch{}M(!1)})()},[r]);const W=()=>{const q=new Date,Z=q.getDay(),Y=Z===0?6:Z-1,ue=new Date(q);ue.setDate(q.getDate()-Y),ue.setHours(0,0,0,0);const le=ue.getFullYear(),de=Math.ceil((ue-new Date(le,0,1))/(7*24*60*60*1e3));return`${le}-W${de.toString().padStart(2,"0")}`},B=async q=>{if(q.preventDefault(),!S){alert("Unable to log miles: User profile not loaded");return}m(!0),b(!1);try{const Z=parseFloat(e),Y=W(),ue={userId:r.uid,userName:S.userName,userEmail:r.email,teamId:S.teamId,teamName:S.teamName,miles:Z,date:s,location:"",notes:u,createdAt:Ht()};console.log("Attempting to log miles...",{userId:r.uid,userName:S.userName,userEmail:r.email,teamId:S.teamId,teamName:S.teamName,miles:Z,date:s,notes:u});let le;try{le=await qD(Nt(ge,"mileLogs"),ue)}catch(de){throw de}try{await vn(Ae(ge,"users",r.uid),{totalMiles:ai(Z),totalRides:ai(1)})}catch{}if(S.teamId)try{await vn(Ae(ge,"teams",S.teamId),{totalMiles:ai(Z),totalRides:ai(1),lastUpdated:Ht()})}catch{}try{await _r(Ae(ge,"weeklyStats",`${r.uid}-${Y}`),{userId:r.uid,userName:S.userName,teamId:S.teamId,teamName:S.teamName,weekId:Y,weeklyMiles:ai(Z),weeklyRides:ai(1),lastUpdated:Ht()},{merge:!0})}catch{}if(S.teamId)try{await _r(Ae(ge,"weeklyTeamStats",`${S.teamId}-${Y}`),{teamId:S.teamId,teamName:S.teamName,weekId:Y,weeklyMiles:ai(Z),weeklyRides:ai(1),memberCount:S.memberCount||1,lastUpdated:Ht()},{merge:!0})}catch{}n(""),d(""),b(!0),setTimeout(()=>b(!1),3e3)}catch(Z){console.error("Error logging miles:",Z),alert("Error logging miles: "+Z.message)}m(!1)};return N?v.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"40px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"500px",margin:"0 auto",border:"1px solid #005479"},children:[v.jsx("h2",{style:{fontSize:"28px",fontWeight:"600",color:"#ffc020",margin:"0 0 16px 0",textAlign:"center"},children:"Log Your Miles"}),v.jsx("p",{style:{textAlign:"center",color:"#b4bdc2",fontSize:"16px"},children:"Loading..."})]}):v.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"40px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"500px",margin:"0 auto",border:"1px solid #005479"},children:[v.jsx("h2",{style:{fontSize:"28px",fontWeight:"600",color:"#ffc020",margin:"0 0 32px 0",textAlign:"center"},children:"Log Your Miles"}),S&&v.jsxs("div",{style:{background:"#0c1e34",padding:"16px",borderRadius:"12px",marginBottom:"24px",textAlign:"center",border:"1px solid #005479"},children:[v.jsxs("div",{style:{fontSize:"16px",fontWeight:"600",color:"#ffc020",marginBottom:"4px"},children:["Riding for ",S.teamName]}),v.jsxs("div",{style:{fontSize:"14px",color:"#b4bdc2"},children:["Logged as ",S.userName]})]}),v.jsxs("form",{onSubmit:B,children:[v.jsxs("div",{style:{marginBottom:"24px"},children:[v.jsx("label",{style:{display:"block",fontSize:"16px",fontWeight:"600",color:"#ffc020",marginBottom:"8px"},children:"Miles *"}),v.jsx("input",{type:"number",step:"0.1",min:"0",max:"1000",value:e,onChange:q=>n(q.target.value),required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"2px solid #005479",background:"#0c1e34",color:"#fff",fontSize:"16px",outline:"none",transition:"border-color 0.3s ease"},onFocus:q=>{q.target.style.borderColor="#ffc020"},onBlur:q=>{q.target.style.borderColor="#005479"},placeholder:"Enter miles (e.g., 5.2)"})]}),v.jsxs("div",{style:{marginBottom:"24px"},children:[v.jsx("label",{style:{display:"block",fontSize:"16px",fontWeight:"600",color:"#ffc020",marginBottom:"8px"},children:"Date *"}),v.jsx("input",{type:"date",value:s,onChange:q=>o(q.target.value),required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"2px solid #005479",background:"#0c1e34",color:"#fff",fontSize:"16px",outline:"none",transition:"border-color 0.3s ease"},onFocus:q=>{q.target.style.borderColor="#ffc020"},onBlur:q=>{q.target.style.borderColor="#005479"}})]}),v.jsxs("div",{style:{marginBottom:"32px"},children:[v.jsx("label",{style:{display:"block",fontSize:"16px",fontWeight:"600",color:"#ffc020",marginBottom:"8px"},children:"Notes (Optional)"}),v.jsx("textarea",{value:u,onChange:q=>d(q.target.value),rows:"3",style:{width:"100%",padding:"12px",borderRadius:"8px",border:"2px solid #005479",background:"#0c1e34",color:"#fff",fontSize:"16px",outline:"none",transition:"border-color 0.3s ease",resize:"vertical",fontFamily:"inherit"},onFocus:q=>{q.target.style.borderColor="#ffc020"},onBlur:q=>{q.target.style.borderColor="#005479"},placeholder:"Route details, weather, or other notes..."})]}),v.jsx("button",{type:"submit",disabled:p||!e,style:{width:"100%",padding:"14px",background:p||!e?"#005479":"linear-gradient(135deg, #f5a302, #ffba41)",color:p||!e?"#b4bdc2":"#0c1e34",border:"none",borderRadius:"12px",fontSize:"18px",fontWeight:"700",cursor:p||!e?"not-allowed":"pointer",transition:"all 0.3s ease",boxShadow:p||!e?"none":"0 4px 12px rgba(245, 163, 2, 0.3)",outline:"none"},onMouseEnter:q=>{!p&&e&&(q.target.style.transform="translateY(-2px)",q.target.style.boxShadow="0 6px 20px rgba(245, 163, 2, 0.4)")},onMouseLeave:q=>{!p&&e&&(q.target.style.transform="translateY(0)",q.target.style.boxShadow="0 4px 12px rgba(245, 163, 2, 0.3)")},children:p?"Logging Miles...":"Log Miles"}),g&&v.jsx("div",{style:{marginTop:"16px",padding:"12px",background:"#0a4f3c",border:"1px solid #16a085",borderRadius:"8px",color:"#16a085",textAlign:"center",fontSize:"14px",fontWeight:"600"},children:" Miles logged successfully!"})]})]})}function V3(){const{currentUser:r}=Bo(),[e,n]=P.useState([]),[s,o]=P.useState(!0),[u,d]=P.useState(0);return P.useEffect(()=>{(async()=>{try{console.log("Fetching mile logs for user:",r.uid);const m=Ft(Nt(ge,"mileLogs"),gn("userId","==",r.uid)),g=await Rn(m);console.log("Query results:",g.size,"documents found");const b=[];let S=0;g.forEach(T=>{const N=T.data();console.log("Found log:",T.id,N),b.push({id:T.id,...N}),S+=N.miles}),b.sort((T,N)=>new Date(N.date)-new Date(T.date)),console.log("Total logs:",b.length,"Total miles:",S),n(b),d(S)}catch(m){console.error("Error fetching mile logs:",m),alert("Error loading rides: "+m.message)}o(!1)})()},[r.uid]),s?v.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"40px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"900px",margin:"0 auto",border:"1px solid #005479"},children:[v.jsx("h2",{style:{fontSize:"28px",fontWeight:"600",color:"#ffc020",margin:"0 0 16px 0",textAlign:"center"},children:"Your Mile History"}),v.jsx("p",{style:{textAlign:"center",color:"#b4bdc2",fontSize:"16px"},children:"Loading your rides..."})]}):v.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"40px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"900px",margin:"0 auto",border:"1px solid #005479"},children:[v.jsx("h2",{style:{fontSize:"28px",fontWeight:"600",color:"#ffc020",margin:"0 0 32px 0",textAlign:"center"},children:"Your Mile History"}),v.jsxs("div",{style:{background:"#0c1e34",padding:"24px",borderRadius:"12px",marginBottom:"32px",textAlign:"center",border:"1px solid #005479"},children:[v.jsxs("div",{style:{fontSize:"36px",fontWeight:"bold",color:"#ffc020"},children:[u.toFixed(1)," miles"]}),v.jsxs("div",{style:{color:"#b4bdc2",fontSize:"16px",fontWeight:"600",marginTop:"4px"},children:["Total miles logged  ",e.length," rides"]})]}),e.length===0?v.jsxs("div",{style:{textAlign:"center",color:"#b4bdc2",padding:"40px",background:"#0c1e34",borderRadius:"12px",border:"1px solid #005479"},children:[v.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),v.jsx("p",{style:{fontSize:"18px",fontWeight:"600",color:"#ffc020",margin:"0 0 8px 0"},children:"No rides logged yet!"}),v.jsx("p",{style:{margin:0,color:"#b4bdc2"},children:"Start by logging your first bike ride."})]}):v.jsx("div",{style:{display:"grid",gap:"16px"},children:e.map(p=>{var m,g,b;return v.jsxs("div",{style:{background:"#0c1e34",border:"1px solid #005479",borderRadius:"12px",padding:"20px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)",transition:"all 0.3s ease"},onMouseEnter:S=>{S.target.style.transform="translateY(-2px)",S.target.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.3)",S.target.style.borderColor="#f5a302"},onMouseLeave:S=>{S.target.style.transform="translateY(0)",S.target.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.2)",S.target.style.borderColor="#005479"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[v.jsxs("div",{children:[v.jsxs("div",{style:{fontSize:"24px",fontWeight:"700",color:"#ffc020",display:"flex",alignItems:"center",gap:"8px"},children:[" ",p.miles," miles"]}),v.jsx("div",{style:{fontSize:"14px",color:"#b4bdc2",fontWeight:"500",marginTop:"4px"},children:new Date(p.date+"T00:00:00").toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),v.jsx("div",{style:{fontSize:"12px",color:"#b4bdc2",background:"rgba(180, 189, 194, 0.1)",padding:"4px 8px",borderRadius:"6px",fontWeight:"500",opacity:.7},children:((b=(g=(m=p.createdAt)==null?void 0:m.toDate)==null?void 0:g.call(m))==null?void 0:b.toLocaleDateString())||"Recently"})]}),p.notes&&v.jsxs("div",{style:{fontSize:"14px",color:"#b4bdc2",background:"rgba(255, 192, 32, 0.1)",padding:"12px",borderRadius:"8px",marginTop:"12px",border:"1px solid rgba(255, 192, 32, 0.2)",fontStyle:"italic"},children:['"',p.notes,'"']})]},p.id)})})]})}const M1=!1;function CE({appAdminMode:r=!1,selectedTeam:e=null}){var Wt;const{currentUser:n}=Bo(),[s,o]=P.useState(null),[u,d]=P.useState(null),[p,m]=P.useState([]),[g,b]=P.useState([]),[S,T]=P.useState(!0),[N,M]=P.useState(""),[W,B]=P.useState(""),[q,Z]=P.useState(!1),[Y,ue]=P.useState(""),[le,de]=P.useState(""),[k,A]=P.useState(!1),[R,O]=P.useState(null),[V,U]=P.useState(null),[D,Ye]=P.useState(!1),[it,j]=P.useState(!1),[oe,fe]=P.useState(""),[K,I]=P.useState("user"),[J,te]=P.useState(!1);P.useEffect(()=>{r&&e?ae():he()},[n,r,e]);const ae=async()=>{try{T(!0);const Oe=await Xp().currentUser.getIdTokenResult(!0),Qe=await On(Ae(ge,"users",n.uid));if(!Qe.exists()){M("User profile not found");return}const we=Qe.data();if(o(we),we.role!=="admin"){M("You do not have permission to manage teams");return}d(e),ue(e.name),de(e.description),U(e.teamImage||null);const en=Ft(Nt(ge,"users"),gn("teamId","==",e.id)),Yt=await Rn(en),xt=[];Yt.forEach(Rt=>{xt.push({id:Rt.id,...Rt.data()})}),m(xt);let Lt;we.role==="admin"?Lt=Ft(Nt(ge,"invitations"),gn("used","==",!1),Gn(100)):Lt=Ft(Nt(ge,"invitations"),gn("teamId","==",we.teamId),gn("used","==",!1),Gn(100));const tn=await Rn(Lt),En=[];tn.forEach(Rt=>{const Yn=Rt.data(),ht=new Date(Yn.expiresAt);new Date<ht&&En.push({id:Rt.id,...Yn})}),b(En)}catch{M("Failed to load team data")}T(!1)},he=async()=>{try{T(!0);const Oe=await Xp().currentUser.getIdTokenResult(!0),Qe=await On(Ae(ge,"users",n.uid));if(!Qe.exists()){M("User profile not found");return}const we=Qe.data();if(o(we),we.role!=="team_admin"&&we.role!=="admin"){M("You do not have permission to manage teams");return}const en=await On(Ae(ge,"teams",we.teamId));if(!en.exists()){M("Team not found");return}const Yt=en.data();d({id:we.teamId,...Yt}),ue(Yt.name),de(Yt.description),U(Yt.teamImage||null);try{const xt=Ft(Nt(ge,"users"),gn("teamId","==",we.teamId)),Lt=await Rn(xt),tn=[];Lt.forEach(En=>{tn.push({id:En.id,...En.data()})}),m(tn)}catch(xt){throw xt}try{let xt;we.role==="admin"?xt=Ft(Nt(ge,"invitations"),gn("used","==",!1),Gn(100)):xt=Ft(Nt(ge,"invitations"),gn("teamId","==",we.teamId),gn("used","==",!1),Gn(100));const Lt=await Rn(xt),tn=[];Lt.forEach(En=>{const Rt=En.data();let Yn;Rt.expiresAt&&Rt.expiresAt.toDate?Yn=Rt.expiresAt.toDate():Rt.expiresAt&&Rt.expiresAt.seconds?Yn=new Date(Rt.expiresAt.seconds*1e3):Yn=new Date(Rt.expiresAt),new Date<Yn&&tn.push({id:En.id,...Rt})}),b(tn)}catch(xt){throw xt}}catch{M("Failed to load team data")}T(!1)},xe=async ve=>{ve.preventDefault(),A(!0),M(""),B("");try{const Oe={name:Y,description:le,lastUpdated:new Date().toISOString()};if(R){Ye(!0);const we=await vt(R);Oe.teamImage=we,Ye(!1)}await vn(Ae(ge,"teams",u.id),Oe);const Qe=p.map(we=>vn(Ae(ge,"users",we.id),{teamName:Y}));await Promise.all(Qe),d(we=>({...we,name:Y,description:le,teamImage:Oe.teamImage||we.teamImage})),B("Team updated successfully!"),Z(!1),O(null),setTimeout(()=>B(""),3e3)}catch{M("Failed to update team")}A(!1)},me=async ve=>{ve.preventDefault(),te(!0),M(""),B("");try{const Oe=oe.toLowerCase();try{if((await On(Ae(ge,"invitations",Oe))).exists()){M("This email has already been invited"),te(!1);return}}catch{}const Qe=Ft(Nt(ge,"users"),gn("email","==",oe));if(!(await Rn(Qe)).empty){M("A user with this email already exists"),te(!1);return}const en=At.fromDate(new Date(Date.now()+30*24*60*60*1e3)),Yt={email:oe,role:K,teamId:u.id,teamName:u.name,invitedBy:n.uid,inviterUserName:s.userName,createdAt:Ht(),expiresAt:en,used:!1,usedAt:null,isTeamAdminInvite:K==="team_admin",isAppAdminInvite:K==="admin"},xt={email:oe,expiresAt:en,used:!1};try{await _r(Ae(ge,"invitations",Oe),Yt),await _r(Ae(ge,"invitationsPublicView",Oe),xt)}catch(tn){throw tn.message.includes("invitationsPublicView")&&await la(Ae(ge,"invitations",Oe)),tn}const Lt=`${window.location.origin}/register?email=${encodeURIComponent(oe)}&team=${encodeURIComponent(u.name)}`;try{await navigator.clipboard.writeText(Lt),B(`Invitation created! Link copied to clipboard. Share this link: ${Lt}`)}catch{B(`Invitation created! Share this link: ${Lt}`)}j(!1),fe(""),I("user"),setTimeout(()=>B(""),3e3),r&&e?ae():he()}catch{M("Failed to send invitation")}te(!1)},et=async(ve,Oe)=>{if(confirm(`Are you sure you want to remove ${Oe} from the team?`))try{const Qe=p.find(we=>we.id===ve);await vn(Ae(ge,"teams",u.id),{memberIds:yo(ve),adminIds:yo(ve),memberCount:ai(-1),totalMiles:ai(-(Qe.totalMiles||0)),lastUpdated:new Date().toISOString()}),await vn(Ae(ge,"users",ve),{teamId:null,teamName:null,joinedTeamAt:null}),B(`${Oe} has been removed from the team`),setTimeout(()=>B(""),3e3),r&&e?ae():he()}catch{M("Failed to remove member")}},De=async(ve,Oe,Qe,we)=>{const en=we==="team_admin"?"Team Admin":"Team Member";if(confirm(`Are you sure you want to make ${Oe} a ${en}?`))try{await vn(Ae(ge,"users",ve),{role:we}),we==="team_admin"?await vn(Ae(ge,"teams",u.id),{adminIds:[...u.adminIds||[],ve],lastUpdated:new Date().toISOString()}):await vn(Ae(ge,"teams",u.id),{adminIds:yo(ve),lastUpdated:new Date().toISOString()}),B(`${Oe} is now a ${en}`),setTimeout(()=>B(""),3e3),r&&e?ae():he()}catch{M("Failed to update member role")}},qe=async ve=>{try{await la(Ae(ge,"invitations",ve)),B("Invitation cancelled"),setTimeout(()=>B(""),3e3),r&&e?ae():he()}catch{M("Failed to cancel invitation")}},rt=ve=>{const Oe=ve.target.files[0];if(Oe){if(!Oe.type.startsWith("image/")){M("Please select an image file");return}if(Oe.size>2*1024*1024){M("Image must be smaller than 2MB");return}O(Oe);const Qe=new FileReader;Qe.onload=we=>{U(we.target.result)},Qe.readAsDataURL(Oe)}},vt=ve=>new Promise((Oe,Qe)=>{const we=new FileReader;we.onload=()=>Oe(we.result),we.onerror=Qe,we.readAsDataURL(ve)}),xn=({size:ve=48})=>v.jsx("div",{style:{width:ve,height:ve,borderRadius:"12px",background:"linear-gradient(135deg, #f5a302, #ffc020)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(245, 163, 2, 0.3)"},children:v.jsx(Tg,{size:ve*.6,color:"#0c1e34",strokeWidth:2})});return S?v.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"40px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"1000px",margin:"0 auto",border:"1px solid #005479"},children:[v.jsx("h2",{style:{fontSize:"28px",fontWeight:"600",color:"#ffc020",margin:"0 0 16px 0",textAlign:"center"},children:"Team Management"}),v.jsx("p",{style:{textAlign:"center",color:"#b4bdc2",fontSize:"16px"},children:"Loading team data..."})]}):N&&!u?v.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"40px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"1000px",margin:"0 auto",border:"1px solid #005479"},children:[v.jsx("h2",{style:{fontSize:"28px",fontWeight:"600",color:"#ffc020",margin:"0 0 16px 0",textAlign:"center"},children:"Team Management"}),v.jsxs("div",{style:{background:"#0c1e34",color:"#ffc020",padding:"16px",borderRadius:"12px",fontSize:"14px",fontWeight:"600",textAlign:"center",border:"1px solid #005479"},children:[v.jsx(Io,{style:{height:"16px",width:"16px",marginRight:"8px",display:"inline"}}),N]})]}):v.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"40px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"1000px",margin:"0 auto",border:"1px solid #005479"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px"},children:[v.jsx("h2",{style:{fontSize:"28px",fontWeight:"600",color:"#ffc020",margin:0},children:r?`Managing: ${u==null?void 0:u.name}`:"Team Management"}),v.jsxs("div",{style:{display:"flex",gap:"12px"},children:[r&&v.jsxs("div",{style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",padding:"8px 12px",borderRadius:"6px",fontSize:"12px",color:"#ef4444",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px"},children:[v.jsx(ns,{size:14}),"App Admin Mode"]}),v.jsxs("button",{onClick:()=>Z(!0),style:{background:"linear-gradient(135deg, #f5a302, #ffc020)",color:"#0c1e34",padding:"10px 16px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[v.jsx(p3,{size:16}),"Edit Team"]}),v.jsxs("button",{onClick:()=>j(!0),style:{background:"linear-gradient(135deg, #f5a302, #ffc020)",color:"#0c1e34",padding:"10px 16px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[v.jsx(gm,{size:16}),"Invite Member"]})]})]}),W&&v.jsxs("div",{style:{background:"#0c1e34",color:"#ffc020",padding:"12px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px",fontWeight:"600",border:"1px solid #005479",display:"flex",alignItems:"center"},children:[v.jsx(RE,{size:16,style:{marginRight:"8px"}}),W]}),N&&v.jsxs("div",{style:{background:"#0c1e34",color:"#ef4444",padding:"12px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px",fontWeight:"600",border:"1px solid #005479",display:"flex",alignItems:"center"},children:[v.jsx(Io,{size:16,style:{marginRight:"8px"}}),N]}),v.jsxs("div",{style:{background:"#0c1e34",padding:"24px",borderRadius:"12px",marginBottom:"32px",border:"1px solid #005479"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px",marginBottom:"16px"},children:[u.teamImage?v.jsx("img",{src:u.teamImage,alt:`${u.name} logo`,style:{width:"64px",height:"64px",borderRadius:"12px",objectFit:"cover",border:"2px solid #005479"}}):v.jsx(xn,{size:64}),v.jsxs("div",{style:{flex:1},children:[v.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"24px",color:"#ffc020",fontWeight:"600"},children:u.name}),v.jsx("p",{style:{margin:"0",fontSize:"16px",color:"#b4bdc2"},children:u.description})]})]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"16px"},children:[v.jsxs("div",{style:{textAlign:"center"},children:[v.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#ffc020"},children:u.memberCount}),v.jsx("div",{style:{fontSize:"12px",color:"#b4bdc2",fontWeight:"600"},children:"Members"})]}),v.jsxs("div",{style:{textAlign:"center"},children:[v.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#ffc020"},children:((Wt=u.totalMiles)==null?void 0:Wt.toFixed(1))||"0.0"}),v.jsx("div",{style:{fontSize:"12px",color:"#b4bdc2",fontWeight:"600"},children:"Total Miles"})]}),v.jsxs("div",{style:{textAlign:"center"},children:[v.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#ffc020"},children:u.totalRides||0}),v.jsx("div",{style:{fontSize:"12px",color:"#b4bdc2",fontWeight:"600"},children:"Total Rides"})]})]})]}),v.jsxs("div",{style:{marginBottom:"32px"},children:[v.jsxs("h3",{style:{margin:"0 0 16px 0",fontSize:"20px",color:"#ffc020",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"},children:[v.jsx(vo,{size:20}),"Team Members (",p.length,")"]}),v.jsx("div",{style:{display:"grid",gap:"12px"},children:p.map(ve=>{var en,Yt;const Oe=ve.id===n.uid,Qe=(en=u.adminIds)==null?void 0:en.includes(ve.id),we=!Oe;return v.jsx("div",{style:{background:"#0c1e34",border:"1px solid #005479",borderRadius:"12px",padding:"16px"},children:v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[v.jsxs("div",{style:{flex:1},children:[v.jsxs("div",{style:{fontSize:"16px",fontWeight:"600",color:"#ffc020",display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[ve.userName,Qe&&v.jsx(os,{size:16,style:{color:"#f5a302"}}),Oe&&v.jsx("span",{style:{fontSize:"12px",color:"#b4bdc2",background:"rgba(180, 189, 194, 0.1)",padding:"2px 6px",borderRadius:"4px"},children:"(You)"})]}),v.jsx("div",{style:{fontSize:"14px",color:"#b4bdc2",marginBottom:"4px"},children:ve.email}),v.jsxs("div",{style:{fontSize:"12px",color:"#b4bdc2"},children:[((Yt=ve.totalMiles)==null?void 0:Yt.toFixed(1))||"0.0"," miles  ",Qe?"Team Admin":"Team Member"]})]}),we&&v.jsxs("div",{style:{display:"flex",gap:"8px",flexDirection:"column",alignItems:"flex-end"},children:[v.jsxs("button",{onClick:()=>De(ve.id,ve.userName,ve.role,Qe?"user":"team_admin"),style:{background:Qe?"linear-gradient(135deg, #f5a302, #ffc020)":"linear-gradient(135deg, #22c55e, #16a34a)",color:"#0c1e34",padding:"6px 12px",border:"none",borderRadius:"6px",fontSize:"11px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",whiteSpace:"nowrap"},children:[v.jsx(os,{size:12}),Qe?"Remove Admin":"Make Admin"]}),v.jsxs("button",{onClick:()=>et(ve.id,ve.userName),style:{background:"#ef4444",color:"#ffffff",padding:"6px 12px",border:"none",borderRadius:"6px",fontSize:"11px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",whiteSpace:"nowrap"},children:[v.jsx(y3,{size:12}),"Remove"]})]})]})},ve.id)})})]}),g.length>0&&v.jsxs("div",{children:[v.jsxs("h3",{style:{margin:"0 0 16px 0",fontSize:"20px",color:"#ffc020",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"},children:[v.jsx(yd,{size:20}),"Pending Invitations (",g.length,")"]}),v.jsx("div",{style:{display:"grid",gap:"12px"},children:g.map(ve=>{const Oe=`${window.location.origin}/register?email=${encodeURIComponent(ve.email)}&team=${encodeURIComponent(u.name)}`;return v.jsxs("div",{style:{background:"#0c1e34",border:"1px solid #005479",borderRadius:"12px",padding:"16px"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[v.jsxs("div",{children:[v.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#ffc020"},children:ve.email}),v.jsxs("div",{style:{fontSize:"14px",color:"#b4bdc2"},children:["Role: ",ve.role,"  Expires: ",new Date(ve.expiresAt).toLocaleDateString()]})]}),v.jsxs("button",{onClick:()=>qe(ve.email),style:{background:"#ef4444",color:"#ffffff",padding:"8px 12px",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[v.jsx(ym,{size:14}),"Cancel"]})]}),v.jsxs("div",{style:{background:"rgba(255, 192, 32, 0.1)",border:"1px solid rgba(255, 192, 32, 0.2)",borderRadius:"8px",padding:"12px"},children:[v.jsxs("div",{style:{fontSize:"12px",color:"#ffc020",fontWeight:"600",marginBottom:"8px"},children:[" Invitation Link - Share this with ",ve.email,":"]}),v.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[v.jsx("input",{type:"text",value:Oe,readOnly:!0,style:{flex:1,padding:"8px",background:"#0c1e34",border:"1px solid #005479",borderRadius:"4px",color:"#b4bdc2",fontSize:"12px",fontFamily:"monospace"},onClick:Qe=>Qe.target.select()}),v.jsx("button",{onClick:async()=>{try{await navigator.clipboard.writeText(Oe),B("Link copied to clipboard!"),setTimeout(()=>B(""),2e3)}catch{}},style:{background:"linear-gradient(135deg, #f5a302, #ffc020)",color:"#0c1e34",padding:"8px 12px",border:"none",borderRadius:"4px",fontSize:"12px",fontWeight:"600",cursor:"pointer",whiteSpace:"nowrap"},children:" Copy"})]}),v.jsx("div",{style:{fontSize:"11px",color:"#b4bdc2",marginTop:"4px",fontStyle:"italic"},children:"Send this link via email, Slack, or text message"})]})]},ve.id)})})]}),q&&v.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:v.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"32px",width:"100%",maxWidth:"500px",border:"1px solid #005479"},children:[v.jsx("h3",{style:{margin:"0 0 24px 0",fontSize:"20px",color:"#ffc020",fontWeight:"600"},children:"Edit Team"}),v.jsxs("form",{onSubmit:xe,children:[v.jsxs("div",{style:{marginBottom:"20px"},children:[v.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#ffc020",fontSize:"14px"},children:"Team Image"}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[v.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"12px",border:"2px solid #005479",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",background:"#0c1e34"},children:V?v.jsx("img",{src:V,alt:"Team preview",style:{width:"100%",height:"100%",objectFit:"cover"}}):v.jsx(xn,{size:64})}),v.jsxs("div",{style:{flex:1},children:[v.jsx("input",{type:"file",accept:"image/*",onChange:rt,style:{display:"none"},id:"team-image-upload"}),v.jsxs("label",{htmlFor:"team-image-upload",style:{display:"inline-flex",alignItems:"center",gap:"8px",background:"linear-gradient(135deg, #f5a302, #ffc020)",color:"#0c1e34",padding:"10px 16px",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",border:"none",marginBottom:"8px"},children:[v.jsx(s3,{size:16}),"Choose Image"]}),R&&v.jsxs("div",{style:{fontSize:"12px",color:"#b4bdc2"},children:["Selected: ",R.name]}),v.jsx("div",{style:{fontSize:"11px",color:"#b4bdc2",marginTop:"4px"},children:"Max 2MB  JPG, PNG, GIF supported"})]})]})]}),v.jsxs("div",{style:{marginBottom:"20px"},children:[v.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#ffc020",fontSize:"14px"},children:"Team Name *"}),v.jsx("input",{type:"text",value:Y,onChange:ve=>ue(ve.target.value),required:!0,style:{width:"100%",padding:"12px",border:"2px solid #005479",borderRadius:"8px",background:"#0c1e34",color:"#b4bdc2",fontSize:"16px",fontWeight:"500",boxSizing:"border-box"}})]}),v.jsxs("div",{style:{marginBottom:"24px"},children:[v.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#ffc020",fontSize:"14px"},children:"Description"}),v.jsx("textarea",{value:le,onChange:ve=>de(ve.target.value),rows:"3",style:{width:"100%",padding:"12px",border:"2px solid #005479",borderRadius:"8px",background:"#0c1e34",color:"#b4bdc2",fontSize:"16px",fontWeight:"500",fontFamily:"inherit",resize:"vertical",boxSizing:"border-box"}})]}),v.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[v.jsx("button",{type:"button",onClick:()=>{Z(!1),O(null),U(u.teamImage||null)},style:{background:"#005479",color:"#b4bdc2",padding:"12px 20px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"Cancel"}),v.jsx("button",{type:"submit",disabled:k||D,style:{background:k||D?"#005479":"linear-gradient(135deg, #f5a302, #ffc020)",color:k||D?"#b4bdc2":"#0c1e34",padding:"12px 20px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:k||D?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"8px"},children:D?v.jsxs(v.Fragment,{children:[v.jsx(T3,{size:16}),"Uploading..."]}):k?"Updating...":"Update Team"})]})]})]})}),it&&v.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:v.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"32px",width:"100%",maxWidth:"500px",border:"1px solid #005479"},children:[v.jsx("h3",{style:{margin:"0 0 24px 0",fontSize:"20px",color:"#ffc020",fontWeight:"600"},children:"Invite New Member"}),v.jsxs("form",{onSubmit:me,children:[v.jsxs("div",{style:{marginBottom:"20px"},children:[v.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#ffc020",fontSize:"14px"},children:"Email Address *"}),v.jsx("input",{type:"email",value:oe,onChange:ve=>fe(ve.target.value),placeholder:"Enter email address",required:!0,style:{width:"100%",padding:"12px",border:"2px solid #005479",borderRadius:"8px",background:"#0c1e34",color:"#b4bdc2",fontSize:"16px",fontWeight:"500",boxSizing:"border-box"}})]}),v.jsxs("div",{style:{marginBottom:"24px"},children:[v.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#ffc020",fontSize:"14px"},children:"Role *"}),v.jsxs("select",{value:K,onChange:ve=>I(ve.target.value),style:{width:"100%",padding:"12px",border:"2px solid #005479",borderRadius:"8px",background:"#0c1e34",color:"#b4bdc2",fontSize:"16px",fontWeight:"500",boxSizing:"border-box"},children:[v.jsx("option",{value:"user",children:"Team Member"}),v.jsx("option",{value:"team_admin",children:"Team Admin"})]})]}),v.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[v.jsx("button",{type:"button",onClick:()=>{j(!1),fe(""),I("user")},style:{background:"#005479",color:"#b4bdc2",padding:"12px 20px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"Cancel"}),v.jsx("button",{type:"submit",disabled:J,style:{background:J?"#005479":"linear-gradient(135deg, #f5a302, #ffc020)",color:J?"#b4bdc2":"#0c1e34",padding:"12px 20px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:J?"not-allowed":"pointer"},children:J?"Sending...":"Send Invitation"})]})]})]})})]})}const Up=!1;function P3(){const{currentUser:r}=Bo(),[e,n]=P.useState(null),[s,o]=P.useState(!0),[u,d]=P.useState(""),[p,m]=P.useState(""),[g,b]=P.useState(!1),[S,T]=P.useState(""),[N,M]=P.useState("team_admin"),[W,B]=P.useState(!1),[q,Z]=P.useState([]),[Y,ue]=P.useState([]),[le,de]=P.useState([]),[k,A]=P.useState({totalUsers:0,totalTeams:0,totalMiles:0,totalRides:0}),[R,O]=P.useState(!1),[V,U]=P.useState(null);P.useEffect(()=>{D()},[r]),P.useEffect(()=>{(e==null?void 0:e.role)==="admin"&&Ye()},[e]);const D=async()=>{try{o(!0);const K=await On(Ae(ge,"users",r.uid));if(!K.exists()){d("User profile not found");return}const I=K.data();if(!I||!I.role){d("Invalid user data: missing role");return}n(I)}catch{d("Failed to load admin panel")}o(!1)};P.useEffect(()=>{(e==null?void 0:e.role)==="admin"&&Ye()},[e]);const Ye=async()=>{if(!(!e||typeof e.role!="string"))try{const K=Ft(Nt(ge,"teams"),Gn(100)),I=await Rn(K),J=[];I.forEach(qe=>{J.push({id:qe.id,...qe.data()})}),Z(J);const te=Ft(Nt(ge,"users"),Gn(100)),ae=await Rn(te),he=[];ae.forEach(qe=>{const rt=qe.data();rt&&rt.role&&he.push({id:qe.id,...qe.data()})}),de(he);try{const qe=Ft(Nt(ge,"invitations"),gn("role","in",["team_admin","admin"]),gn("used","==",!1),Gn(100)),rt=await Rn(qe),vt=[];rt.forEach(xn=>{const Wt=xn.data(),ve=Wt.expiresAt.toDate?Wt.expiresAt.toDate():new Date(Wt.expiresAt);new Date<ve&&vt.push({id:xn.id,...Wt})}),ue(vt)}catch{ue([])}const xe=he.length,me=J.length,et=he.reduce((qe,rt)=>qe+(rt.totalMiles||0),0),De=J.reduce((qe,rt)=>qe+(rt.totalRides||0),0);A({totalUsers:xe,totalTeams:me,totalMiles:et,totalRides:De})}catch{d("Failed to load admin data")}},it=async K=>{K.preventDefault(),B(!0),d(""),m("");try{const I=S.toLowerCase();if((await On(Ae(ge,"invitations",S))).exists()){d("This email has already been invited"),B(!1);return}const te=Ft(Nt(ge,"users"),gn("email","==",S));if(!(await Rn(te)).empty){d("A user with this email already exists"),B(!1);return}let he=null,xe=null;const me=At.fromDate(new Date(Date.now()+30*24*60*60*1e3)),et={email:S,role:N,teamId:he,teamName:xe,invitedBy:r.uid,inviterUserName:e.userName,createdAt:Ht(),expiresAt:me,usedAt:null,used:!1,isTeamAdminInvite:N==="team_admin",isAppAdminInvite:N==="admin"},De={email:S,expiresAt:me,used:!1};try{await _r(Ae(ge,"invitations",I),et),await _r(Ae(ge,"invitationsPublicView",I),De)}catch(vt){throw vt.message.includes("invitationsPublicView")&&await la(Ae(ge,"invitations",I)),vt}const qe=N==="admin"?"appadmin=true":"admin=true",rt=`${window.location.origin}/register?email=${encodeURIComponent(S)}&${qe}`;try{await navigator.clipboard.writeText(rt),m(`${N==="admin"?"App Admin":"Team Admin"} invitation created! Link copied to clipboard. Share this link: ${rt}`)}catch{m(`${N==="admin"?"App Admin":"Team Admin"} invitation created! Share this link: ${rt}`)}b(!1),T(""),M("team_admin"),setTimeout(()=>m(""),5e3),Ye()}catch(I){console.error("Error creating invitation:",I),d("Failed to create invitation")}B(!1)},j=async K=>{try{const I=GD(ge);I.delete(Ae(ge,"invitations",normalizedEmail)),I.delete(Ae(ge,"invitationsPublicView",normalizedEmail)),await I.commit(),m("Admin invitation cancelled"),setTimeout(()=>m(""),3e3),Ye()}catch(I){console.error("Error cancelling invitation:",I),d("Failed to cancel invitation")}},oe=async(K,I,J)=>{if(confirm(`Are you sure you want to remove ${I} from their team?`))try{const te=le.find(he=>he.id===K),ae=q.find(he=>he.id===J);if(!te||!ae){d("User or team not found");return}await vn(Ae(ge,"teams",J),{memberIds:yo(K),adminIds:yo(K),memberCount:ai(-1),totalMiles:ai(-(te.totalMiles||0)),lastUpdated:new Date().toISOString()}),await vn(Ae(ge,"users",K),{teamId:null,teamName:null,joinedTeamAt:null}),m(`${I} has been removed from ${ae.name}`),setTimeout(()=>m(""),3e3),Ye()}catch(te){console.error("Error removing user from team:",te),d("Failed to remove user from team")}},fe=async(K,I,J,te)=>{const ae=te==="admin"?"App Admin":te==="team_admin"?"Team Admin":"Team Member";if(confirm(`Are you sure you want to make ${I} a ${ae}?`))try{const he=le.find(xe=>xe.id===K);if(await vn(Ae(ge,"users",K),{role:te}),he.teamId){const xe=q.find(me=>me.id===he.teamId);if(xe)if(te==="team_admin"){const me=[...xe.adminIds||[]];me.includes(K)||(me.push(K),await vn(Ae(ge,"teams",he.teamId),{adminIds:me,lastUpdated:new Date().toISOString()}))}else J==="team_admin"&&await vn(Ae(ge,"teams",he.teamId),{adminIds:yo(K),lastUpdated:new Date().toISOString()})}m(`${I} is now a ${ae}`),setTimeout(()=>m(""),3e3),Ye()}catch(he){console.error("Error updating user role:",he),d("Failed to update user role")}};return V?v.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"40px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"1200px",margin:"0 auto",border:"1px solid #005479"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"24px",paddingBottom:"16px",borderBottom:"1px solid #005479"},children:[v.jsxs("button",{onClick:()=>U(null),style:{background:"none",border:"1px solid #005479",color:"#ffc020",padding:"8px 12px",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s ease"},onMouseEnter:K=>{K.target.style.borderColor="#f5a302",K.target.style.color="#f5a302"},onMouseLeave:K=>{K.target.style.borderColor="#005479",K.target.style.color="#ffc020"},children:[v.jsx(e3,{size:16}),"Back to Admin Panel"]}),v.jsxs("div",{style:{fontSize:"18px",color:"#ffc020",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"},children:[v.jsx(ns,{size:18}),"App Admin managing: ",V.name]})]}),v.jsx(CE,{appAdminMode:!0,selectedTeam:V})]}):s?v.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"40px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"1200px",margin:"0 auto",border:"1px solid #005479"},children:[v.jsx("h2",{style:{fontSize:"28px",fontWeight:"600",color:"#ffc020",margin:"0 0 16px 0",textAlign:"center"},children:"App Administration"}),v.jsx("p",{style:{textAlign:"center",color:"#b4bdc2",fontSize:"16px"},children:"Loading admin panel..."})]}):u&&!e?v.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"40px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"1200px",margin:"0 auto",border:"1px solid #005479"},children:[v.jsx("h2",{style:{fontSize:"28px",fontWeight:"600",color:"#ffc020",margin:"0 0 16px 0",textAlign:"center"},children:"App Administration"}),v.jsxs("div",{style:{background:"#0c1e34",color:"#ef4444",padding:"16px",borderRadius:"12px",fontSize:"14px",fontWeight:"600",textAlign:"center",border:"1px solid #005479"},children:[v.jsx(Io,{style:{height:"16px",width:"16px",marginRight:"8px",display:"inline"}}),u]})]}):v.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"40px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"1200px",margin:"0 auto",border:"1px solid #005479"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px"},children:[v.jsxs("h2",{style:{fontSize:"28px",fontWeight:"600",color:"#ffc020",margin:0,display:"flex",alignItems:"center",gap:"12px"},children:[v.jsx(ns,{size:28}),"App Administration"]}),v.jsxs("button",{onClick:()=>b(!0),style:{background:"linear-gradient(135deg, #f5a302, #ffc020)",color:"#0c1e34",padding:"12px 20px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[v.jsx(gm,{size:16}),"Create Invitation"]})]}),p&&v.jsxs("div",{style:{background:"#0c1e34",color:"#ffc020",padding:"12px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px",fontWeight:"600",border:"1px solid #005479",display:"flex",alignItems:"center"},children:[v.jsx(RE,{size:16,style:{marginRight:"8px"}}),p]}),u&&v.jsxs("div",{style:{background:"#0c1e34",color:"#ef4444",padding:"12px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px",fontWeight:"600",border:"1px solid #005479",display:"flex",alignItems:"center"},children:[v.jsx(Io,{size:16,style:{marginRight:"8px"}}),u]}),v.jsxs("div",{style:{background:"#0c1e34",padding:"24px",borderRadius:"12px",marginBottom:"32px",border:"1px solid #005479"},children:[v.jsxs("h3",{style:{margin:"0 0 20px 0",fontSize:"20px",color:"#ffc020",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"},children:[v.jsx(_3,{size:20}),"App Statistics"]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px"},children:[v.jsxs("div",{style:{textAlign:"center"},children:[v.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"#ffc020"},children:k.totalUsers}),v.jsx("div",{style:{fontSize:"14px",color:"#b4bdc2",fontWeight:"600"},children:"Total Users"})]}),v.jsxs("div",{style:{textAlign:"center"},children:[v.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"#ffc020"},children:k.totalTeams}),v.jsx("div",{style:{fontSize:"14px",color:"#b4bdc2",fontWeight:"600"},children:"Active Teams"})]}),v.jsxs("div",{style:{textAlign:"center"},children:[v.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"#ffc020"},children:k.totalMiles.toFixed(1)}),v.jsx("div",{style:{fontSize:"14px",color:"#b4bdc2",fontWeight:"600"},children:"Total Miles"})]}),v.jsxs("div",{style:{textAlign:"center"},children:[v.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"#ffc020"},children:k.totalRides}),v.jsx("div",{style:{fontSize:"14px",color:"#b4bdc2",fontWeight:"600"},children:"Total Rides"})]})]})]}),Y.length>0&&v.jsxs("div",{style:{marginBottom:"32px"},children:[v.jsxs("h3",{style:{margin:"0 0 16px 0",fontSize:"20px",color:"#ffc020",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"},children:[v.jsx(yd,{size:20}),"Pending Admin Invitations (",Y.length,")"]}),v.jsx("div",{style:{display:"grid",gap:"12px"},children:Y.map(K=>{const I=K.role==="admin"?"appadmin=true":"admin=true",J=`${window.location.origin}/register?email=${encodeURIComponent(K.email)}&${I}`;return v.jsxs("div",{style:{background:"#0c1e34",border:"1px solid #005479",borderRadius:"12px",padding:"16px"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[v.jsxs("div",{children:[v.jsxs("div",{style:{fontSize:"16px",fontWeight:"600",color:"#ffc020",display:"flex",alignItems:"center",gap:"8px"},children:[K.email,K.role==="admin"&&v.jsx(ns,{size:16,style:{color:"#ef4444"}}),K.role==="team_admin"&&v.jsx(os,{size:16,style:{color:"#f5a302"}})]}),v.jsxs("div",{style:{fontSize:"14px",color:"#b4bdc2"},children:["Role: ",K.role==="admin"?"App Admin":"Team Admin","  Expires: ",new Date(K.expiresAt).toLocaleDateString()]})]}),v.jsxs("button",{onClick:()=>j(K.email),style:{background:"#ef4444",color:"#ffffff",padding:"8px 12px",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[v.jsx(ym,{size:14}),"Cancel"]})]}),v.jsxs("div",{style:{background:"rgba(255, 192, 32, 0.1)",border:"1px solid rgba(255, 192, 32, 0.2)",borderRadius:"8px",padding:"12px"},children:[v.jsxs("div",{style:{fontSize:"12px",color:"#ffc020",fontWeight:"600",marginBottom:"8px"},children:[" ",K.role==="admin"?"App Admin":"Team Admin"," Invitation Link:"]}),v.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[v.jsx("input",{type:"text",value:J,readOnly:!0,style:{flex:1,padding:"8px",background:"#0c1e34",border:"1px solid #005479",borderRadius:"4px",color:"#b4bdc2",fontSize:"12px",fontFamily:"monospace"},onClick:te=>te.target.select()}),v.jsx("button",{onClick:async()=>{try{await navigator.clipboard.writeText(J),m("Link copied to clipboard!"),setTimeout(()=>m(""),2e3)}catch(te){console.error("Failed to copy:",te)}},style:{background:"linear-gradient(135deg, #f5a302, #ffc020)",color:"#0c1e34",padding:"8px 12px",border:"none",borderRadius:"4px",fontSize:"12px",fontWeight:"600",cursor:"pointer",whiteSpace:"nowrap"},children:" Copy"})]}),v.jsx("div",{style:{fontSize:"11px",color:"#b4bdc2",marginTop:"4px",fontStyle:"italic"},children:K.role==="admin"?"Invitee will become an App Admin with full system access":"Invitee will become a Team Admin and can create their own team"})]})]},K.id)})})]}),v.jsxs("div",{style:{marginBottom:"32px"},children:[v.jsxs("h3",{style:{margin:"0 0 16px 0",fontSize:"20px",color:"#ffc020",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"},children:[v.jsx(vo,{size:20}),"All Users (",le.length,")"]}),v.jsx("div",{style:{display:"grid",gap:"12px"},children:le.map(K=>{var te,ae;const I=q.find(he=>he.id===K.teamId),J=(te=I==null?void 0:I.adminIds)==null?void 0:te.includes(K.id);return v.jsx("div",{style:{background:"#0c1e34",border:"1px solid #005479",borderRadius:"12px",padding:"16px"},children:v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[v.jsxs("div",{style:{flex:1},children:[v.jsxs("div",{style:{fontSize:"16px",fontWeight:"600",color:"#ffc020",display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[K.userName,K.role==="admin"&&v.jsx(ns,{size:16,style:{color:"#ef4444"}}),J&&K.role!=="admin"&&v.jsx(os,{size:16,style:{color:"#f5a302"}})]}),v.jsx("div",{style:{fontSize:"14px",color:"#b4bdc2",marginBottom:"4px"},children:K.email}),v.jsxs("div",{style:{fontSize:"12px",color:"#b4bdc2"},children:["Team: ",K.teamName||"No team","  ",((ae=K.totalMiles)==null?void 0:ae.toFixed(1))||"0.0"," miles  Role: ",K.role==="admin"?"App Admin":K.role==="team_admin"?"Team Admin":"Team Member"]}),v.jsxs("div",{style:{fontSize:"11px",color:"#b4bdc2",marginTop:"2px"},children:["Joined: ",new Date(K.createdAt).toLocaleDateString()]})]}),K.id!==r.uid&&v.jsxs("div",{style:{display:"flex",gap:"8px",flexDirection:"column",alignItems:"flex-end"},children:[v.jsxs("div",{style:{display:"flex",gap:"6px"},children:[K.role!=="admin"&&v.jsxs("button",{onClick:()=>fe(K.id,K.userName,K.role,"admin"),style:{background:"linear-gradient(135deg, #ef4444, #dc2626)",color:"#ffffff",padding:"4px 8px",border:"none",borderRadius:"4px",fontSize:"10px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"3px",whiteSpace:"nowrap"},children:[v.jsx(ns,{size:10}),"Make App Admin"]}),K.role==="user"&&v.jsxs("button",{onClick:()=>fe(K.id,K.userName,K.role,"team_admin"),style:{background:"linear-gradient(135deg, #f5a302, #ffc020)",color:"#0c1e34",padding:"4px 8px",border:"none",borderRadius:"4px",fontSize:"10px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"3px",whiteSpace:"nowrap"},children:[v.jsx(os,{size:10}),"Make Team Admin"]}),K.role==="team_admin"&&v.jsxs("button",{onClick:()=>fe(K.id,K.userName,K.role,"user"),style:{background:"linear-gradient(135deg, #22c55e, #16a34a)",color:"#ffffff",padding:"4px 8px",border:"none",borderRadius:"4px",fontSize:"10px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"3px",whiteSpace:"nowrap"},children:[v.jsx(os,{size:10}),"Remove Admin"]})]}),K.teamId&&v.jsxs("button",{onClick:()=>oe(K.id,K.userName,K.teamId),style:{background:"#ef4444",color:"#ffffff",padding:"4px 8px",border:"none",borderRadius:"4px",fontSize:"10px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"3px",whiteSpace:"nowrap"},children:[v.jsx(ym,{size:10}),"Remove from Team"]})]})]})},K.id)})})]}),v.jsxs("div",{style:{marginBottom:"32px"},children:[v.jsxs("h3",{style:{margin:"0 0 16px 0",fontSize:"20px",color:"#ffc020",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"},children:[v.jsx(vo,{size:20}),"All Teams (",q.length,")"]}),v.jsx("div",{style:{display:"grid",gap:"12px"},children:q.map(K=>{var I;return v.jsx("div",{style:{background:"#0c1e34",border:"1px solid #005479",borderRadius:"12px",padding:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[K.teamImage?v.jsx("img",{src:K.teamImage,alt:`${K.name} logo`,style:{width:"48px",height:"48px",borderRadius:"8px",objectFit:"cover",border:"1px solid #005479"}}):v.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"8px",background:"linear-gradient(135deg, #f5a302, #ffc020)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(245, 163, 2, 0.3)"},children:v.jsx(vo,{size:24,color:"#0c1e34",strokeWidth:2})}),v.jsxs("div",{children:[v.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#ffc020"},children:K.name}),v.jsxs("div",{style:{fontSize:"14px",color:"#b4bdc2"},children:[K.memberCount," members  ",((I=K.totalMiles)==null?void 0:I.toFixed(1))||"0.0"," miles  ",K.totalRides||0," rides"]}),v.jsxs("div",{style:{fontSize:"12px",color:"#b4bdc2",marginTop:"2px"},children:["Created: ",new Date(K.createdAt).toLocaleDateString()]})]})]})},K.id)})})]}),g&&v.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:v.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"32px",width:"100%",maxWidth:"500px",border:"1px solid #005479"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"24px"},children:[v.jsx(gm,{style:{color:"#ffc020"},size:24}),v.jsx("h3",{style:{margin:0,fontSize:"20px",color:"#ffc020",fontWeight:"600"},children:"Create Admin Invitation"})]}),v.jsxs("form",{onSubmit:it,children:[v.jsxs("div",{style:{marginBottom:"20px"},children:[v.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#ffc020",fontSize:"14px"},children:"Email Address *"}),v.jsx("input",{type:"email",value:S,onChange:K=>T(K.target.value),placeholder:"Enter email address",required:!0,style:{width:"100%",padding:"12px",border:"2px solid #005479",borderRadius:"8px",background:"#0c1e34",color:"#b4bdc2",fontSize:"16px",fontWeight:"500",boxSizing:"border-box"}})]}),v.jsxs("div",{style:{marginBottom:"24px"},children:[v.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#ffc020",fontSize:"14px"},children:"Role *"}),v.jsxs("select",{value:N,onChange:K=>M(K.target.value),style:{width:"100%",padding:"12px",border:"2px solid #005479",borderRadius:"8px",background:"#0c1e34",color:"#b4bdc2",fontSize:"16px",fontWeight:"500",boxSizing:"border-box"},children:[v.jsx("option",{value:"team_admin",children:"Team Admin"}),v.jsx("option",{value:"admin",children:"App Admin"})]})]}),v.jsxs("div",{style:{background:"rgba(255, 192, 32, 0.1)",border:"1px solid rgba(255, 192, 32, 0.2)",borderRadius:"8px",padding:"12px",marginBottom:"20px"},children:[v.jsx("div",{style:{fontSize:"14px",color:"#ffc020",fontWeight:"600",marginBottom:"4px"},children:N==="admin"?v.jsxs(v.Fragment,{children:[v.jsx(ns,{size:16,style:{display:"inline",marginRight:"6px"}}),"App Admin Privileges:"]}):v.jsxs(v.Fragment,{children:[v.jsx(os,{size:16,style:{display:"inline",marginRight:"6px"}}),"Team Admin Privileges:"]})}),v.jsx("div",{style:{fontSize:"12px",color:"#b4bdc2",lineHeight:"1.4"},children:N==="admin"?v.jsxs(v.Fragment,{children:[" Full system access and control",v.jsx("br",{})," Can create app admins and team admins",v.jsx("br",{})," Can view all teams and users",v.jsx("br",{})," Access to app administration panel"]}):v.jsxs(v.Fragment,{children:[" Can create and manage their own team",v.jsx("br",{})," Can invite and remove team members",v.jsx("br",{})," Can promote members to team admin",v.jsx("br",{})," Will receive a special registration link"]})})]}),v.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[v.jsx("button",{type:"button",onClick:()=>{b(!1),T(""),M("team_admin")},style:{background:"#005479",color:"#b4bdc2",padding:"12px 20px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"Cancel"}),v.jsx("button",{type:"submit",disabled:W,style:{background:W?"#005479":"linear-gradient(135deg, #f5a302, #ffc020)",color:W?"#b4bdc2":"#0c1e34",padding:"12px 20px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:W?"not-allowed":"pointer"},children:W?"Creating Invitation...":`Create ${N==="admin"?"App Admin":"Team Admin"} Invitation`})]})]})]})})]})}const L3=!1;function U3(){const[r,e]=P.useState("teams"),[n,s]=P.useState("totalMiles"),[o,u]=P.useState([]),[d,p]=P.useState([]),[m,g]=P.useState(!0),[b,S]=P.useState("");P.useEffect(()=>{W()},[n]);const T=()=>{const Y=new Date,ue=Y.getDay(),le=ue===0?6:ue-1,de=new Date(Y);de.setDate(Y.getDate()-le),de.setHours(0,0,0,0);const k=de.getFullYear(),A=Math.ceil((de-new Date(k,0,1))/(7*24*60*60*1e3));return`${k}-W${A.toString().padStart(2,"0")}`},N=async Y=>{const ue=T();try{const le=Ft(Nt(ge,"weeklyTeamStats"),gn("weekId","==",ue),Gn(100)),de=await Rn(le),k={};return de.forEach(A=>{const R=A.data();k[R.teamId]=R.weeklyMiles||0}),Y.map(A=>({...A,weeklyMiles:k[A.id]||0}))}catch{return Y.map(de=>({...de,weeklyMiles:0}))}},M=async Y=>{const ue=T();try{const le=Ft(Nt(ge,"weeklyStats"),gn("weekId","==",ue),Gn(200)),de=await Rn(le),k={};return de.forEach(A=>{const R=A.data();k[R.userId]=R.weeklyMiles||0}),Y.map(A=>({...A,weeklyMiles:k[A.id]||0}))}catch{return Y.map(de=>({...de,weeklyMiles:0}))}},W=async()=>{g(!0),S("");try{let Y;n==="weeklyMiles"?Y=Ft(Nt(ge,"teams"),Gn(50)):Y=Ft(Nt(ge,"teams"),A1(n,"desc"),Gn(50));const ue=await Rn(Y),le=[];ue.forEach(V=>{const U=V.data();U.memberCount>0&&le.push({id:V.id,...U,averageMilesPerMember:U.memberCount>0?(U.totalMiles/U.memberCount).toFixed(1):0})});let de=le;n==="weeklyMiles"&&(de=await N(le),de.sort((V,U)=>U.weeklyMiles-V.weeklyMiles)),u(de);let k;n==="weeklyMiles"?k=Ft(Nt(ge,"users"),Gn(50)):k=Ft(Nt(ge,"users"),A1(n,"desc"),Gn(50));const A=await Rn(k),R=[];A.forEach(V=>{const U=V.data();R.push({id:V.id,...U})});let O=R;n==="weeklyMiles"&&(O=await M(R),O.sort((V,U)=>U.weeklyMiles-V.weeklyMiles)),p(O)}catch{S("Failed to load leaderboard data")}g(!1)},B=Y=>Y===1?"":Y===2?"":Y===3?"":null,q=Y=>{switch(n){case"totalMiles":return Y.totalMiles||0;case"totalRides":return Y.totalRides||0;case"weeklyMiles":return Y.weeklyMiles||0;default:return 0}},Z=()=>{switch(n){case"totalMiles":return"Total Miles";case"totalRides":return"Total Rides";case"weeklyMiles":return"This Week";default:return""}};return m?v.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",color:"#ffc020",fontSize:"18px"},children:["Loading leaderboard",n==="weeklyMiles"?" and calculating weekly miles...":"..."]}):b?v.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",color:"#ef4444",fontSize:"18px"},children:b}):v.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"32px",maxWidth:"1200px",margin:"0 auto",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"32px",flexWrap:"wrap",gap:"16px"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[v.jsx(x3,{size:32,style:{color:"#ffc020"}}),v.jsx("h2",{style:{fontSize:"28px",fontWeight:"bold",color:"#ffc020",margin:0},children:"Leaderboard"})]}),v.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[v.jsxs("button",{onClick:()=>s("totalMiles"),style:{padding:"8px 16px",background:n==="totalMiles"?"#ffc020":"#005479",color:n==="totalMiles"?"#0c1e34":"#b4bdc2",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"6px"},children:[v.jsx(Tg,{size:16}),"Total Miles"]}),v.jsxs("button",{onClick:()=>s("totalRides"),style:{padding:"8px 16px",background:n==="totalRides"?"#ffc020":"#005479",color:n==="totalRides"?"#0c1e34":"#b4bdc2",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"6px"},children:[v.jsx(c3,{size:16}),"Total Rides"]}),v.jsxs("button",{onClick:()=>s("weeklyMiles"),style:{padding:"8px 16px",background:n==="weeklyMiles"?"#ffc020":"#005479",color:n==="weeklyMiles"?"#0c1e34":"#b4bdc2",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"6px"},children:[v.jsx(i3,{size:16}),"This Week"]})]})]}),v.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"24px",borderBottom:"2px solid #005479",paddingBottom:"0"},children:[v.jsxs("button",{onClick:()=>e("teams"),style:{padding:"12px 24px",background:"transparent",color:r==="teams"?"#ffc020":"#b4bdc2",border:"none",borderBottom:r==="teams"?"3px solid #ffc020":"3px solid transparent",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"8px",marginBottom:"-2px"},children:[v.jsx(vo,{size:20}),"Team Standings"]}),v.jsxs("button",{onClick:()=>e("individuals"),style:{padding:"12px 24px",background:"transparent",color:r==="individuals"?"#ffc020":"#b4bdc2",border:"none",borderBottom:r==="individuals"?"3px solid #ffc020":"3px solid transparent",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"8px",marginBottom:"-2px"},children:[v.jsx(IE,{size:20}),"Individual Standings"]})]}),v.jsx("div",{style:{background:"#0c1e34",borderRadius:"12px",overflow:"hidden"},children:r==="teams"?v.jsxs("div",{children:[v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"60px 1fr 150px 120px 120px",padding:"16px 20px",background:"#005479",color:"#ffc020",fontSize:"14px",fontWeight:"600",borderBottom:"1px solid #033c59"},children:[v.jsx("div",{children:"Rank"}),v.jsx("div",{children:"Team Name"}),v.jsx("div",{style:{textAlign:"center"},children:Z()}),v.jsx("div",{style:{textAlign:"center"},children:"Members"}),v.jsx("div",{style:{textAlign:"center"},children:"Avg/Member"})]}),o.map((Y,ue)=>v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"60px 1fr 150px 120px 120px",padding:"16px 20px",borderBottom:"1px solid #005479",color:"#b4bdc2",transition:"background 0.2s ease",cursor:"pointer"},onMouseEnter:le=>{le.currentTarget.style.background="#033c59"},onMouseLeave:le=>{le.currentTarget.style.background="transparent"},children:[v.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"16px",fontWeight:"600",color:ue<3?"#ffc020":"#b4bdc2"},children:B(ue+1)||`#${ue+1}`}),v.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#ffc020"},children:Y.name}),v.jsx("div",{style:{textAlign:"center",fontSize:"18px",fontWeight:"bold",color:"#fff"},children:q(Y).toLocaleString()}),v.jsx("div",{style:{textAlign:"center",fontSize:"16px"},children:Y.memberCount}),v.jsx("div",{style:{textAlign:"center",fontSize:"16px"},children:n==="weeklyMiles"?Y.memberCount>0?(Y.weeklyMiles/Y.memberCount).toFixed(1):"0.0":Y.averageMilesPerMember})]},Y.id)),o.length===0&&v.jsx("div",{style:{padding:"48px",textAlign:"center",color:"#b4bdc2",fontSize:"16px"},children:"No team data available"})]}):v.jsxs("div",{children:[v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"60px 1fr 200px 150px",padding:"16px 20px",background:"#005479",color:"#ffc020",fontSize:"14px",fontWeight:"600",borderBottom:"1px solid #033c59"},children:[v.jsx("div",{children:"Rank"}),v.jsx("div",{children:"Rider Name"}),v.jsx("div",{children:"Team"}),v.jsx("div",{style:{textAlign:"center"},children:Z()})]}),d.map((Y,ue)=>v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"60px 1fr 200px 150px",padding:"16px 20px",borderBottom:"1px solid #005479",color:"#b4bdc2",transition:"background 0.2s ease",cursor:"pointer"},onMouseEnter:le=>{le.currentTarget.style.background="#033c59"},onMouseLeave:le=>{le.currentTarget.style.background="transparent"},children:[v.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"16px",fontWeight:"600",color:ue<3?"#ffc020":"#b4bdc2"},children:B(ue+1)||`#${ue+1}`}),v.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#ffc020"},children:Y.userName}),v.jsx("div",{style:{fontSize:"14px",color:"#b4bdc2"},children:Y.teamName||"No Team"}),v.jsx("div",{style:{textAlign:"center",fontSize:"18px",fontWeight:"bold",color:"#fff"},children:q(Y).toLocaleString()})]},Y.id)),d.length===0&&v.jsx("div",{style:{padding:"48px",textAlign:"center",color:"#b4bdc2",fontSize:"16px"},children:"No individual data available"})]})}),n==="weeklyMiles"&&v.jsx("div",{style:{marginTop:"16px",padding:"12px",background:"#005479",borderRadius:"8px",color:"#ffc020",fontSize:"14px",textAlign:"center"},children:" Showing miles logged from Monday to Sunday this week"})]})}function j3({currentUser:r,userProfile:e}){const[n,s]=P.useState({totalMiles:0,totalRides:0,thisWeekMiles:0,thisWeekRides:0}),[o,u]=P.useState(!0);return P.useEffect(()=>{(async()=>{try{const p=Ft(Nt(ge,"mileLogs"),gn("userId","==",r.uid)),m=await Rn(p);let g=0,b=0,S=0,T=0;const N=new Date,M=N.getDay(),W=M===0?6:M-1,B=new Date(N);B.setDate(N.getDate()-W),B.setHours(0,0,0,0);const q=new Date(B);q.setDate(B.getDate()+6),q.setHours(23,59,59,999),m.forEach(Z=>{const Y=Z.data();g+=Y.miles,b+=1;const ue=new Date(Y.date+"T00:00:00");ue>=B&&ue<=q&&(S+=Y.miles,T+=1)}),s({totalMiles:g,totalRides:b,thisWeekMiles:S,thisWeekRides:T})}catch(p){console.error("Error fetching stats:",p)}u(!1)})()},[r.uid]),o?v.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"40px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"900px",margin:"0 auto",border:"1px solid #005479"},children:[v.jsx("h2",{style:{fontSize:"28px",fontWeight:"600",color:"#ffc020",margin:"0 0 16px 0",textAlign:"center"},children:"Your Cycling Overview"}),v.jsx("p",{style:{textAlign:"center",color:"#b4bdc2",fontSize:"16px"},children:"Loading your stats..."})]}):v.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"40px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"900px",margin:"0 auto",border:"1px solid #005479"},children:[v.jsx("h2",{style:{fontSize:"32px",fontWeight:"600",color:"#ffc020",margin:"0 0 40px 0",textAlign:"center"},children:"Your Cycling Overview"}),e&&v.jsxs("div",{style:{background:"#0c1e34",padding:"20px",borderRadius:"12px",marginBottom:"32px",textAlign:"center",border:"1px solid #005479"},children:[v.jsx("div",{style:{fontSize:"18px",fontWeight:"600",color:"#ffc020",marginBottom:"4px"},children:e.teamName}),v.jsxs("div",{style:{fontSize:"14px",color:"#b4bdc2"},children:["You're riding as ",e.userName,"  ",e.role==="team_admin"?"Team Admin":"Team Member"]})]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"20px",marginBottom:"40px"},children:[v.jsxs("div",{style:{background:"#0c1e34",padding:"24px",borderRadius:"12px",textAlign:"center",border:"1px solid #005479",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",transition:"transform 0.2s ease, box-shadow 0.2s ease",cursor:"default"},onMouseEnter:d=>{d.target.style.transform="translateY(-3px)",d.target.style.boxShadow="0 8px 25px rgba(0, 0, 0, 0.3)"},onMouseLeave:d=>{d.target.style.transform="translateY(0)",d.target.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.2)"},children:[v.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"#ffc020",marginBottom:"4px"},children:n.totalMiles.toFixed(1)}),v.jsx("div",{style:{fontSize:"14px",color:"#b4bdc2",fontWeight:"600"},children:"Total Miles"})]}),v.jsxs("div",{style:{background:"#0c1e34",padding:"24px",borderRadius:"12px",textAlign:"center",border:"1px solid #005479",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",transition:"transform 0.2s ease, box-shadow 0.2s ease",cursor:"default"},onMouseEnter:d=>{d.target.style.transform="translateY(-3px)",d.target.style.boxShadow="0 8px 25px rgba(0, 0, 0, 0.3)"},onMouseLeave:d=>{d.target.style.transform="translateY(0)",d.target.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.2)"},children:[v.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"#ffc020",marginBottom:"4px"},children:n.totalRides}),v.jsx("div",{style:{fontSize:"14px",color:"#b4bdc2",fontWeight:"600"},children:"Total Rides"})]}),v.jsxs("div",{style:{background:"#0c1e34",padding:"24px",borderRadius:"12px",textAlign:"center",border:"1px solid #005479",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",transition:"transform 0.2s ease, box-shadow 0.2s ease",cursor:"default"},onMouseEnter:d=>{d.target.style.transform="translateY(-3px)",d.target.style.boxShadow="0 8px 25px rgba(0, 0, 0, 0.3)"},onMouseLeave:d=>{d.target.style.transform="translateY(0)",d.target.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.2)"},children:[v.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"#ffc020",marginBottom:"4px"},children:n.thisWeekMiles.toFixed(1)}),v.jsx("div",{style:{fontSize:"14px",color:"#b4bdc2",fontWeight:"600"},children:"Miles This Week"})]}),v.jsxs("div",{style:{background:"#0c1e34",padding:"24px",borderRadius:"12px",textAlign:"center",border:"1px solid #005479",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",transition:"transform 0.2s ease, box-shadow 0.2s ease",cursor:"default"},onMouseEnter:d=>{d.target.style.transform="translateY(-3px)",d.target.style.boxShadow="0 8px 25px rgba(0, 0, 0, 0.3)"},onMouseLeave:d=>{d.target.style.transform="translateY(0)",d.target.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.2)"},children:[v.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"#ffc020",marginBottom:"4px"},children:n.thisWeekRides}),v.jsx("div",{style:{fontSize:"14px",color:"#b4bdc2",fontWeight:"600"},children:"Rides This Week"})]})]}),v.jsxs("div",{style:{padding:"24px",background:"#0c1e34",borderRadius:"12px",border:"1px solid #005479"},children:[v.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"20px",color:"#ffc020",fontWeight:"600"},children:"Welcome to RideOn!"}),v.jsx("p",{style:{margin:"0 0 16px 0",fontSize:"16px",color:"#ffc020",lineHeight:"1.5"},children:"Track your bike commuting miles and join the Milwaukee cycling community."}),v.jsxs("div",{style:{fontSize:"15px",color:"#b4bdc2",lineHeight:"1.6"},children:[v.jsxs("p",{style:{margin:"6px 0",display:"flex",alignItems:"center"},children:[v.jsx("span",{style:{width:"6px",height:"6px",backgroundColor:"#b4bdc2",borderRadius:"50%",marginRight:"12px"}}),'View your progress in "My Rides"']}),v.jsxs("p",{style:{margin:"6px 0",display:"flex",alignItems:"center"},children:[v.jsx("span",{style:{width:"6px",height:"6px",backgroundColor:"#b4bdc2",borderRadius:"50%",marginRight:"12px"}}),`Log today's commute in "Log Miles"`]}),(e==null?void 0:e.role)==="team_admin"&&v.jsxs("p",{style:{margin:"6px 0",display:"flex",alignItems:"center"},children:[v.jsx("span",{style:{width:"6px",height:"6px",backgroundColor:"#b4bdc2",borderRadius:"50%",marginRight:"12px"}}),'Manage your team in "Team Management"']}),v.jsxs("p",{style:{margin:"6px 0",display:"flex",alignItems:"center"},children:[v.jsx("span",{style:{width:"6px",height:"6px",backgroundColor:"#b4bdc2",borderRadius:"50%",marginRight:"12px"}}),"Team competitions coming soon!"]})]})]})]})}function z3(){const{currentUser:r,logout:e}=Bo(),[n,s]=P.useState("overview"),[o,u]=P.useState(null),[d,p]=P.useState(!0);P.useEffect(()=>{r&&(async()=>{try{const b=await On(Ae(ge,"users",r.uid));b.exists()&&u(b.data())}catch(b){console.error("Error fetching user profile:",b)}p(!1)})()},[r]);const m=g=>({background:g?"linear-gradient(135deg, #f5a302, #ffba41)":"#033c59",color:g?"#0c1e34":"#b4bdc2",padding:"12px 24px",border:g?"none":"2px solid #005479",borderRadius:"25px",marginRight:"12px",cursor:"pointer",fontSize:"15px",fontWeight:g?"600":"500",transition:"all 0.2s ease",boxShadow:g?"0 4px 12px rgba(245, 163, 2, 0.25)":"0 2px 4px rgba(0, 0, 0, 0.2)",outline:"none"});return d?v.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #0c1e34 0%, #033c59 100%)",padding:"24px",display:"flex",alignItems:"center",justifyContent:"center"},children:v.jsx("div",{style:{color:"#b4bdc2",fontSize:"18px"},children:"Loading..."})}):v.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #0c1e34 0%, #033c59 100%)",padding:"24px"},children:v.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[v.jsxs("div",{style:{background:"#033c59",padding:"24px 32px",borderRadius:"16px",marginBottom:"24px",display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",border:"1px solid #005479"},children:[v.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},children:[v.jsx(Sg,{size:48}),v.jsxs("p",{style:{margin:0,color:"#b4bdc2",fontSize:"16px",textAlign:"center"},children:["Welcome back, ",(o==null?void 0:o.userName)||(r==null?void 0:r.email)]})]}),v.jsx("button",{onClick:e,style:{background:"linear-gradient(135deg, #f5a302, #ffba41)",color:"#0c1e34",padding:"10px 20px",border:"none",borderRadius:"20px",cursor:"pointer",fontSize:"14px",fontWeight:"600",boxShadow:"0 2px 8px rgba(245, 163, 2, 0.3)",transition:"all 0.2s ease",outline:"none"},onMouseEnter:g=>{g.target.style.transform="translateY(-1px)",g.target.style.boxShadow="0 4px 12px rgba(245, 163, 2, 0.4)"},onMouseLeave:g=>{g.target.style.transform="translateY(0)",g.target.style.boxShadow="0 2px 8px rgba(245, 163, 2, 0.3)"},children:"Logout"})]}),v.jsxs("div",{style:{marginBottom:"24px",textAlign:"center"},children:[v.jsx("button",{onClick:()=>s("overview"),style:m(n==="overview"),onMouseEnter:g=>{n!=="overview"&&(g.target.style.backgroundColor="#005479",g.target.style.borderColor="#f5a302")},onMouseLeave:g=>{n!=="overview"&&(g.target.style.backgroundColor="#033c59",g.target.style.borderColor="#005479")},children:"Overview"}),v.jsx("button",{onClick:()=>s("log"),style:m(n==="log"),onMouseEnter:g=>{n!=="log"&&(g.target.style.backgroundColor="#005479",g.target.style.borderColor="#f5a302")},onMouseLeave:g=>{n!=="log"&&(g.target.style.backgroundColor="#033c59",g.target.style.borderColor="#005479")},children:"Log Miles"}),v.jsx("button",{onClick:()=>s("history"),style:m(n==="history"),onMouseEnter:g=>{n!=="history"&&(g.target.style.backgroundColor="#005479",g.target.style.borderColor="#f5a302")},onMouseLeave:g=>{n!=="history"&&(g.target.style.backgroundColor="#033c59",g.target.style.borderColor="#005479")},children:"My Rides"}),v.jsx("button",{onClick:()=>s("leaderboard"),style:m(n==="leaderboard"),onMouseEnter:g=>{n!=="leaderboard"&&(g.target.style.backgroundColor="#005479",g.target.style.borderColor="#f5a302")},onMouseLeave:g=>{n!=="leaderboard"&&(g.target.style.backgroundColor="#033c59",g.target.style.borderColor="#005479")},children:"Leaderboard"}),((o==null?void 0:o.role)==="team_admin"||(o==null?void 0:o.role)==="admin")&&v.jsx("button",{onClick:()=>s("teams"),style:m(n==="teams"),onMouseEnter:g=>{n!=="teams"&&(g.target.style.backgroundColor="#005479",g.target.style.borderColor="#f5a302")},onMouseLeave:g=>{n!=="teams"&&(g.target.style.backgroundColor="#033c59",g.target.style.borderColor="#005479")},children:"Team Management"}),(o==null?void 0:o.role)==="admin"&&v.jsx("button",{onClick:()=>s("admin"),style:m(n==="admin"),onMouseEnter:g=>{n!=="admin"&&(g.target.style.backgroundColor="#005479",g.target.style.borderColor="#f5a302")},onMouseLeave:g=>{n!=="admin"&&(g.target.style.backgroundColor="#033c59",g.target.style.borderColor="#005479")},children:"App Administration"})]}),n==="overview"&&v.jsx(j3,{currentUser:r,userProfile:o}),n==="log"&&v.jsx(O3,{}),n==="history"&&v.jsx(V3,{}),n==="leaderboard"&&v.jsx(U3,{}),n==="teams"&&v.jsx(CE,{}),n==="admin"&&v.jsx(P3,{})]})})}function B3(){const{currentUser:r}=Bo();return v.jsxs(e2,{children:[v.jsx(Xl,{path:"/login",element:v.jsx(I3,{})}),v.jsx(Xl,{path:"/register",element:v.jsx(N3,{})}),v.jsx(Xl,{path:"/dashboard",element:r?v.jsx(z3,{}):v.jsx(Kv,{to:"/login"})}),v.jsx(Xl,{path:"/",element:v.jsx(Kv,{to:r?"/dashboard":"/login"})})]})}function q3(){return v.jsx(YD,{children:v.jsx(w2,{basename:"/RideOn",children:v.jsx(B3,{})})})}uS.createRoot(document.getElementById("root")).render(v.jsx(P.StrictMode,{children:v.jsx(q3,{})}));
